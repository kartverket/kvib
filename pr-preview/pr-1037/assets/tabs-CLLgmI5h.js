import{c as ee}from"./create-slot-recipe-context-ChV7OG0U.js";import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as f}from"./index-BqsZ9I6k.js";import{a as R,c as te}from"./index-0TWAmYWa.js";import{v as ae,w as k,r as T,a as ne,k as B,c as U,f as y,x as oe,y as se,s as re,o as ie,z as ce,A as ue,B as le,C as de,D as pe,E as fe,F as ge,G as me,H as ve}from"./index-HrBoNtfU.js";import{j as Te,m as P,a as N,c as ye,s as be,l as Pe,k as Ne}from"./factory-D4yCxYv5.js";import{c as x,a as D,u as Ee,n as Ce}from"./index-CwUvXGRn.js";import{u as he}from"./use-environment-context-C8ubon-d.js";function Re(e,t){const{state:n,send:a,context:s}=e,o=n.matches("mounted","unmountSuspended");return{skip:!s.get("initial"),present:o,setNode(r){r&&a({type:"NODE.SET",node:r})},unmount(){a({type:"UNMOUNT"})}}}var Ae=Te({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",ne(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:a})=>{const s=a("present");if(s)return n({type:"MOUNT",src:"presence.changed"});const o=t.get("node");if(!s&&(o==null?void 0:o.ownerDocument.visibilityState)==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});T(()=>{var c,d;const r=S(t.get("styles"));e.set("unmountAnimationName",r),r==="none"||r===e.get("prevAnimationName")||((c=t.get("styles"))==null?void 0:c.display)==="none"||((d=t.get("styles"))==null?void 0:d.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{T(()=>{e.set("prevAnimationName",S(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n})=>{const a=t.get("node");if(!a)return;const s=c=>{var l,g;(((g=(l=c.composedPath)==null?void 0:l.call(c))==null?void 0:g[0])??c.target)===a&&e.set("prevAnimationName",S(t.get("styles")))},o=c=>{const d=S(t.get("styles"));B(c)===a&&d===e.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};a.addEventListener("animationstart",s),a.addEventListener("animationcancel",o),a.addEventListener("animationend",o);const r=ae(a,{animationFillMode:"forwards"});return()=>{a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",o),a.removeEventListener("animationend",o),k(()=>r())}}}}});function S(e){return(e==null?void 0:e.animationName)||"none"}x()(["onExitComplete","present","immediate"]);function Ve(e,t={}){const{sync:n=!1}=t,a=Ie(e);return f.useCallback((...s)=>{var o;return n?queueMicrotask(()=>{var r;return(r=a.current)==null?void 0:r.call(a,...s)}):(o=a.current)==null?void 0:o.call(a,...s)},[n,a])}function Ie(e){const t=f.useRef(e);return t.current=e,t}const Se=(e={})=>{const{lazyMount:t,unmountOnExit:n,present:a,skipAnimationOnMount:s=!1,...o}=e,r=f.useRef(!1),c={...o,present:a,onExitComplete:Ve(e.onExitComplete)},d=D(Ae,c),l=Re(d);l.present&&(r.current=!0);const g=!l.present&&!r.current&&t||n&&!l.present&&r.current,I=()=>({"data-state":l.skip&&s?void 0:a?"open":"closed",hidden:!l.present});return{ref:l.setNode,getPresenceProps:I,present:l.present,unmounted:g}},[we,et]=U({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),[$,xe]=U({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),j=e=>R()(e,["lazyMount","unmountOnExit"]),[W,O]=U({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),H=f.forwardRef((e,t)=>{const[n,a]=R()(e,["value"]),s=O(),o=xe(),r=Se({...o,present:s.value===e.value,immediate:!0}),c=P(s.getContentProps(n),r.getPresenceProps(),a);return p.jsx(we,{value:r,children:r.unmounted?null:p.jsx(N.div,{...c,ref:ye(r.ref,t)})})});H.displayName="TabContent";const X=f.forwardRef((e,t)=>{const n=O(),a=P(n.getIndicatorProps(),e);return p.jsx(N.div,{...a,ref:t})});X.displayName="TabIndicator";const G=f.forwardRef((e,t)=>{const n=O(),a=P(n.getListProps(),e);return p.jsx(N.div,{...a,ref:t})});G.displayName="TabList";const K=f.forwardRef((e,t)=>{const[n,a]=R()(e,["disabled","value"]),s=O(),o=P(s.getTriggerProps(n),a);return p.jsx(N.button,{...o,ref:t})});K.displayName="TabTrigger";var Oe=te("tabs").parts("root","list","trigger","content","indicator"),C=Oe.build(),Fe=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`tabs:${e.id}`},h=e=>{var t;return((t=e.ids)==null?void 0:t.list)??`tabs:${e.id}:list`},L=(e,t)=>{var n,a;return((a=(n=e.ids)==null?void 0:n.content)==null?void 0:a.call(n,t))??`tabs:${e.id}:content-${t}`},b=(e,t)=>{var n,a;return((a=(n=e.ids)==null?void 0:n.trigger)==null?void 0:a.call(n,t))??`tabs:${e.id}:trigger-${t}`},z=e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`tabs:${e.id}:indicator`},Le=e=>e.getById(h(e)),Ue=(e,t)=>e.getById(L(e,t)),w=(e,t)=>e.getById(b(e,t)),M=e=>e.getById(z(e)),A=e=>{const n=`[role=tab][data-ownedby='${CSS.escape(h(e))}']:not([disabled])`;return ve(Le(e),n)},_e=e=>Ne(A(e)),Me=e=>Pe(A(e)),ke=(e,t)=>fe(A(e),b(e,t.value),t.loopFocus),Be=(e,t)=>pe(A(e),b(e,t.value),t.loopFocus),q=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),De=(e,t)=>{const n=me(A(e),b(e,t));return Y(q(n))},Y=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function $e(e,t){const{state:n,send:a,context:s,prop:o,scope:r}=e,c=o("translations"),d=n.matches("focused"),l=o("orientation")==="vertical",g=o("orientation")==="horizontal",I=o("composite");function _(i){return{selected:s.get("value")===i.value,focused:s.get("focusedValue")===i.value,disabled:!!i.disabled}}return{value:s.get("value"),focusedValue:s.get("focusedValue"),setValue(i){a({type:"SET_VALUE",value:i})},clearValue(){a({type:"CLEAR_VALUE"})},setIndicatorRect(i){const u=b(r,i);a({type:"SET_INDICATOR_RECT",id:u})},syncTabIndex(){a({type:"SYNC_TAB_INDEX"})},selectNext(i){a({type:"TAB_FOCUS",value:i,src:"selectNext"}),a({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(i){a({type:"TAB_FOCUS",value:i,src:"selectPrev"}),a({type:"ARROW_PREV",src:"selectPrev"})},focus(){var u;const i=s.get("value");i&&((u=w(r,i))==null||u.focus())},getRootProps(){return t.element({...C.root.attrs,id:Fe(r),"data-orientation":o("orientation"),"data-focus":y(d),dir:o("dir")})},getListProps(){return t.element({...C.list.attrs,id:h(r),role:"tablist",dir:o("dir"),"data-focus":y(d),"aria-orientation":o("orientation"),"data-orientation":o("orientation"),"aria-label":c==null?void 0:c.listLabel,onKeyDown(i){if(i.defaultPrevented||re(i)||!ie(i.currentTarget,B(i)))return;const u={ArrowDown(){g||a({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){g||a({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){l||a({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){l||a({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){a({type:"HOME"})},End(){a({type:"END"})}};let m=ce(i,{dir:o("dir"),orientation:o("orientation")});const v=u[m];if(v){i.preventDefault(),v(i);return}}})},getTriggerState:_,getTriggerProps(i){const{value:u,disabled:m}=i,v=_(i);return t.button({...C.trigger.attrs,role:"tab",type:"button",disabled:m,dir:o("dir"),"data-orientation":o("orientation"),"data-disabled":y(m),"aria-disabled":m,"data-value":u,"aria-selected":v.selected,"data-selected":y(v.selected),"data-focus":y(v.focused),"aria-controls":v.selected?L(r,u):void 0,"data-ownedby":h(r),"data-ssr":y(s.get("ssr")),id:b(r,u),tabIndex:v.selected&&I?0:-1,onFocus(){a({type:"TAB_FOCUS",value:u})},onBlur(E){const F=E.relatedTarget;(F==null?void 0:F.getAttribute("role"))!=="tab"&&a({type:"TAB_BLUR"})},onClick(E){E.defaultPrevented||oe(E)||m||(se()&&E.currentTarget.focus(),a({type:"TAB_CLICK",value:u}))}})},getContentProps(i){const{value:u}=i,m=s.get("value")===u;return t.element({...C.content.attrs,dir:o("dir"),id:L(r,u),tabIndex:I?0:-1,"aria-labelledby":b(r,u),role:"tabpanel","data-ownedby":h(r),"data-selected":y(m),"data-orientation":o("orientation"),hidden:!m})},getIndicatorProps(){const i=s.get("indicatorRect"),u=s.get("indicatorTransition");return t.element({id:z(r),...C.indicator.attrs,dir:o("dir"),"data-orientation":o("orientation"),style:{"--transition-property":"left, right, top, bottom, width, height","--left":i.left,"--top":i.top,"--width":i.width,"--height":i.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:u?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[g?"left":"top"]:g?"var(--left)":"var(--top)"}})}}}var{createMachine:je}=be(),We=je({props({props:e}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){ge(t.node)},defaultValue:null,...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var a;(a=e("onValueChange"))==null||a({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){var a;(a=e("onFocusChange"))==null||a({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorTransition:t(()=>({defaultValue:!1})),indicatorRect:t(()=>({defaultValue:{left:"0px",top:"0px",width:"0px",height:"0px"}}))}},watch({context:e,prop:t,track:n,action:a}){n([()=>e.get("value")],()=>{a(["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{a(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){T(()=>{const n=e.get("focusedValue");if(!n)return;const s=t("deselectable")&&e.get("value")===n?null:n;e.set("value",s)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){const a=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",a?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){T(()=>{var t;(t=_e(e))==null||t.focus()})},focusLastTab({scope:e}){T(()=>{var t;(t=Me(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:n,event:a}){const s=a.value??e.get("focusedValue");if(!s)return;const o=ke(n,{value:s,loopFocus:t("loopFocus")});T(()=>{t("composite")?o==null||o.focus():(o==null?void 0:o.dataset.value)!=null&&e.set("focusedValue",o.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:a}){const s=a.value??e.get("focusedValue");if(!s)return;const o=Be(n,{value:s,loopFocus:t("loopFocus")});T(()=>{t("composite")?o==null||o.focus():(o==null?void 0:o.dataset.value)!=null&&e.set("focusedValue",o.dataset.value)})},syncTabIndex({context:e,scope:t}){T(()=>{const n=e.get("value");if(!n)return;const a=Ue(t,n);if(!a)return;de(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){const t=e.get("indicatorCleanup");t&&t()},allowIndicatorTransition({context:e}){e.set("indicatorTransition",!0)},setIndicatorRect({context:e,event:t,scope:n}){const a=t.id??e.get("value");if(!M(n))return;if(!a){e.set("indicatorTransition",!1);return}w(n,a)&&(e.set("indicatorRect",De(n,a)),k(()=>{e.set("indicatorTransition",!1)}))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){const a=t.get("indicatorCleanup");a&&a();const s=e.get("value");if(!s){e.set("indicatorTransition",!1);return}const o=w(n,s),r=M(n);if(!o||!r)return;const c=le([o],{measure(d){return q(d)},onEntry({rects:d}){const[l]=d;e.set("indicatorRect",Y(l))}});t.set("indicatorCleanup",c)},navigateIfNeeded({context:e,prop:t,scope:n}){var o;const a=e.get("value");if(!a)return;const s=w(n,a);ue(s)&&((o=t("navigate"))==null||o({value:a,node:s,href:s.href}))}}}});x()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);x()(["disabled","value"]);x()(["value"]);const He=e=>{const t=f.useId(),{getRootNode:n}=he(),{dir:a}=Ee(),s={id:t,dir:a,getRootNode:n,...e},o=D(We,s);return $e(o,Ce)},J=f.forwardRef((e,t)=>{const[n,a]=j(e),[s,o]=R()(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),r=He(s),c=P(r.getRootProps(),o);return p.jsx(W,{value:r,children:p.jsx($,{value:n,children:p.jsx(N.div,{...c,ref:t})})})});J.displayName="TabsRoot";const Q=f.forwardRef((e,t)=>{const[n,a]=j(e),[{value:s},o]=R()(a,["value"]),r=P(s.getRootProps(),o);return p.jsx(W,{value:s,children:p.jsx($,{value:n,children:p.jsx(N.div,{...r,ref:t})})})});Q.displayName="TabsRootProvider";const{withProvider:Z,withContext:V,useStyles:tt,PropsProvider:Xe}=ee({key:"tabs"}),at=Z(Q,"root",{forwardAsChild:!0}),nt=Z(J,"root",{forwardAsChild:!0}),ot=Xe,st=V(K,"trigger",{forwardAsChild:!0}),rt=V(H,"content",{forwardAsChild:!0}),it=V("div","contentGroup"),ct=V(G,"list",{forwardAsChild:!0}),ut=V(X,"indicator",{forwardAsChild:!0});export{we as P,$ as R,nt as T,ct as a,st as b,rt as c,Ve as d,et as e,Se as f,O as g,it as h,ut as i,ot as j,at as k,tt as l,He as m,j as s,xe as u};

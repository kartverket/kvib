import{a5 as W,a6 as P,aj as y,av as R,ax as H,d as X,e as K,q,a7 as G,a8 as Y,a9 as z,aa as J,aL as Q,w as A,f,ag as Z,k as ee,n as te,C as oe,o as ae,p as re,r as v,y as F,aq as se,t as w,H as ne,B as ie,a3 as ce,aF as le,ay as L,az as ue,aG as de,a1 as ge}from"./create-slot-recipe-context-BTQZ2sOO.js";import{j as g}from"./jsx-runtime-CQsLhzk5.js";import{r as b}from"./index-Wp2u197Z.js";import{u as fe,s as _,R as O}from"./render-strategy-DMgwFXGN.js";import{t as pe}from"./index-BR8t6gqn.js";import{u as be,P as Te}from"./use-presence-context-BGW81W3x.js";const[B,h]=W({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),k=b.forwardRef((e,o)=>{const[t,a]=P()(e,["value"]),n=h(),c=fe(),i=be({...c,present:n.value===e.value,immediate:!0}),T=y(n.getContentProps(t),i.getPresenceProps(),a);return g.jsx(Te,{value:i,children:i.unmounted?null:g.jsx(R.div,{...T,ref:H(i.ref,o)})})});k.displayName="TabContent";const x=b.forwardRef((e,o)=>{const t=h(),a=y(t.getIndicatorProps(),e);return g.jsx(R.div,{...a,ref:o})});x.displayName="TabIndicator";const $=b.forwardRef((e,o)=>{const t=h(),a=y(t.getListProps(),e);return g.jsx(R.div,{...a,ref:o})});$.displayName="TabList";const j=b.forwardRef((e,o)=>{const[t,a]=P()(e,["disabled","value"]),n=h(),c=y(n.getTriggerProps(t),a);return g.jsx(R.button,{...c,ref:o})});j.displayName="TabTrigger";const ve=e=>e.children(h());var ye=X("tabs").parts("root","list","trigger","content","indicator"),C=ye.build(),r=K({getRootId:e=>{var o;return((o=e.ids)==null?void 0:o.root)??`tabs:${e.id}`},getListId:e=>{var o;return((o=e.ids)==null?void 0:o.list)??`tabs:${e.id}:list`},getContentId:(e,o)=>{var t;return((t=e.ids)==null?void 0:t.content)??`tabs:${e.id}:content-${o}`},getTriggerId:(e,o)=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`tabs:${e.id}:trigger-${o}`},getIndicatorId:e=>{var o;return((o=e.ids)==null?void 0:o.indicator)??`tabs:${e.id}:indicator`},getListEl:e=>r.getById(e,r.getListId(e)),getContentEl:(e,o)=>r.getById(e,r.getContentId(e,o)),getTriggerEl:(e,o)=>r.getById(e,r.getTriggerId(e,o)),getIndicatorEl:e=>r.getById(e,r.getIndicatorId(e)),getElements:e=>{const t=`[role=tab][data-ownedby='${CSS.escape(r.getListId(e))}']:not([disabled])`;return q(r.getListEl(e),t)},getFirstTriggerEl:e=>G(r.getElements(e)),getLastTriggerEl:e=>Y(r.getElements(e)),getNextTriggerEl:(e,o)=>z(r.getElements(e),r.getTriggerId(e,o),e.loopFocus),getPrevTriggerEl:(e,o)=>J(r.getElements(e),r.getTriggerId(e,o),e.loopFocus),getSelectedContentEl:e=>{if(e.value)return r.getContentEl(e,e.value)},getSelectedTriggerEl:e=>{if(e.value)return r.getTriggerEl(e,e.value)},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,o)=>{const t=Q(r.getElements(e),r.getTriggerId(e,o));return r.resolveRect(r.getOffsetRect(t))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function Re(e,o,t){const a=e.context.translations,n=e.matches("focused"),c=e.context.orientation==="vertical",i=e.context.orientation==="horizontal",T=e.context.composite,I=e.context.indicatorState;function S(s){return{selected:e.context.value===s.value,focused:e.context.focusedValue===s.value,disabled:!!s.disabled}}return{value:e.context.value,focusedValue:e.context.focusedValue,setValue(s){o({type:"SET_VALUE",value:s})},clearValue(){o({type:"CLEAR_VALUE"})},setIndicatorRect(s){const l=r.getTriggerId(e.context,s);o({type:"SET_INDICATOR_RECT",id:l})},syncTabIndex(){o("SYNC_TAB_INDEX")},selectNext(s){o({type:"TAB_FOCUS",value:s,src:"selectNext"}),o({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(s){o({type:"TAB_FOCUS",value:s,src:"selectPrev"}),o({type:"ARROW_PREV",src:"selectPrev"})},focus(){var s;(s=r.getSelectedTriggerEl(e.context))==null||s.focus()},getRootProps(){return t.element({...C.root.attrs,id:r.getRootId(e.context),"data-orientation":e.context.orientation,"data-focus":f(n),dir:e.context.dir})},getListProps(){return t.element({...C.list.attrs,id:r.getListId(e.context),role:"tablist",dir:e.context.dir,"data-focus":f(n),"aria-orientation":e.context.orientation,"data-orientation":e.context.orientation,"aria-label":a==null?void 0:a.listLabel,onKeyDown(s){if(s.defaultPrevented||!Z(s)||ee(s))return;const l={ArrowDown(){i||o({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){i||o({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||o({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||o({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){o("HOME")},End(){o("END")},Enter(){o({type:"ENTER"})}};let u=te(s,e.context);const d=l[u];d&&(s.preventDefault(),d(s))}})},getTriggerState:S,getTriggerProps(s){const{value:l,disabled:u}=s,d=S(s);return t.button({...C.trigger.attrs,role:"tab",type:"button",disabled:u,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":f(u),"aria-disabled":u,"data-value":l,"aria-selected":d.selected,"data-selected":f(d.selected),"data-focus":f(d.focused),"aria-controls":d.selected?r.getContentId(e.context,l):void 0,"data-ownedby":r.getListId(e.context),"data-ssr":f(e.context.ssr),id:r.getTriggerId(e.context,l),tabIndex:d.selected&&T?0:-1,onFocus(){o({type:"TAB_FOCUS",value:l})},onBlur(m){const V=m.relatedTarget;(V==null?void 0:V.getAttribute("role"))!=="tab"&&o({type:"TAB_BLUR"})},onClick(m){m.defaultPrevented||u||(oe()&&m.currentTarget.focus(),o({type:"TAB_CLICK",value:l}))}})},getContentProps(s){const{value:l}=s,u=e.context.value===l;return t.element({...C.content.attrs,dir:e.context.dir,id:r.getContentId(e.context,l),tabIndex:T?0:-1,"aria-labelledby":r.getTriggerId(e.context,l),role:"tabpanel","data-ownedby":r.getListId(e.context),"data-selected":f(u),"data-orientation":e.context.orientation,hidden:!u})},getIndicatorProps(){var s,l,u,d;return t.element({id:r.getIndicatorId(e.context),...C.indicator.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,style:{"--transition-property":"left, right, top, bottom, width, height","--left":(s=I.rect)==null?void 0:s.left,"--top":(l=I.rect)==null?void 0:l.top,"--width":(u=I.rect)==null?void 0:u.width,"--height":(d=I.rect)==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:I.transition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[i?"left":"top"]:i?"var(--left)":"var(--top)"}})}}}var{not:Ie}=ne;function Ce(e){const o=ae(e);return re({initial:"idle",context:{dir:"ltr",orientation:"horizontal",activationMode:"automatic",value:null,loopFocus:!0,composite:!0,...o,focusedValue:o.value??null,ssr:!0,indicatorState:{rendered:!1,transition:!1,rect:{left:"0px",top:"0px",width:"0px",height:"0px"}}},watch:{value:["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","clickIfLink"],dir:["syncIndicatorRect"],orientation:["syncIndicatorRect"]},on:{SET_VALUE:{actions:"setValue"},CLEAR_VALUE:{actions:"clearValue"},SET_INDICATOR_RECT:{actions:"setIndicatorRect"},SYNC_TAB_INDEX:{actions:"syncTabIndex"}},created:["syncFocusedValue"],entry:["checkRenderedElements","syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:"setFocusedValue"},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:"focusPrevTab"}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:"focusNextTab"}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:"focusFirstTab"}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:"focusLastTab"}],ENTER:{guard:Ie("selectOnFocus"),actions:"selectFocusedTab"},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{selectOnFocus:t=>t.activationMode==="automatic"},actions:{syncFocusedValue(t){t.value!=null&&t.focusedValue==null&&(t.focusedValue=t.value)},selectFocusedTab(t){v(()=>{const n=t.deselectable&&t.value===t.focusedValue?null:t.focusedValue;p.value(t,n)})},setFocusedValue(t,a){a.value!=null&&p.focusedValue(t,a.value)},clearFocusedValue(t){p.focusedValue(t,null)},setValue(t,a){const c=t.deselectable&&t.value===t.focusedValue?null:a.value;p.value(t,c)},clearValue(t){p.value(t,null)},focusFirstTab(t){v(()=>{var a;(a=r.getFirstTriggerEl(t))==null||a.focus()})},focusLastTab(t){v(()=>{var a;(a=r.getLastTriggerEl(t))==null||a.focus()})},focusNextTab(t){if(!t.focusedValue)return;const a=r.getNextTriggerEl(t,t.focusedValue);v(()=>{t.composite?a==null||a.focus():(a==null?void 0:a.dataset.value)!=null&&p.focusedValue(t,a.dataset.value)})},focusPrevTab(t){if(!t.focusedValue)return;const a=r.getPrevTriggerEl(t,t.focusedValue);v(()=>{t.composite?a==null||a.focus():(a==null?void 0:a.dataset.value)!=null&&p.focusedValue(t,a.dataset.value)})},checkRenderedElements(t){t.indicatorState.rendered=!!r.getIndicatorEl(t)},syncTabIndex(t){v(()=>{const a=r.getSelectedContentEl(t);if(!a)return;ie(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0")})},cleanupObserver(t){var a;(a=t.indicatorCleanup)==null||a.call(t)},allowIndicatorTransition(t){t.indicatorState.transition=!0},setIndicatorRect(t,a){const n=a.id??t.value;!t.indicatorState.rendered||!n||!r.getTriggerEl(t,n)||(t.indicatorState.rect=r.getRectById(t,n),F(()=>{t.indicatorState.transition=!1}))},syncSsr(t){t.ssr=!1},syncIndicatorRect(t){var c;(c=t.indicatorCleanup)==null||c.call(t);const a=t.value;if(!t.indicatorState.rendered||!a)return;const n=r.getSelectedTriggerEl(t);n&&(t.indicatorCleanup=pe(n,{getRect(i){return r.getOffsetRect(i)},onChange(i){t.indicatorState.rect=r.resolveRect(i),F(()=>{t.indicatorState.transition=!1})}}))},clickIfLink(t){se(r.getSelectedTriggerEl(t))}}})}var N={change:e=>{var o;e.value!=null&&((o=e.onValueChange)==null||o.call(e,{value:e.value}))},focusChange:e=>{var o;e.focusedValue!=null&&((o=e.onFocusChange)==null||o.call(e,{focusedValue:e.focusedValue}))}},p={value:(e,o)=>{w(o,e.value)||(e.value=o,N.change(e))},focusedValue:(e,o)=>{w(o,e.focusedValue)||(e.focusedValue=o,N.focusChange(e))}};A()(["activationMode","composite","dir","getRootNode","id","ids","loopFocus","onFocusChange","onValueChange","orientation","translations","deselectable","value"]);A()(["disabled","value"]);A()(["value"]);const he=(e={})=>{const{getRootNode:o}=ce(),{dir:t}=le(),a={id:b.useId(),dir:t,getRootNode:o,value:e.defaultValue,...e},n={...a,value:e.value,onValueChange:L(e.onValueChange,{sync:!0}),onFocusChange:L(e.onFocusChange)},[c,i]=ue(Ce(a),{context:n});return Re(c,i,de)},U=b.forwardRef((e,o)=>{const[t,a]=_(e),[n,c]=P()(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","onFocusChange","onValueChange","orientation","translations","value"]),i=he(n),T=y(i.getRootProps(),c);return g.jsx(B,{value:i,children:g.jsx(O,{value:t,children:g.jsx(R.div,{...T,ref:o})})})});U.displayName="TabsRoot";const D=b.forwardRef((e,o)=>{const[t,a]=_(e),[{value:n},c]=P()(a,["value"]),i=y(n.getRootProps(),c);return g.jsx(B,{value:n,children:g.jsx(O,{value:t,children:g.jsx(R.div,{...i,ref:o})})})});D.displayName="TabsRootProvider";const{withProvider:M,withContext:E,useStyles:we,PropsProvider:Ee}=ge({key:"tabs"}),Le=M(D,"root",{forwardAsChild:!0}),Ne=M(U,"root",{forwardAsChild:!0}),_e=Ee,Oe=E(j,"trigger",{forwardAsChild:!0}),Be=E(k,"content",{forwardAsChild:!0}),ke=E("div","contentGroup"),xe=E($,"list",{forwardAsChild:!0}),$e=E(x,"indicator",{forwardAsChild:!0}),je=ve;export{Ne as T,xe as a,Oe as b,Be as c,ke as d,je as e,$e as f,_e as g,Le as h};

import{j as d}from"./jsx-runtime-CQsLhzk5.js";import{r as l}from"./index-Wp2u197Z.js";import{c as M}from"./create-slot-recipe-context-Ct7AJ-u_.js";import{c as b}from"./factory-DbxLU_Fv.js";import{d as $}from"./attr-C3Jtgmrz.js";import{E as q}from"./empty-DSVal0bC.js";import{u as z}from"./use-recipe-Bg1t1VCq.js";import{c as R}from"./create-context-9KvyJVA-.js";import{c as P}from"./create-split-props-u5h9OPvL.js";import{a as x}from"./factory-DzReEOQo.js";import{z as k}from"./index-Cq1GvU5P.js";import{c as D,m as T,a as Y}from"./checkbox.anatomy-u867A_q4.js";import{u as B,n as F}from"./index-CPV3pteC.js";import{u as U}from"./use-environment-context-CJHKuyB_.js";import{u as W}from"./use-locale-context-DoP-38uM.js";import{u as j}from"./use-event-BQKQuVfd.js";import{u as V}from"./use-field-context-SniSo6zJ.js";const[w,f]=R({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),S=l.forwardRef((n,o)=>{const e=f(),t=k(e.getControlProps(),n);return d.jsx(x.div,{...t,ref:o})});S.displayName="CheckboxControl";function _(n){const{value:o,onChange:e,defaultValue:t}=n,[r,c]=l.useState(t),s=o!==void 0,i=s?o:r,h=l.useCallback(u=>(s||c(u),e==null?void 0:e(u)),[s,e]);return[i,h]}function J(n={}){const{defaultValue:o,value:e,onValueChange:t,disabled:r,readOnly:c,name:s,invalid:i}=n,h=!(r||c),u=j(t,{sync:!0}),[C,p]=_({value:e,defaultValue:o||[],onChange:u}),m=a=>C.some(v=>String(v)===String(a)),g=a=>{m(a)?H(a):y(a)},y=a=>{h&&(m(a)||p(C.concat(a)))},H=a=>{h&&p(C.filter(v=>String(v)!==String(a)))};return{isChecked:m,value:C,name:s,disabled:!!r,readOnly:!!c,invalid:!!i,setValue:p,addValue:y,toggleValue:g,getItemProps:a=>({checked:a.value!=null?m(a.value):void 0,onCheckedChange(){a.value!=null&&g(a.value)},name:s,disabled:r,readOnly:c,invalid:i})}}const[K,Q]=R({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),I=l.forwardRef((n,o)=>{const[e,t]=P()(n,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),r=J(e);return d.jsx(K,{value:r,children:d.jsx(x.div,{ref:o,role:"group",...t,...D.build().group.attrs})})});I.displayName="CheckboxGroup";const N=l.forwardRef((n,o)=>{const e=f(),t=k(e.getHiddenInputProps(),n),r=V();return d.jsx(x.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...t,ref:o})});N.displayName="CheckboxHiddenInput";const G=l.forwardRef((n,o)=>{const e=f(),t=k(e.getLabelProps(),n);return d.jsx(x.span,{...t,ref:o})});G.displayName="CheckboxLabel";const X=(n={})=>{const o=Q(),e=V(),t=l.useMemo(()=>k(n,(o==null?void 0:o.getItemProps({value:n.value}))??{}),[n,o]),{getRootNode:r}=U(),{dir:c}=W(),s={id:l.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:c,disabled:e==null?void 0:e.disabled,readOnly:e==null?void 0:e.readOnly,invalid:e==null?void 0:e.invalid,required:e==null?void 0:e.required,getRootNode:r,checked:t.defaultChecked,...t},i={...s,checked:t.checked,onCheckedChange:j(t.onCheckedChange,{sync:!0})},[h,u]=B(T(s),{context:i});return Y(h,u,F)},L=l.forwardRef((n,o)=>{const[e,t]=P()(n,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),r=X(e),c=k(r.getRootProps(),t);return d.jsx(w,{value:r,children:d.jsx(x.label,{...c,ref:o})})});L.displayName="CheckboxRoot";const A=l.forwardRef((n,o)=>{const[{value:e},t]=P()(n,["value"]),r=k(e.getRootProps(),t);return d.jsx(w,{value:e,children:d.jsx(x.label,{...r,ref:o})})});A.displayName="CheckboxRootProvider";const Z=l.forwardRef(function(o,e){const t=z({key:"checkmark",recipe:o.recipe}),[r,c]=t.splitVariantProps(o),{checked:s,indeterminate:i,disabled:h,unstyled:u,children:C,...p}=c,m=u?q:t(r);return d.jsx(b.svg,{ref:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3px",strokeLinecap:"round",strokeLinejoin:"round","data-state":i?"indeterminate":s?"checked":"unchecked","data-disabled":$(h),css:[m,o.css],...p,children:i?d.jsx("path",{d:"M5 12h14"}):s?d.jsx("polyline",{points:"20 6 9 17 4 12"}):null})}),{withProvider:E,withContext:O,useStyles:ee,PropsProvider:fe}=M({key:"checkbox"});E(A,"root",{forwardAsChild:!0});const ve=E(L,"root",{forwardAsChild:!0}),Pe=O(G,"label",{forwardAsChild:!0}),ge=O(S,"control",{forwardAsChild:!0}),ye=l.forwardRef(function(o,e){const{checked:t,indeterminate:r,...c}=o,s=f(),i=ee();return t&&s.checked?d.jsx(b.svg,{ref:e,asChild:!0,...c,css:[i.indicator,o.css],children:t}):r&&s.indeterminate?d.jsx(b.svg,{ref:e,asChild:!0,...c,css:[i.indicator,o.css],children:r}):d.jsx(Z,{ref:e,checked:s.checked,indeterminate:s.indeterminate,disabled:s.disabled,unstyled:!0,...c,css:[i.indicator,o.css]})});b(I,{base:{display:"flex",flexDirection:"column",gap:"1.5"}},{forwardAsChild:!0});const Re=N;export{ve as C,Re as a,ge as b,ye as c,Pe as d};

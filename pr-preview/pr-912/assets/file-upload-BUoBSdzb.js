import{j as s}from"./jsx-runtime-sfY7k0Xq.js";import{r as a}from"./index-CcKhGcwW.js";import{c as S}from"./create-slot-recipe-context-CYF_0Bn9.js";import{c as D}from"./factory-Dr_T95xI.js";import{c as P}from"./create-context-DPShtm6F.js";import{c as f}from"./create-split-props-u5h9OPvL.js";import{a as d}from"./factory-C6a3rcZ4.js";import{z as n}from"./index-CxfNaWX6.js";import{m as k,c as E}from"./index-DOEVML1D.js";import{u as G,n as L}from"./index-C4pvfroP.js";import{u as q}from"./use-environment-context-DqdFjJyw.js";import{u as H}from"./use-locale-context-CnLnjqE7.js";import{u as U}from"./use-event-CSfbiBcH.js";import{u as g}from"./use-field-context-CcEUgBGI.js";const[I,p]=P({name:"FileUploadContext",hookName:"useFileUploadContext",providerName:"<FileUploadProvider />"}),M=o=>o.children(p()),x=a.forwardRef((o,t)=>{const r=p(),e=n(r.getDropzoneProps(),o);return s.jsx(d.div,{...e,ref:t})});x.displayName="FileUploadDropzone";const v=a.forwardRef((o,t)=>{const r=p(),e=n(r.getHiddenInputProps(),o),l=g();return s.jsx(d.input,{"aria-describedby":l==null?void 0:l.ariaDescribedby,...e,ref:t})});v.displayName="FileUploadHiddenInput";const[B,u]=P({name:"FileUploadItemPropsContext",hookName:"useFileUploadItemPropsContext",providerName:"<FileUploadItemPropsProvider />"}),w=a.forwardRef((o,t)=>{const[r,e]=f()(o,["file"]),l=p(),i=n(l.getItemProps(r),e);return s.jsx(B,{value:r,children:s.jsx(d.li,{...i,ref:t})})});w.displayName="FileUploadItem";const C=a.forwardRef((o,t)=>{const r=p(),e=u(),l=n(r.getItemDeleteTriggerProps(e),o);return s.jsx(d.button,{...l,ref:t})});C.displayName="FileUploadItemDeleteTrigger";const h=a.forwardRef((o,t)=>{const r=p(),e=n(r.getItemGroupProps(),o);return s.jsx(d.ul,{...e,ref:t})});h.displayName="FileUploadItemGroup";const R=a.forwardRef((o,t)=>{const{children:r,...e}=o,l=p(),i=u(),m=n(l.getItemNameProps(i),e);return s.jsx(d.div,{...m,ref:t,children:r||i.file.name})});R.displayName="FileUploadItemName";const j=a.forwardRef((o,t)=>{const r=p(),e=u(),l=n(r.getItemPreviewProps(e),o);return e.file.type.match(o.type??".*")?s.jsx(d.div,{...l,ref:t}):null});j.displayName="FileUploadItemPreview";const y=a.forwardRef((o,t)=>{const[r,e]=a.useState(""),l=p(),i=u(),m=n(l.getItemPreviewImageProps({...i,url:r}),o);return a.useEffect(()=>l.createFileUrl(i.file,F=>e(F)),[i,l]),s.jsx(d.img,{...m,ref:t})});y.displayName="FileUploadItemPreviewImage";const N=a.forwardRef((o,t)=>{const{children:r,...e}=o,l=p(),i=u(),m=n(l.getItemSizeTextProps(i),e);return s.jsx(d.div,{...m,ref:t,children:r||l.getFileSize(i.file)})});N.displayName="FileUploadItemSizeText";const b=a.forwardRef((o,t)=>{const r=p(),e=n(r.getLabelProps(),o);return s.jsx(d.label,{...e,ref:t})});b.displayName="FileUploadLabel";const J=(o={})=>{const{getRootNode:t}=q(),{dir:r}=H(),e=g(),l={id:a.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:r,disabled:e==null?void 0:e.disabled,required:e==null?void 0:e.required,invalid:e==null?void 0:e.invalid,getRootNode:t,...o},i={...l,onFileAccept:U(o.onFileAccept),onFileReject:U(o.onFileReject),onFileChange:U(o.onFileChange,{sync:!0})},[m,F]=G(k(l),{context:i});return E(m,F,L)},z=a.forwardRef((o,t)=>{const[r,e]=f()(o,["accept","allowDrop","capture","directory","disabled","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","required","translations","validate"]),l=J(r),i=n(l.getRootProps(),e);return s.jsx(I,{value:l,children:s.jsx(d.div,{...i,ref:t})})});z.displayName="FileUploadRoot";const T=a.forwardRef((o,t)=>{const[{value:r},e]=f()(o,["value"]),l=n(r.getRootProps(),e);return s.jsx(I,{value:r,children:s.jsx(d.div,{...l,ref:t})})});T.displayName="FileUploadRootProvider";const A=a.forwardRef((o,t)=>{const r=p(),e=n(r.getTriggerProps(),o);return s.jsx(d.button,{...e,ref:t})});A.displayName="FileUploadTrigger";const{withProvider:$,withContext:c,useStyles:ae,PropsProvider:K}=S({key:"fileUpload"}),se=$(T,"root",{forwardAsChild:!0}),de=$(z,"root",{forwardAsChild:!0}),ne=K,pe=a.forwardRef(function(t,r){const e=p();return s.jsx(D.button,{ref:r,type:"button","data-scope":"file-upload","data-part":"clear-trigger","aria-label":"Clear selected files",hidden:e.acceptedFiles.length===0,...t,onClick:l=>{var i;(i=t.onClick)==null||i.call(t,l),!l.defaultPrevented&&e.clearFiles()}})}),ce=c(x,"dropzone",{forwardAsChild:!0}),me=c("div","dropzoneContent"),ue=c(w,"item",{forwardAsChild:!0}),Fe=c("div","itemContent"),Ue=c(C,"itemDeleteTrigger",{forwardAsChild:!0}),fe=c(h,"itemGroup",{forwardAsChild:!0}),Pe=c(R,"itemName",{forwardAsChild:!0}),ge=c(j,"itemPreview",{forwardAsChild:!0}),Ie=c(y,"itemPreviewImage",{forwardAsChild:!0}),xe=c(N,"itemSizeText",{forwardAsChild:!0}),ve=c(b,"label",{forwardAsChild:!0}),we=c(A,"trigger",{forwardAsChild:!0}),Ce=M,he=v;export{de as F,he as a,ce as b,me as c,ue as d,ge as e,Fe as f,Pe as g,xe as h,Ue as i,fe as j,we as k,Ce as l,pe as m,Ie as n,ve as o,ne as p,se as q,p as u};

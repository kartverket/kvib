import{c as p}from"./index-BRNWFSEf.js";import{c as m,q as E,d as c,v as h,n as b}from"./index-C5caIrke.js";import{t as y,i as T}from"./index-DyXZFt-t.js";import{c as V,a as R,f as C,d as S,g as k}from"./index-Cq1GvU5P.js";import{t as A}from"./index-BR8t6gqn.js";import{t as F,a as D}from"./index-NfPDfnaY.js";import{c as I}from"./index-Ctx6eFvH.js";var _=p("radio-group").parts("root","label","item","itemText","itemControl","indicator"),v=_.build(),n=m({getRootId:e=>{var i;return((i=e.ids)==null?void 0:i.root)??`radio-group:${e.id}`},getLabelId:e=>{var i;return((i=e.ids)==null?void 0:i.label)??`radio-group:${e.id}:label`},getItemId:(e,i)=>{var t,a;return((a=(t=e.ids)==null?void 0:t.item)==null?void 0:a.call(t,i))??`radio-group:${e.id}:radio:${i}`},getItemHiddenInputId:(e,i)=>{var t,a;return((a=(t=e.ids)==null?void 0:t.itemHiddenInput)==null?void 0:a.call(t,i))??`radio-group:${e.id}:radio:input:${i}`},getItemControlId:(e,i)=>{var t,a;return((a=(t=e.ids)==null?void 0:t.itemControl)==null?void 0:a.call(t,i))??`radio-group:${e.id}:radio:control:${i}`},getItemLabelId:(e,i)=>{var t,a;return((a=(t=e.ids)==null?void 0:t.itemLabel)==null?void 0:a.call(t,i))??`radio-group:${e.id}:radio:label:${i}`},getIndicatorId:e=>{var i;return((i=e.ids)==null?void 0:i.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>n.getById(e,n.getRootId(e)),getItemHiddenInputEl:(e,i)=>n.getById(e,n.getItemHiddenInputId(e,i)),getIndicatorEl:e=>n.getById(e,n.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var i;return(i=n.getRootEl(e))==null?void 0:i.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var i;return(i=n.getRootEl(e))==null?void 0:i.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const t=`input[type=radio][data-ownedby='${CSS.escape(n.getRootId(e))}']:not([disabled])`;return E(n.getRootEl(e),t)},getActiveRadioEl:e=>{if(e.value)return n.getById(e,n.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,i)=>{const t=n.getById(e,n.getItemId(e,i));if(t)return n.resolveRect(n.getOffsetRect(t))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function K(e,i,t){const a=e.context.isDisabled,l=e.context.readOnly;function u(o){return{invalid:!!o.invalid,disabled:!!o.disabled||a,checked:e.context.value===o.value,focused:e.context.focusedValue===o.value,hovered:e.context.hoveredValue===o.value,active:e.context.activeValue===o.value}}function s(o){const r=u(o);return{"data-focus":c(r.focused),"data-focus-visible":c(r.focused&&e.context.focusVisible),"data-disabled":c(r.disabled),"data-readonly":c(l),"data-state":r.checked?"checked":"unchecked","data-hover":c(r.hovered),"data-invalid":c(r.invalid),"data-orientation":e.context.orientation,"data-ssr":c(e.context.ssr)}}const f=()=>{const o=n.getFirstEnabledAndCheckedInputEl(e.context);if(o){o.focus();return}const r=n.getFirstEnabledInputEl(e.context);r==null||r.focus()};return{focus:f,value:e.context.value,setValue(o){i({type:"SET_VALUE",value:o,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...v.root.attrs,role:"radiogroup",id:n.getRootId(e.context),"aria-labelledby":n.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":c(a),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}})},getLabelProps(){return t.element({...v.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":c(a),id:n.getLabelId(e.context),onClick:f})},getItemState:u,getItemProps(o){const r=u(o);return t.label({...v.item.attrs,dir:e.context.dir,id:n.getItemId(e.context,o.value),htmlFor:n.getItemHiddenInputId(e.context,o.value),...s(o),onPointerMove(){r.disabled||r.hovered||i({type:"SET_HOVERED",value:o.value,hovered:!0})},onPointerLeave(){r.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(d){r.disabled||(r.focused&&d.pointerType==="mouse"&&d.preventDefault(),i({type:"SET_ACTIVE",value:o.value,active:!0}))},onPointerUp(){r.disabled||i({type:"SET_ACTIVE",value:null})}})},getItemTextProps(o){return t.element({...v.itemText.attrs,dir:e.context.dir,id:n.getItemLabelId(e.context,o.value),...s(o)})},getItemControlProps(o){const r=u(o);return t.element({...v.itemControl.attrs,dir:e.context.dir,id:n.getItemControlId(e.context,o.value),"data-active":c(r.active),"aria-hidden":!0,...s(o)})},getItemHiddenInputProps(o){const r=u(o);return t.input({"data-ownedby":n.getRootId(e.context),id:n.getItemHiddenInputId(e.context,o.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:o.value,onClick(d){if(l){d.preventDefault();return}d.currentTarget.checked&&i({type:"SET_VALUE",value:o.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const d=T();i({type:"SET_FOCUSED",value:o.value,focused:!0,focusVisible:d})},onKeyDown(d){d.defaultPrevented||d.key===" "&&i({type:"SET_ACTIVE",value:o.value,active:!0})},onKeyUp(d){d.defaultPrevented||d.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:r.disabled,defaultChecked:r.checked,style:h})},getIndicatorProps(){var o,r,d,g;return t.element({id:n.getIndicatorId(e.context),...v.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":c(a),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(o=e.context.indicatorRect)==null?void 0:o.left,"--top":(r=e.context.indicatorRect)==null?void 0:r.top,"--width":(d=e.context.indicatorRect)==null?void 0:d.width,"--height":(g=e.context.indicatorRect)==null?void 0:g.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:$}=k;function M(e){const i=V(e);return R({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...i,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:t=>!!t.disabled||t.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:$("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(t,a)=>!!a.isTrusted},activities:{trackFormControlState(t,a,{send:l,initialContext:u}){return F(n.getRootEl(t),{onFieldsetDisabledChange(s){t.fieldsetDisabled=s},onFormReset(){l({type:"SET_VALUE",value:u.value})}})},trackFocusVisible(t){return y({root:n.getRootNode(t)})}},actions:{setValue(t,a){w.value(t,a.value)},setHovered(t,a){t.hoveredValue=a.value},setActive(t,a){t.activeValue=a.value},setFocused(t,a){t.focusedValue=a.value,t.focusVisible=a.focusVisible},syncInputElements(t){n.getInputEls(t).forEach(l=>{l.checked=l.value===t.value})},setIndicatorTransition(t){t.canIndicatorTransition=C(t.value)},cleanupObserver(t){var a;(a=t.indicatorCleanup)==null||a.call(t)},syncSsr(t){t.ssr=!1},syncIndicatorRect(t){var u;if((u=t.indicatorCleanup)==null||u.call(t),!n.getIndicatorEl(t))return;const a=t.value,l=n.getActiveRadioEl(t);if(a==null||!l){t.indicatorRect={};return}t.indicatorCleanup=A(l,{getRect(s){return n.getOffsetRect(s)},onChange(s){t.indicatorRect=n.resolveRect(s),b(()=>{t.canIndicatorTransition=!1})}})},dispatchChangeEvent(t){n.getInputEls(t).forEach(l=>{const u=l.value===t.value;u!==l.checked&&D(l,{checked:u})})}}})}var P={change:e=>{var i;e.value!=null&&((i=e.onValueChange)==null||i.call(e,{value:e.value}))}},w={value:(e,i)=>{S(e.value,i)||(e.value=i,P.change(e))}};I()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);I()(["value","disabled","invalid"]);export{_ as a,K as c,M as m};

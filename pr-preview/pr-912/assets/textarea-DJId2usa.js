import{c as f}from"./create-recipe-context-DEM4M4qP.js";import{j as v}from"./jsx-runtime-CQsLhzk5.js";import{ae as b,R as g,N as h,aj as y,av as P,ax as l}from"./create-slot-recipe-context-BTQZ2sOO.js";import{r as c}from"./index-Wp2u197Z.js";import{u as O}from"./use-field-context-B2lpNrC2.js";var w=e=>{var u;if(!e)return;const a=b(e),o=g(e),i=h(e),t=()=>{e.style.height="auto";const r=parseInt(a.borderTopWidth,10),x=parseInt(a.borderBottomWidth,10);e.style.height=`${e.scrollHeight+r+x}px`};e.addEventListener("input",t);const n=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(n,"value");Object.defineProperty(e,"value",{...s,set(){var r;(r=s==null?void 0:s.set)==null||r.apply(this,arguments),t()}});const p=new o.ResizeObserver(()=>t());p.observe(e);const d=new o.MutationObserver(()=>t());return d.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),(u=i.fonts)==null||u.addEventListener("loadingdone",t),()=>{var r;e.removeEventListener("input",t),(r=i.fonts)==null||r.removeEventListener("loadingdone",t),p.disconnect(),d.disconnect()}};const m=c.forwardRef((e,a)=>{const{autoresize:o,...i}=e,t=c.useRef(null),n=O(),s=y(n==null?void 0:n.getTextareaProps(),{style:{resize:o?"none":void 0}},i);return c.useEffect(()=>{if(o)return w(t.current)},[o]),v.jsx(P.textarea,{...s,ref:l(a,t)})});m.displayName="FieldTextarea";const{withContext:R,PropsProvider:C}=f({key:"textarea"}),F=R(m);export{F as T};

import{c as oe}from"./index-BRNWFSEf.js";import{k as le,l as x,d as ue,b as D,r as ce,i as _}from"./index-3UVeZ5B9.js";import{c as me,h as q,N as de,d as p,a as H,i as pe,y as fe,r as K}from"./index-C5caIrke.js";import{c as ge,a as be,j as he,d as w,b as ye,y as z,g as ve}from"./index-Cq1GvU5P.js";import{t as Ee}from"./index-NfPDfnaY.js";function Pe(r,t){return(r%t+t)%t}function P(r){if(typeof window.devicePixelRatio!="number")return Math.round(r);const t=window.devicePixelRatio;return Math.floor(r*t+.5)/t}function N(r,t){return Math.min(Math.max(E(r),t.min),t.max)}function G(r){if(!Number.isFinite(r))return 0;let t=1,e=0;for(;Math.round(r*t)/t!==r;)t*=10,e+=1;return e}var Ie=(r,t)=>J(E(r),"+",t),Te=(r,t)=>J(E(r),"-",t);function E(r){return Number.isNaN(r)?0:r}function Ne(r,t){return E(r)>=t.max}function Re(r,t){return E(r)<=t.min}function Se(r,t){return E(r)>=t.min&&E(r)<=t.max}function J(r,t,e){let n=t==="+"?r+e:r-e;if(r%1!==0||e%1!==0){const i=10**Math.max(G(r),G(e));r=Math.round(r*i),e=Math.round(e*i),n=t==="+"?r+e:r-e,n/=i}return n}let A=new Map,V=!1;try{V=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let C=!1;try{C=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const Q={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Ce{format(t){let e="";if(!V&&this.options.signDisplay!=null?e=Ae(this.numberFormatter,this.options.signDisplay,t):e=this.numberFormatter.format(t),this.options.style==="unit"&&!C){var n;let{unit:i,unitDisplay:s="short",locale:u}=this.resolvedOptions();if(!i)return e;let l=(n=Q[i])===null||n===void 0?void 0:n[s];e+=l[u]||l.default}return e}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,e);if(e<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(e)}`}formatRangeToParts(t,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,e);if(e<t)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(e);return[...n.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!V&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!C&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,e={}){this.numberFormatter=De(t,e),this.options=e}}function De(r,t={}){let{numberingSystem:e}=t;if(e&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${e}`),t.style==="unit"&&!C){var n;let{unit:u,unitDisplay:l="short"}=t;if(!u)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=Q[u])===null||n===void 0)&&n[l]))throw new Error(`Unsupported unit ${u} with unitDisplay = ${l}`);t={...t,style:"decimal"}}let i=r+(t?Object.entries(t).sort((u,l)=>u[0]<l[0]?-1:1).join():"");if(A.has(i))return A.get(i);let s=new Intl.NumberFormat(r,t);return A.set(i,s),s}function Ae(r,t,e){if(t==="auto")return r.format(e);if(t==="never")return r.format(Math.abs(e));{let n=!1;if(t==="always"?n=e>0||Object.is(e,0):t==="exceptZero"&&(Object.is(e,-0)||Object.is(e,0)?e=Math.abs(e):n=e>0),n){let i=r.format(-e),s=r.format(e),u=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...u].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(u,"+").replace("!!!",s)}else return r.format(e)}}const $e=new RegExp("^.*\\(.*\\).*$"),Oe=["latn","arab","hanidec"];class ee{parse(t){return $(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,e,n){return $(this.locale,this.options,t).isValidPartialNumber(t,e,n)}getNumberingSystem(t){return $(this.locale,this.options,t).options.numberingSystem}constructor(t,e={}){this.locale=t,this.options=e}}const B=new Map;function $(r,t,e){let n=k(r,t);if(!r.includes("-nu-")&&!n.isValidPartialNumber(e)){for(let i of Oe)if(i!==n.options.numberingSystem){let s=k(r+(r.includes("-u-")?"-nu-":"-u-nu-")+i,t);if(s.isValidPartialNumber(e))return s}}return n}function k(r,t){let e=r+(t?Object.entries(t).sort((i,s)=>i[0]<s[0]?-1:1).join():""),n=B.get(e);return n||(n=new we(r,t),B.set(e,n)),n}class we{parse(t){let e=this.sanitize(t);if(this.symbols.group&&(e=R(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=e.indexOf("-");e=e.replace("-","");let l=e.indexOf(".");l===-1&&(l=e.length),e=e.replace(".",""),l-2===0?e=`0.${e}`:l-2===-1?e=`0.0${e}`:l-2===-2?e="0.00":e=`${e.slice(0,l-2)}.${e.slice(l-2)}`,u>-1&&(e=`-${e}`)}let n=e?+e:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,s;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new ee(this.locale,u).parse(new Ce(this.locale,u).format(n))}return this.options.currencySign==="accounting"&&$e.test(t)&&(n=-1*n),n}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=R(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&(t=R(t,"."," ")),t}isValidPartialNumber(t,e=-1/0,n=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&e<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&n>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=R(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,e={}){this.locale=t,this.formatter=new Intl.NumberFormat(t,e),this.options=this.formatter.resolvedOptions(),this.symbols=Me(t,this.formatter,this.options,e);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const W=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ve=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Me(r,t,e,n){var i,s,u,l;let d=new Intl.NumberFormat(r,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21}),f=d.formatToParts(-10000.111),I=d.formatToParts(10000.111),a=Ve.map(c=>d.formatToParts(c));var m;let T=(m=(i=f.find(c=>c.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&m!==void 0?m:"-",g=(s=I.find(c=>c.type==="plusSign"))===null||s===void 0?void 0:s.value;!g&&((n==null?void 0:n.signDisplay)==="exceptZero"||(n==null?void 0:n.signDisplay)==="always")&&(g="+");let L=(u=new Intl.NumberFormat(r,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(c=>c.type==="decimal"))===null||u===void 0?void 0:u.value,te=(l=f.find(c=>c.type==="group"))===null||l===void 0?void 0:l.value,re=f.filter(c=>!W.has(c.type)).map(c=>j(c.value)),ne=a.flatMap(c=>c.filter(y=>!W.has(y.type)).map(y=>j(y.value))),U=[...new Set([...re,...ne])].sort((c,y)=>y.length-c.length),ie=U.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${U.join("|")}|[\\p{White_Space}]`,"gu"),F=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),se=new Map(F.map((c,y)=>[c,y])),ae=new RegExp(`[${F.join("")}]`,"g");return{minusSign:T,plusSign:g,decimal:L,group:te,literals:ie,numeral:ae,index:c=>String(se.get(c))}}function R(r,t,e){return r.replaceAll?r.replaceAll(t,e):r.split(t).join(e)}function j(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Le=oe("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),h=Le.build(),o=me({getRootId:r=>{var t;return((t=r.ids)==null?void 0:t.root)??`number-input:${r.id}`},getInputId:r=>{var t;return((t=r.ids)==null?void 0:t.input)??`number-input:${r.id}:input`},getIncrementTriggerId:r=>{var t;return((t=r.ids)==null?void 0:t.incrementTrigger)??`number-input:${r.id}:inc`},getDecrementTriggerId:r=>{var t;return((t=r.ids)==null?void 0:t.decrementTrigger)??`number-input:${r.id}:dec`},getScrubberId:r=>{var t;return((t=r.ids)==null?void 0:t.scrubber)??`number-input:${r.id}:scrubber`},getCursorId:r=>`number-input:${r.id}:cursor`,getLabelId:r=>{var t;return((t=r.ids)==null?void 0:t.label)??`number-input:${r.id}:label`},getInputEl:r=>o.getById(r,o.getInputId(r)),getIncrementTriggerEl:r=>o.getById(r,o.getIncrementTriggerId(r)),getDecrementTriggerEl:r=>o.getById(r,o.getDecrementTriggerId(r)),getScrubberEl:r=>o.getById(r,o.getScrubberId(r)),getCursorEl:r=>o.getDoc(r).getElementById(o.getCursorId(r)),getPressedTriggerEl:(r,t=r.hint)=>{let e=null;return t==="increment"&&(e=o.getIncrementTriggerEl(r)),t==="decrement"&&(e=o.getDecrementTriggerEl(r)),e},setupVirtualCursor(r){if(!q())return o.createVirtualCursor(r),()=>{var t;(t=o.getCursorEl(r))==null||t.remove()}},preventTextSelection(r){const t=o.getDoc(r),e=t.documentElement,n=t.body;return n.style.pointerEvents="none",e.style.userSelect="none",e.style.cursor="ew-resize",()=>{n.style.pointerEvents="",e.style.userSelect="",e.style.cursor="",e.style.length||e.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},getMousementValue(r,t){const e=P(t.movementX),n=P(t.movementY);let i=e>0?"increment":e<0?"decrement":null;r.isRtl&&i==="increment"&&(i="decrement"),r.isRtl&&i==="decrement"&&(i="increment");const s={x:r.scrubberCursorPoint.x+e,y:r.scrubberCursorPoint.y+n},l=o.getWin(r).innerWidth,d=P(7.5);return s.x=Pe(s.x+d,l)-d,{hint:i,point:s}},createVirtualCursor(r){const t=o.getDoc(r),e=t.createElement("div");e.className="scrubber--cursor",e.id=o.getCursorId(r),Object.assign(e.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:de,transform:r.scrubberCursorPoint?`translate3d(${r.scrubberCursorPoint.x}px, ${r.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),e.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,t.body.appendChild(e)}});function Ze(r,t,e){const n=r.hasTag("focus"),i=r.context.isDisabled,s=r.context.readOnly,u=r.context.isValueEmpty,l=r.context.isOutOfRange||!!r.context.invalid,d=i||!r.context.canIncrement||s,f=i||!r.context.canDecrement||s,I=r.context.translations;return{focused:n,invalid:l,empty:u,value:r.context.formattedValue,valueAsNumber:r.context.valueAsNumber,setValue(a){t({type:"VALUE.SET",value:a})},clearValue(){t("VALUE.CLEAR")},increment(){t("VALUE.INCREMENT")},decrement(){t("VALUE.DECREMENT")},setToMax(){t({type:"VALUE.SET",value:r.context.max})},setToMin(){t({type:"VALUE.SET",value:r.context.min})},focus(){var a;(a=o.getInputEl(r.context))==null||a.focus()},getRootProps(){return e.element({id:o.getRootId(r.context),...h.root.attrs,dir:r.context.dir,"data-disabled":p(i),"data-focus":p(n),"data-invalid":p(l)})},getLabelProps(){return e.label({...h.label.attrs,dir:r.context.dir,"data-disabled":p(i),"data-focus":p(n),"data-invalid":p(l),id:o.getLabelId(r.context),htmlFor:o.getInputId(r.context)})},getControlProps(){return e.element({...h.control.attrs,dir:r.context.dir,role:"group","aria-disabled":i,"data-focus":p(n),"data-disabled":p(i),"data-invalid":p(l),"aria-invalid":H(r.context.invalid)})},getValueTextProps(){return e.element({...h.valueText.attrs,dir:r.context.dir,"data-disabled":p(i),"data-invalid":p(l),"data-focus":p(n)})},getInputProps(){return e.input({...h.input.attrs,dir:r.context.dir,name:r.context.name,form:r.context.form,id:o.getInputId(r.context),role:"spinbutton",defaultValue:r.context.formattedValue,pattern:r.context.pattern,inputMode:r.context.inputMode,"aria-invalid":H(l),"data-invalid":p(l),disabled:i,"data-disabled":p(i),readOnly:r.context.readOnly,required:r.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":r.context.min,"aria-valuemax":r.context.max,"aria-valuenow":Number.isNaN(r.context.valueAsNumber)?void 0:r.context.valueAsNumber,"aria-valuetext":r.context.valueText,onFocus(){t("INPUT.FOCUS")},onBlur(){t("INPUT.BLUR")},onChange(a){t({type:"INPUT.CHANGE",target:a.currentTarget,hint:"set"})},onBeforeInput(a){try{const{selectionStart:m,selectionEnd:T,value:g}=a.currentTarget,M=g.slice(0,m)+(a.data??"")+g.slice(T);r.context.parser.isValidPartialNumber(M)||a.preventDefault()}catch{}},onKeyDown(a){if(a.defaultPrevented||s||pe(a))return;const m=le(a)*r.context.step,g={ArrowUp(){t({type:"INPUT.ARROW_UP",step:m}),a.preventDefault()},ArrowDown(){t({type:"INPUT.ARROW_DOWN",step:m}),a.preventDefault()},Home(){_(a)||(t("INPUT.HOME"),a.preventDefault())},End(){_(a)||(t("INPUT.END"),a.preventDefault())},Enter(){t("INPUT.ENTER")}}[a.key];g==null||g(a)}})},getDecrementTriggerProps(){return e.button({...h.decrementTrigger.attrs,dir:r.context.dir,id:o.getDecrementTriggerId(r.context),disabled:f,"data-disabled":p(f),"aria-label":I.decrementLabel,type:"button",tabIndex:-1,"aria-controls":o.getInputId(r.context),onPointerDown(a){var m;f||!x(a)||(t({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((m=a.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(a){t({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:a.pointerType})},onPointerLeave(){f||t({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...h.incrementTrigger.attrs,dir:r.context.dir,id:o.getIncrementTriggerId(r.context),disabled:d,"data-disabled":p(d),"aria-label":I.incrementLabel,type:"button",tabIndex:-1,"aria-controls":o.getInputId(r.context),onPointerDown(a){var m;d||!x(a)||(t({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((m=a.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(a){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})},onPointerLeave(a){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})}})},getScrubberProps(){return e.element({...h.scrubber.attrs,dir:r.context.dir,"data-disabled":p(i),id:o.getScrubberId(r.context),role:"presentation",onMouseDown(a){if(i)return;const m=ue(a);m.x=m.x-P(7.5),m.y=m.y-P(7.5),t({type:"SCRUBBER.PRESS_DOWN",point:m}),a.preventDefault()},style:{cursor:i?void 0:"ew-resize"}})}}}function Ue(r){if(r.ownerDocument.activeElement===r)try{const{selectionStart:t,selectionEnd:e,value:n}=r,i=n.substring(0,t),s=n.substring(e);return{start:t,end:e,value:n,beforeTxt:i,afterTxt:s}}catch{}}function Fe(r,t){if(r.ownerDocument.activeElement===r){if(!t){r.setSelectionRange(r.value.length,r.value.length);return}try{const{value:e}=r,{beforeTxt:n="",afterTxt:i="",start:s}=t;let u=e.length;if(e.endsWith(i))u=e.length-i.length;else if(e.startsWith(n))u=n.length;else if(s!=null){const l=n[s-1],d=e.indexOf(l,s-1);d!==-1&&(u=d+1)}r.setSelectionRange(u,u)}catch{}}}var Z=(r,t={})=>z(new Intl.NumberFormat(r,t)),Y=(r,t={})=>z(new ee(r,t)),X=(r,t)=>r.formatOptions?r.parser.parse(String(t)):parseFloat(t),v=(r,t)=>Number.isNaN(t)?"":r.formatOptions?r.formatter.format(t):t.toString(),{not:O,and:S}=ve;function Ye(r){const t=ge(r);return be({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...t,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:Z(t.locale||"en-US",t.formatOptions),parser:Y(t.locale||"en-US",t.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}},computed:{isRtl:e=>e.dir==="rtl",valueAsNumber:e=>X(e,e.value),formattedValue:e=>v(e,e.valueAsNumber),isAtMin:e=>Re(e.valueAsNumber,e),isAtMax:e=>Ne(e.valueAsNumber,e),isOutOfRange:e=>!Se(e.valueAsNumber,e),isValueEmpty:e=>e.value==="",isDisabled:e=>!!e.disabled||e.fieldsetDisabled,canIncrement:e=>e.allowOverflow||!e.isAtMax,canDecrement:e=>e.allowOverflow||!e.isAtMin,valueText:e=>{var n,i;return(i=(n=e.translations).valueText)==null?void 0:i.call(n,e.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:S("clampValueOnBlur",O("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:ye([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:S("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:S(O("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:S(O("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:e=>e.clampValueOnBlur,isAtMin:e=>e.isAtMin,spinOnPress:e=>!!e.spinOnPress,isAtMax:e=>e.isAtMax,isInRange:e=>!e.isOutOfRange,isDecrementHint:(e,n)=>(n.hint??e.hint)==="decrement",isIncrementHint:(e,n)=>(n.hint??e.hint)==="increment",isTouchPointer:(e,n)=>n.pointerType==="touch"},activities:{trackFormControl(e,n,{initialContext:i}){const s=o.getInputEl(e);return Ee(s,{onFieldsetDisabledChange(u){e.fieldsetDisabled=u},onFormReset(){b.value(e,i.value)}})},setupVirtualCursor(e){return o.setupVirtualCursor(e)},preventTextSelection(e){return o.preventTextSelection(e)},trackButtonDisabled(e,n,{send:i}){const s=o.getPressedTriggerEl(e,e.hint);return fe(s,{attributes:["disabled"],callback(){i({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(e,n,{send:i}){const s=o.getInputEl(e);if(!s||!o.isActiveElement(e,s)||!e.allowMouseWheel)return;function u(l){l.preventDefault();const d=Math.sign(l.deltaY)*-1;d===1?i("VALUE.INCREMENT"):d===-1&&i("VALUE.DECREMENT")}return D(s,"wheel",u,{passive:!1})},activatePointerLock(e){if(!q())return ce(o.getDoc(e))},trackMousemove(e,n,{send:i}){const s=o.getDoc(e);function u(d){if(!e.scrubberCursorPoint)return;const f=o.getMousementValue(e,d);f.hint&&i({type:"SCRUBBER.POINTER_MOVE",hint:f.hint,point:f.point})}function l(){i("SCRUBBER.POINTER_UP")}return he(D(s,"mousemove",u,!1),D(s,"mouseup",l,!1))}},actions:{focusInput(e){if(!e.focusInputOnChange)return;const n=o.getInputEl(e);o.isActiveElement(e,n)||K(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment(e,n){const i=Ie(e.valueAsNumber,n.step??e.step),s=v(e,N(i,e));b.value(e,s)},decrement(e,n){const i=Te(e.valueAsNumber,n.step??e.step),s=v(e,N(i,e));b.value(e,s)},setClampedValue(e){const n=N(e.valueAsNumber,e);b.value(e,v(e,n))},setRawValue(e,n){const i=X(e,n.value),s=v(e,N(i,e));b.value(e,s)},setValue(e,n){var s;const i=((s=n.target)==null?void 0:s.value)??n.value;b.value(e,i)},clearValue(e){b.value(e,"")},incrementToMax(e){const n=v(e,e.max);b.value(e,n)},decrementToMin(e){const n=v(e,e.min);b.value(e,n)},setHint(e,n){e.hint=n.hint},clearHint(e){e.hint=null},setHintToSet(e){e.hint="set"},invokeOnFocus(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!0,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnBlur(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!1,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnInvalid(e){var i;if(!e.isOutOfRange)return;const n=e.valueAsNumber>e.max?"rangeOverflow":"rangeUnderflow";(i=e.onValueInvalid)==null||i.call(e,{reason:n,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},syncInputElement(e,n){const i=n.type.endsWith("CHANGE")?e.value:e.formattedValue;xe.input(e,i)},setFormattedValue(e){b.value(e,e.formattedValue)},setCursorPoint(e,n){e.scrubberCursorPoint=n.point},clearCursorPoint(e){e.scrubberCursorPoint=null},setVirtualCursorPosition(e){const n=o.getCursorEl(e);if(!n||!e.scrubberCursorPoint)return;const{x:i,y:s}=e.scrubberCursorPoint;n.style.transform=`translate3d(${i}px, ${s}px, 0px)`},setFormatterAndParser(e){e.locale&&(e.formatter=Z(e.locale,e.formatOptions),e.parser=Y(e.locale,e.formatOptions))}},compareFns:{formatOptions:(e,n)=>w(e,n),scrubberCursorPoint:(e,n)=>w(e,n)}})}var xe={input(r,t){const e=o.getInputEl(r);if(!e)return;const n=Ue(e);K(()=>{o.setValue(e,t),Fe(e,n)})}},_e={onChange:r=>{var t;(t=r.onValueChange)==null||t.call(r,{value:r.value,valueAsNumber:r.valueAsNumber})}},b={value:(r,t)=>{w(r.value,t)||(r.value=t,_e.onChange(r))}};export{Le as a,Ze as c,Ye as m};

import{j as n}from"./jsx-runtime-sfY7k0Xq.js";import{r as p}from"./index-CcKhGcwW.js";import{c as H}from"./create-slot-recipe-context-CYF_0Bn9.js";import{c as J}from"./factory-Dr_T95xI.js";import{f as K}from"./icons-CXhDYdRi.js";import{c as C}from"./create-split-props-u5h9OPvL.js";import{a as d}from"./factory-C6a3rcZ4.js";import{c as I}from"./create-context-DPShtm6F.js";import{z as l,G as O,c as Q,a as U,d as W}from"./index-CxfNaWX6.js";import{u as Y,n as Z}from"./index-C4pvfroP.js";import{c as z}from"./index-BRNWFSEf.js";import{c as tt,d as u}from"./index-DXXQsaeK.js";import{c as et}from"./index-Ctx6eFvH.js";import{u as rt}from"./use-environment-context-DqdFjJyw.js";import{u as ot}from"./use-locale-context-CnLnjqE7.js";import{u as y}from"./use-event-CSfbiBcH.js";const[E,S]=I({name:"StepsContext",hookName:"useStepsContext",providerName:"<StepsProvider />"}),b=p.forwardRef((t,r)=>{const e=S(),o=l(e.getContentProps({index:e.count}),t);return n.jsx(d.div,{...o,ref:r})});b.displayName="StepsCompletedContent";const $=p.forwardRef((t,r)=>{const[e,o]=C()(t,["index"]),i=S(),c=l(i.getContentProps(e),o);return n.jsx(d.div,{...c,ref:r})});$.displayName="StepsContent";const k=t=>{const r=S();return t.children(r)};k.displayName="StepsContext";const[nt,T]=I({name:"StepsItemPropsContext",hookName:"useStepsItemPropsContext",providerName:"<StepsItemPropsProvider />"}),A=p.forwardRef((t,r)=>{const e=S(),o=T(),i=l(e.getIndicatorProps(o),t);return n.jsx(d.div,{...i,ref:r})});A.displayName="StepsIndicator";const[st,it]=I({name:"StepsItemContext",hookName:"useStepsItemContext",providerName:"<StepsItem />"}),L=p.forwardRef((t,r)=>{const[e,o]=C()(t,["index"]),i=S(),c=l(i.getItemProps(e),o),x=i.getItemState(e);return n.jsx(nt,{value:e,children:n.jsx(st,{value:x,children:n.jsx(d.li,{...c,ref:r})})})});L.displayName="StepsItem";const h=t=>t.children(it());h.displayName="StepsItemContext";const M=p.forwardRef((t,r)=>{const e=S(),o=l(e.getListProps(),t);return n.jsx(d.ol,{...o,ref:r})});M.displayName="StepsList";const F=p.forwardRef((t,r)=>{const e=S(),o=l(e.getNextTriggerProps(),t);return n.jsx(d.button,{...o,ref:r})});F.displayName="StepsNextTrigger";const V=p.forwardRef((t,r)=>{const e=S(),o=l(e.getPrevTriggerProps(),t);return n.jsx(d.button,{...o,ref:r})});V.displayName="StepsPrevTrigger";var at=z("steps").parts("root","list","item","trigger","indicator","separator","content","nextTrigger","prevTrigger","progress"),g=at.build(),f=tt({getRootId:t=>{var r;return((r=t.ids)==null?void 0:r.root)??`steps:${t.id}`},getListId:t=>{var r;return((r=t.ids)==null?void 0:r.list)??`steps:${t.id}:list`},getTriggerId:(t,r)=>{var e,o;return((o=(e=t.ids)==null?void 0:e.triggerId)==null?void 0:o.call(e,r))??`steps:${t.id}:trigger:${r}`},getContentId:(t,r)=>{var e,o;return((o=(e=t.ids)==null?void 0:e.contentId)==null?void 0:o.call(e,r))??`steps:${t.id}:content:${r}`}});function ct(t,r,e){const o=t.context.step,i=t.context.count,c=t.context.percent,x=t.context.hasNextStep,N=t.context.hasPrevStep,P=s=>({triggerId:f.getTriggerId(t.context,s.index),contentId:f.getContentId(t.context,s.index),current:s.index===o,completed:s.index<o,incomplete:s.index>o,index:s.index,first:s.index===0,last:s.index===i-1}),R=()=>{r({type:"STEP.NEXT",src:"next.trigger.click"})},j=()=>{r({type:"STEP.PREV",src:"prev.trigger.click"})};return{value:o,count:i,percent:c,hasNextStep:x,hasPrevStep:N,goToNextStep:R,goToPrevStep:j,resetStep:()=>{r({type:"STEP.RESET",src:"reset.trigger.click"})},getItemState:P,setStep:s=>{r({type:"STEP.SET",value:s,src:"api.setValue"})},getRootProps(){return e.element({...g.root.attrs,id:f.getRootId(t.context),dir:t.context.dir,"data-orientation":t.context.orientation,style:{"--percent":`${c}%`}})},getListProps(){const a=O(t.context.count).map((w,B)=>f.getTriggerId(t.context,B));return e.element({...g.list.attrs,dir:t.context.dir,id:f.getListId(t.context),role:"tablist","aria-owns":a.join(" "),"aria-orientation":t.context.orientation,"data-orientation":t.context.orientation})},getItemProps(s){const a=P(s);return e.element({...g.item.attrs,dir:t.context.dir,"aria-current":a.current?"step":void 0,"data-orientation":t.context.orientation})},getTriggerProps(s){const a=P(s);return e.button({...g.trigger.attrs,id:a.triggerId,role:"tab",dir:t.context.dir,tabIndex:!t.context.linear||a.current?0:-1,"aria-selected":a.current,"aria-controls":a.contentId,"data-state":a.current?"open":"closed","data-orientation":t.context.orientation,"data-complete":u(a.completed),"data-current":u(a.current),"data-incomplete":u(a.incomplete),onClick(w){w.defaultPrevented||t.context.linear||r({type:"STEP.SET",value:s.index,src:"trigger.click"})}})},getContentProps(s){const a=P(s);return e.element({...g.content.attrs,dir:t.context.dir,id:a.contentId,role:"tabpanel",tabIndex:0,hidden:!a.current,"data-state":a.current?"open":"closed","data-orientation":t.context.orientation,"aria-labelledby":a.triggerId})},getIndicatorProps(s){const a=P(s);return e.element({...g.indicator.attrs,dir:t.context.dir,"aria-hidden":!0,"data-complete":u(a.completed),"data-current":u(a.current),"data-incomplete":u(a.incomplete)})},getSeparatorProps(s){const a=P(s);return e.element({...g.separator.attrs,dir:t.context.dir,"data-orientation":t.context.orientation,"data-complete":u(a.completed),"data-current":u(a.current),"data-incomplete":u(a.incomplete)})},getNextTriggerProps(){return e.button({...g.nextTrigger.attrs,dir:t.context.dir,type:"button",disabled:!x,onClick(s){s.defaultPrevented||R()}})},getPrevTriggerProps(){return e.button({dir:t.context.dir,...g.prevTrigger.attrs,type:"button",disabled:!N,onClick(s){s.defaultPrevented||j()}})},getProgressProps(){return e.element({dir:t.context.dir,...g.progress.attrs,role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":`${c}% complete`,"data-complete":u(c===100)})}}}function pt(t){const r=Q(t);return U({id:"steps",initial:"idle",context:{step:0,count:1,linear:!1,orientation:"horizontal",...r},computed:{percent:e=>e.step/e.count*100,hasNextStep:e=>e.step<e.count,hasPrevStep:e=>e.step>0},states:{idle:{on:{"STEP.SET":{actions:"setStep"},"STEP.NEXT":{actions:"goToNextStep"},"STEP.PREV":{actions:"goToPrevStep"},"STEP.RESET":{actions:"resetStep"}}}}},{actions:{goToNextStep(e){const o=Math.min(e.step+1,e.count);v.value(e,o)},goToPrevStep(e){const o=Math.max(e.step-1,0);v.value(e,o)},resetStep(e){v.value(e,0)},setStep(e,o){const i=o.value;if(!(i>=0&&i<e.count))throw new RangeError(`Index ${i} is out of bounds`);v.value(e,i)}}})}var v={value(t,r){var e;W(t.step,r)||(t.step=r,(e=t.onStepChange)==null||e.call(t,{step:r}))}};et()(["count","dir","getRootNode","id","ids","linear","onStepChange","onStepComplete","orientation","step"]);function dt(t={}){const{getRootNode:r}=rt(),{dir:e}=ot(),o={id:p.useId(),dir:e,getRootNode:r,step:t.defaultStep,...t},i={...o,step:t.step,onStepChange:y(t.onStepChange),onStepComplete:y(t.onStepComplete)},[c,x]=Y(pt(o),{context:i});return ct(c,x,Z)}const q=p.forwardRef((t,r)=>{const[e,o]=C()(t,["defaultStep","id","ids","count","linear","onStepChange","onStepComplete","orientation","step"]),i=dt(e),c=l(i.getRootProps(),o);return n.jsx(E,{value:i,children:n.jsx(d.div,{...c,ref:r})})});q.displayName="StepsRoot";const X=p.forwardRef((t,r)=>{const[{value:e},o]=C()(t,["value"]),i=l(e.getRootProps(),o);return n.jsx(E,{value:e,children:n.jsx(d.div,{...i,ref:r,children:t.children})})});X.displayName="StepsRootProvider";const D=p.forwardRef((t,r)=>{const e=S(),o=T(),i=l(e.getSeparatorProps(o),t);return n.jsx(d.div,{...i,ref:r})});D.displayName="StepsSeparator";const G=p.forwardRef((t,r)=>{const e=S(),o=T(),i=l(e.getTriggerProps(o),t);return n.jsx(d.button,{...i,ref:r})});G.displayName="StepsTrigger";const{withProvider:_,withContext:m,useStyles:kt,PropsProvider:lt}=H({key:"steps"}),At=_(X,"root",{forwardAsChild:!0}),Lt=_(q,"root",{forwardAsChild:!0}),Mt=lt,Ft=m(M,"list",{forwardAsChild:!0}),Vt=m(L,"item",{forwardAsChild:!0}),qt=m(G,"trigger",{forwardAsChild:!0}),Xt=m($,"content",{forwardAsChild:!0}),Dt=m(b,"content"),mt=p.forwardRef(function(r,e){return n.jsx(h,{children:o=>n.jsx(J.div,{ref:e,...r,children:o.index+1})})}),Gt=m("div","title"),_t=m("div","description"),Bt=m(D,"separator",{forwardAsChild:!0}),ut=t=>n.jsx(h,{children:r=>r.current?n.jsx(n.Fragment,{children:t.current??t.incomplete}):r.completed?n.jsx(n.Fragment,{children:t.complete}):n.jsx(n.Fragment,{children:t.incomplete??t.current})}),Ht=m(A,"indicator",{forwardAsChild:!0,defaultProps:{children:n.jsx(ut,{complete:n.jsx(K,{}),incomplete:n.jsx(mt,{})})}}),Jt=m(F,"nextTrigger",{forwardAsChild:!0}),Kt=m(V,"prevTrigger",{forwardAsChild:!0}),Ot=k,Qt=h;export{Vt as S,qt as a,Ht as b,ut as c,mt as d,Bt as e,Gt as f,_t as g,Lt as h,Ft as i,Xt as j,Dt as k,Jt as l,Kt as m,Ot as n,Qt as o,Mt as p,At as q,S as u};

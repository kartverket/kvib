import{a5 as g,aj as d,av as n,a6 as P,a3 as D,aF as k,ay as U,az as G,aG as E,c as f,a1 as L}from"./create-slot-recipe-context-BTQZ2sOO.js";import{j as s}from"./jsx-runtime-CQsLhzk5.js";import{r as i}from"./index-Wp2u197Z.js";import{m as q,c as H}from"./index-DpI4-PIO.js";import{u as I}from"./use-field-context-B2lpNrC2.js";const[x,p]=g({name:"FileUploadContext",hookName:"useFileUploadContext",providerName:"<FileUploadProvider />"}),M=o=>o.children(p()),v=i.forwardRef((o,t)=>{const r=p(),e=d(r.getDropzoneProps(),o);return s.jsx(n.div,{...e,ref:t})});v.displayName="FileUploadDropzone";const w=i.forwardRef((o,t)=>{const r=p(),e=d(r.getHiddenInputProps(),o),a=I();return s.jsx(n.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...e,ref:t})});w.displayName="FileUploadHiddenInput";const[B,u]=g({name:"FileUploadItemPropsContext",hookName:"useFileUploadItemPropsContext",providerName:"<FileUploadItemPropsProvider />"}),C=i.forwardRef((o,t)=>{const[r,e]=P()(o,["file"]),a=p(),l=d(a.getItemProps(r),e);return s.jsx(B,{value:r,children:s.jsx(n.li,{...l,ref:t})})});C.displayName="FileUploadItem";const h=i.forwardRef((o,t)=>{const r=p(),e=u(),a=d(r.getItemDeleteTriggerProps(e),o);return s.jsx(n.button,{...a,ref:t})});h.displayName="FileUploadItemDeleteTrigger";const R=i.forwardRef((o,t)=>{const r=p(),e=d(r.getItemGroupProps(),o);return s.jsx(n.ul,{...e,ref:t})});R.displayName="FileUploadItemGroup";const j=i.forwardRef((o,t)=>{const{children:r,...e}=o,a=p(),l=u(),m=d(a.getItemNameProps(l),e);return s.jsx(n.div,{...m,ref:t,children:r||l.file.name})});j.displayName="FileUploadItemName";const y=i.forwardRef((o,t)=>{const r=p(),e=u(),a=d(r.getItemPreviewProps(e),o);return e.file.type.match(o.type??".*")?s.jsx(n.div,{...a,ref:t}):null});y.displayName="FileUploadItemPreview";const N=i.forwardRef((o,t)=>{const[r,e]=i.useState(""),a=p(),l=u(),m=d(a.getItemPreviewImageProps({...l,url:r}),o);return i.useEffect(()=>a.createFileUrl(l.file,F=>e(F)),[l,a]),s.jsx(n.img,{...m,ref:t})});N.displayName="FileUploadItemPreviewImage";const b=i.forwardRef((o,t)=>{const{children:r,...e}=o,a=p(),l=u(),m=d(a.getItemSizeTextProps(l),e);return s.jsx(n.div,{...m,ref:t,children:r||a.getFileSize(l.file)})});b.displayName="FileUploadItemSizeText";const z=i.forwardRef((o,t)=>{const r=p(),e=d(r.getLabelProps(),o);return s.jsx(n.label,{...e,ref:t})});z.displayName="FileUploadLabel";const J=(o={})=>{const{getRootNode:t}=D(),{dir:r}=k(),e=I(),a={id:i.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:r,disabled:e==null?void 0:e.disabled,required:e==null?void 0:e.required,invalid:e==null?void 0:e.invalid,getRootNode:t,...o},l={...a,onFileAccept:U(o.onFileAccept),onFileReject:U(o.onFileReject),onFileChange:U(o.onFileChange,{sync:!0})},[m,F]=G(q(a),{context:l});return H(m,F,E)},T=i.forwardRef((o,t)=>{const[r,e]=P()(o,["accept","allowDrop","capture","directory","disabled","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","required","translations","validate"]),a=J(r),l=d(a.getRootProps(),e);return s.jsx(x,{value:a,children:s.jsx(n.div,{...l,ref:t})})});T.displayName="FileUploadRoot";const A=i.forwardRef((o,t)=>{const[{value:r},e]=P()(o,["value"]),a=d(r.getRootProps(),e);return s.jsx(x,{value:r,children:s.jsx(n.div,{...a,ref:t})})});A.displayName="FileUploadRootProvider";const S=i.forwardRef((o,t)=>{const r=p(),e=d(r.getTriggerProps(),o);return s.jsx(n.button,{...e,ref:t})});S.displayName="FileUploadTrigger";const Y=f("span"),{withProvider:$,withContext:c,useStyles:Z,PropsProvider:K}=L({key:"fileUpload"}),_=$(A,"root",{forwardAsChild:!0}),ee=$(T,"root",{forwardAsChild:!0}),oe=K,te=i.forwardRef(function(t,r){const e=p();return s.jsx(f.button,{ref:r,type:"button","data-scope":"file-upload","data-part":"clear-trigger","aria-label":"Clear selected files",hidden:e.acceptedFiles.length===0,...t,onClick:a=>{var l;(l=t.onClick)==null||l.call(t,a),!a.defaultPrevented&&e.clearFiles()}})}),re=c(v,"dropzone",{forwardAsChild:!0}),ae=c("div","dropzoneContent"),le=c(C,"item",{forwardAsChild:!0}),ie=c("div","itemContent"),se=c(h,"itemDeleteTrigger",{forwardAsChild:!0}),de=c(R,"itemGroup",{forwardAsChild:!0}),ne=c(j,"itemName",{forwardAsChild:!0}),pe=c(y,"itemPreview",{forwardAsChild:!0}),ce=c(N,"itemPreviewImage",{forwardAsChild:!0}),me=c(b,"itemSizeText",{forwardAsChild:!0}),ue=c(z,"label",{forwardAsChild:!0}),Fe=c(S,"trigger",{forwardAsChild:!0}),Ue=M,Pe=w;export{ee as F,Y as S,Pe as a,re as b,ae as c,le as d,pe as e,ie as f,ne as g,me as h,se as i,de as j,Fe as k,Ue as l,te as m,ce as n,ue as o,oe as p,_ as q,p as u};

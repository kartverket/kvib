import{c as k}from"./index-BRNWFSEf.js";import{c as P}from"./index-DXXQsaeK.js";import{c as b,a as y,e as f}from"./index-CxfNaWX6.js";import{c as V}from"./index-Ctx6eFvH.js";var w=k("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),a=w.build(),u=P({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`progress-${e.id}`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`progress-${e.id}-track`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`progress-${e.id}-label`},getCircleId:e=>{var t;return((t=e.ids)==null?void 0:t.circle)??`progress-${e.id}-circle`}});function N(e,t,r){const n=e.context.percent,h=e.context.isIndeterminate?"":`${n}%`,i=e.context.max,l=e.context.min,o=e.context.orientation,T=e.context.translations,m=e.context.isIndeterminate,s=e.context.value,g=T.value({value:s,max:i,percent:n,min:l}),c=I(s,i),x={role:"progressbar","aria-label":g,"data-max":i,"aria-valuemin":l,"aria-valuemax":i,"aria-valuenow":s??void 0,"data-orientation":o,"data-state":c},v=$(e.context);return{value:s,valueAsString:g,min:l,max:i,percent:n,percentAsString:h,indeterminate:m,setValue(d){t({type:"VALUE.SET",value:d})},setToMax(){t({type:"VALUE.SET",value:i})},setToMin(){t({type:"VALUE.SET",value:l})},getRootProps(){return r.element({dir:e.context.dir,...a.root.attrs,id:u.getRootId(e.context),"data-max":i,"data-value":s??void 0,"data-state":c,"data-orientation":o,style:{"--percent":m?void 0:n}})},getLabelProps(){return r.element({dir:e.context.dir,id:u.getLabelId(e.context),...a.label.attrs,"data-orientation":o})},getValueTextProps(){return r.element({dir:e.context.dir,"aria-live":"polite",...a.valueText.attrs})},getTrackProps(){return r.element({dir:e.context.dir,id:u.getTrackId(e.context),...a.track.attrs,...x})},getRangeProps(){return r.element({dir:e.context.dir,...a.range.attrs,"data-orientation":o,"data-state":c,style:{[e.context.isHorizontal?"width":"height"]:m?void 0:`${n}%`}})},getCircleProps(){return r.element({dir:e.context.dir,id:u.getCircleId(e.context),...a.circle.attrs,...x,...v.root})},getCircleTrackProps(){return r.element({dir:e.context.dir,"data-orientation":o,...a.circleTrack.attrs,...v.track})},getCircleRangeProps(){return r.element({dir:e.context.dir,...a.circleRange.attrs,...v.range,"data-state":c})},getViewProps(d){return r.element({dir:e.context.dir,...a.view.attrs,"data-state":d.state,hidden:d.state!==c})}}}function I(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $(e){const t={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:t,range:{opacity:e.value===0?0:void 0,style:{...t.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function E(e,t){return e+(t-e)/2}function U(e){const t=b(e);return y({id:"progress",initial:"idle",context:{max:t.max??100,min:t.min??0,value:E(t.min??0,t.max??100),orientation:"horizontal",translations:{value:({percent:r})=>r===-1?"loading...":`${r} percent`,...t.translations},...t},created:["validateContext"],computed:{isIndeterminate:r=>r.value===null,percent(r){return f(r.value)?Math.round((r.value-r.min)/(r.max-r.min)*100):-1},isAtMax:r=>r.value===r.max,isHorizontal:r=>r.orientation==="horizontal",isRtl:r=>r.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(r,n)=>{r.value=n.value===null?null:Math.max(0,Math.min(n.value,r.max))},validateContext:r=>{if(r.value!=null){if(!p(r.max))throw new Error(`[progress] The max value passed \`${r.max}\` is not a valid number`);if(!M(r.value,r.max))throw new Error(`[progress] The value passed \`${r.value}\` exceeds the max value \`${r.max}\``);if(!R(r.value,r.min))throw new Error(`[progress] The value passed \`${r.value}\` exceeds the min value \`${r.min}\``)}}}})}function p(e){return f(e)&&!isNaN(e)}function M(e,t){return p(e)&&e<=t}function R(e,t){return p(e)&&e>=t}V()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);export{w as a,N as c,U as m};

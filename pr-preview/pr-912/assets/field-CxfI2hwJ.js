import{j as u}from"./jsx-runtime-CQsLhzk5.js";import{r}from"./index-Wp2u197Z.js";import{aj as P,av as F,a5 as D,R as W,f as i,g as z,a6 as G,ax as J,a1 as K,c as Q,b as U}from"./create-slot-recipe-context-BTQZ2sOO.js";import{I as V}from"./icon-DpA6FMjh.js";import{u as g,F as X}from"./use-field-context-B2lpNrC2.js";import{p as c}from"./field.anatomy-F3JGxbyG.js";const N=r.forwardRef((d,s)=>{const e=g(),t=P(e.getErrorTextProps(),d);return e!=null&&e.invalid?u.jsx(F.span,{...t,ref:s}):null});N.displayName="FieldErrorText";const j=r.forwardRef((d,s)=>{const e=g(),t=P(e==null?void 0:e.getHelperTextProps(),d);return u.jsx(F.span,{...t,ref:s})});j.displayName="FieldHelperText";const A=r.forwardRef((d,s)=>{const e=g(),t=P(e==null?void 0:e.getLabelProps(),d);return u.jsx(F.label,{...t,ref:s})});A.displayName="FieldLabel";const Y=typeof window<"u"?r.useLayoutEffect:r.useEffect,[ue,_]=D({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),ee=d=>{const s=_(),{ids:e,disabled:t=!!(s!=null&&s.disabled),invalid:o=!1,readOnly:a=!1,required:n=!1}=d,m=r.useRef(!1),h=r.useRef(!1),l=d.id??r.useId(),v=r.useRef(null),T=(e==null?void 0:e.control)??`field::${l}`,p=(e==null?void 0:e.errorText)??`field::${l}::error-text`,f=(e==null?void 0:e.helperText)??`field::${l}::helper-text`,y=(e==null?void 0:e.label)??`field::${l}::label`;Y(()=>{const x=v.current;if(!x)return;const I=W(x),C=I.document,E=()=>{m.current=!!C.getElementById(p),h.current=!!C.getElementById(f)};E();const M=new I.MutationObserver(E);return M.observe(x,{childList:!0,subtree:!0}),()=>M.disconnect()},[p,f]);const R=r.useMemo(()=>{const x=[];return m.current&&o&&x.push(p),h.current&&x.push(f),x.join(" ")||void 0},[o,p,f]),L=r.useMemo(()=>()=>({...c.root.attrs,id:T,ref:v,role:"group","data-disabled":i(t),"data-invalid":i(o),"data-readonly":i(a)}),[t,o,a,T]),$=r.useMemo(()=>()=>({...c.label.attrs,id:y,"data-disabled":i(t),"data-invalid":i(o),"data-readonly":i(a),htmlFor:l}),[t,o,a,l,y]),b=r.useMemo(()=>()=>({"aria-describedby":R,"aria-invalid":z(o),"data-invalid":i(o),"data-required":i(n),"data-readonly":i(a),id:l,required:n,disabled:t,readOnly:a}),[R,o,n,a,l,t]),k=r.useMemo(()=>()=>({...b(),...c.input.attrs}),[b]),H=r.useMemo(()=>()=>({...b(),...c.textarea.attrs}),[b]),S=r.useMemo(()=>()=>({...b(),...c.select.attrs}),[b]),B=r.useMemo(()=>()=>({id:f,...c.helperText.attrs}),[f]),O=r.useMemo(()=>()=>({id:p,...c.errorText.attrs,"aria-live":"polite"}),[p]),Z=r.useMemo(()=>()=>({"aria-hidden":!0,...c.requiredIndicator.attrs}),[]);return{ariaDescribedby:R,ids:{root:T,control:l,label:y,errorText:p,helperText:f},refs:{rootRef:v},disabled:t,invalid:o,readOnly:a,required:n,getLabelProps:$,getRootProps:L,getInputProps:k,getTextareaProps:H,getSelectProps:S,getHelperTextProps:B,getErrorTextProps:O,getRequiredIndicatorProps:Z}},q=r.forwardRef((d,s)=>{const[e,t]=G()(d,["id","ids","disabled","invalid","readOnly","required"]),o=ee(e),a=P(o.getRootProps(),t);return u.jsx(X,{value:o,children:u.jsx(F.div,{...a,ref:J(s,o.refs.rootRef)})})});q.displayName="FieldRoot";function re(d){const{viewBox:s="0 0 24 24",d:e,displayName:t,defaultProps:o={}}=d,a=r.Children.toArray(d.path),n=r.forwardRef((m,h)=>u.jsx(V,{ref:h,asChild:!1,viewBox:s,...o,...m,children:a.length?a:u.jsx("path",{fill:"currentColor",d:e})}));return n.displayName=t,n}const{withProvider:te,withContext:w,useStyles:oe,useClassNames:se,PropsProvider:pe}=K({key:"field"}),fe=te(q,"root",{forwardAsChild:!0}),xe=w(A,"label",{forwardAsChild:!0}),me=w(j,"helperText",{forwardAsChild:!0}),he=w(N,"errorText",{forwardAsChild:!0});re({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const be=r.forwardRef(function(s,e){const{fallback:t,children:o="*",...a}=s,n=g(),m=se(),h=oe();return n!=null&&n.required?u.jsx(Q.span,{ref:e,"aria-hidden":"true",...a,className:U(m.requiredIndicator,s.className),css:[h.requiredIndicator,s.css],children:o}):t});export{fe as F,xe as a,be as b,me as c,he as d};

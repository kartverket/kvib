import{c as m}from"./index-BRNWFSEf.js";import{c as v,d as i,l as I,v as T}from"./index-DXXQsaeK.js";import{t as y,i as x}from"./index-CV_WJVCf.js";import{c as H,a as D,d as P,g as S}from"./index-CxfNaWX6.js";import{t as F}from"./index-Dltf2pIY.js";import{t as V,s as N,a as O}from"./index-NfPDfnaY.js";import{c as R}from"./index-Ctx6eFvH.js";var b=m("checkbox").parts("root","label","control","indicator"),l=b.build(),n=v({getRootId:e=>{var d;return((d=e.ids)==null?void 0:d.root)??`checkbox:${e.id}`},getLabelId:e=>{var d;return((d=e.ids)==null?void 0:d.label)??`checkbox:${e.id}:label`},getControlId:e=>{var d;return((d=e.ids)==null?void 0:d.control)??`checkbox:${e.id}:control`},getHiddenInputId:e=>{var d;return((d=e.ids)==null?void 0:d.hiddenInput)??`checkbox:${e.id}:input`},getRootEl:e=>n.getById(e,n.getRootId(e)),getHiddenInputEl:e=>n.getById(e,n.getHiddenInputId(e))});function M(e,d,t){const o=e.context.isDisabled,r=e.context.readOnly,a=!o&&e.context.focused,u=!o&&e.context.focusVisible,h=e.context.isChecked,k=e.context.isIndeterminate,s={"data-active":i(e.context.active),"data-focus":i(a),"data-focus-visible":i(u),"data-readonly":i(r),"data-hover":i(e.context.hovered),"data-disabled":i(o),"data-state":k?"indeterminate":e.context.checked?"checked":"unchecked","data-invalid":i(e.context.invalid)};return{checked:h,disabled:o,indeterminate:k,focused:a,checkedState:e.context.checked,setChecked(c){d({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){d({type:"CHECKED.TOGGLE",checked:h,isTrusted:!1})},getRootProps(){return t.label({...l.root.attrs,...s,dir:e.context.dir,id:n.getRootId(e.context),htmlFor:n.getHiddenInputId(e.context),onPointerMove(){o||d({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||d({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){I(c)===n.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return t.element({...l.label.attrs,...s,dir:e.context.dir,id:n.getLabelId(e.context)})},getControlProps(){return t.element({...l.control.attrs,...s,dir:e.context.dir,id:n.getControlId(e.context),"aria-hidden":!0})},getIndicatorProps(){return t.element({...l.indicator.attrs,...s,dir:e.context.dir,hidden:!k&&!e.context.checked})},getHiddenInputProps(){return t.input({id:n.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:h,disabled:o,"aria-labelledby":n.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:T,onFocus(){const c=x();d({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){d({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(r){c.preventDefault();return}const g=c.currentTarget.checked;d({type:"CHECKED.SET",checked:g,isTrusted:!0})}})}}}var{not:p}=S;function _(e){const d=H(e);return D({id:"checkbox",initial:"ready",context:{checked:!1,value:"on",disabled:!1,...d,fieldsetDisabled:!1,focusVisible:!1},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:p("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:p("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{isIndeterminate:t=>f(t.checked),isChecked:t=>C(t.checked),isDisabled:t=>!!t.disabled||t.fieldsetDisabled},states:{ready:{}}},{guards:{isTrusted:(t,o)=>!!o.isTrusted},activities:{trackPressEvent(t){if(!t.isDisabled)return F({pointerNode:n.getRootEl(t),keyboardNode:n.getHiddenInputEl(t),isValidKey:o=>o.key===" ",onPress:()=>t.active=!1,onPressStart:()=>t.active=!0,onPressEnd:()=>t.active=!1})},trackFocusVisible(t){if(!t.isDisabled)return y({root:n.getRootNode(t)})},trackFormControlState(t,o,{send:r,initialContext:a}){return V(n.getHiddenInputEl(t),{onFieldsetDisabledChange(u){t.fieldsetDisabled=u},onFormReset(){r({type:"CHECKED.SET",checked:!!a.checked})}})}},actions:{setContext(t,o){Object.assign(t,o.context)},syncInputElement(t){const o=n.getHiddenInputEl(t);o&&(N(o,t.isChecked),o.indeterminate=t.isIndeterminate)},removeFocusIfNeeded(t){t.disabled&&t.focused&&(t.focused=!1,t.focusVisible=!1)},setChecked(t,o){E.checked(t,o.checked)},toggleChecked(t){const o=f(t.checked)?!0:!t.checked;E.checked(t,o)},dispatchChangeEvent(t){const o=n.getHiddenInputEl(t);O(o,{checked:C(t.checked)})}}})}function f(e){return e==="indeterminate"}function C(e){return f(e)?!1:!!e}var K={change:e=>{var d;(d=e.onCheckedChange)==null||d.call(e,{checked:e.checked})}},E={checked:(e,d)=>{P(e.checked,d)||(e.checked=d,K.change(e))}};R()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const j=b.extendWith("group");export{M as a,j as c,_ as m};

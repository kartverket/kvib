import{c as R}from"./index-BRNWFSEf.js";import{a as y}from"./index-DaRoB4R-.js";import{c as G,q as O,n as h,p as C,d as s,b as S}from"./index-DCo38vF6.js";import{f as x,l as P,c as F,a as w,g as L,h as A,r as N,j as $,w as B,d as p}from"./index-DussGwo5.js";import{c as v}from"./index-Ctx6eFvH.js";var U=R("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),g=U.build(),i=G({getRootId:e=>{var a;return((a=e.ids)==null?void 0:a.root)??`accordion:${e.id}`},getItemId:(e,a)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.item)==null?void 0:o.call(t,a))??`accordion:${e.id}:item:${a}`},getItemContentId:(e,a)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemContent)==null?void 0:o.call(t,a))??`accordion:${e.id}:content:${a}`},getItemTriggerId:(e,a)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemTrigger)==null?void 0:o.call(t,a))??`accordion:${e.id}:trigger:${a}`},getRootEl:e=>i.getById(e,i.getRootId(e)),getTriggerEls:e=>{const t=`[aria-controls][data-ownedby='${CSS.escape(i.getRootId(e))}']:not([disabled])`;return O(i.getRootEl(e),t)},getFirstTriggerEl:e=>x(i.getTriggerEls(e)),getLastTriggerEl:e=>P(i.getTriggerEls(e)),getNextTriggerEl:(e,a)=>h(i.getTriggerEls(e),i.getItemTriggerId(e,a)),getPrevTriggerEl:(e,a)=>C(i.getTriggerEls(e),i.getItemTriggerId(e,a))});function j(e,a,t){const o=e.context.focusedValue,l=e.context.value,I=e.context.multiple;function E(n){let r=n;I&&r.length>1&&(r=[r[0]]),a({type:"VALUE.SET",value:r})}function c(n){return{expanded:l.includes(n.value),focused:o===n.value,disabled:!!(n.disabled??e.context.disabled)}}return{focusedValue:o,value:l,setValue:E,getItemState:c,getRootProps(){return t.element({...g.root.attrs,dir:e.context.dir,id:i.getRootId(e.context),"data-orientation":e.context.orientation})},getItemProps(n){const r=c(n);return t.element({...g.item.attrs,dir:e.context.dir,id:i.getItemId(e.context,n.value),"data-state":r.expanded?"open":"closed","data-focus":s(r.focused),"data-disabled":s(r.disabled),"data-orientation":e.context.orientation})},getItemContentProps(n){const r=c(n);return t.element({...g.itemContent.attrs,dir:e.context.dir,role:"region",id:i.getItemContentId(e.context,n.value),"aria-labelledby":i.getItemTriggerId(e.context,n.value),hidden:!r.expanded,"data-state":r.expanded?"open":"closed","data-disabled":s(r.disabled),"data-focus":s(r.focused),"data-orientation":e.context.orientation})},getItemIndicatorProps(n){const r=c(n);return t.element({...g.itemIndicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":r.expanded?"open":"closed","data-disabled":s(r.disabled),"data-focus":s(r.focused),"data-orientation":e.context.orientation})},getItemTriggerProps(n){const{value:r}=n,d=c(n);return t.button({...g.itemTrigger.attrs,type:"button",dir:e.context.dir,id:i.getItemTriggerId(e.context,r),"aria-controls":i.getItemContentId(e.context,r),"aria-expanded":d.expanded,disabled:d.disabled,"data-orientation":e.context.orientation,"aria-disabled":d.disabled,"data-state":d.expanded?"open":"closed","data-ownedby":i.getRootId(e.context),onFocus(){d.disabled||a({type:"TRIGGER.FOCUS",value:r})},onBlur(){d.disabled||a("TRIGGER.BLUR")},onClick(u){d.disabled||(S()&&u.currentTarget.focus(),a({type:"TRIGGER.CLICK",value:r}))},onKeyDown(u){if(u.defaultPrevented||d.disabled)return;const b={ArrowDown(){e.context.isHorizontal||a({type:"GOTO.NEXT",value:r})},ArrowUp(){e.context.isHorizontal||a({type:"GOTO.PREV",value:r})},ArrowRight(){e.context.isHorizontal&&a({type:"GOTO.NEXT",value:r})},ArrowLeft(){e.context.isHorizontal&&a({type:"GOTO.PREV",value:r})},Home(){a({type:"GOTO.FIRST",value:r})},End(){a({type:"GOTO.LAST",value:r})}},V=y(u,{dir:e.context.dir,orientation:e.context.orientation}),m=b[V];m&&(m(u),u.preventDefault())}})}}}var{and:H,not:k}=A;function J(e){const a=F(e);return w({id:"accordion",initial:"idle",context:{focusedValue:null,value:[],collapsible:!1,multiple:!1,orientation:"vertical",...a},watch:{value:"coarseValue",multiple:"coarseValue"},created:"coarseValue",computed:{isHorizontal:t=>t.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNextTrigger"},"GOTO.PREV":{actions:"focusPrevTrigger"},"TRIGGER.CLICK":[{guard:H("isExpanded","canToggle"),actions:["collapse"]},{guard:k("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:"focusFirstTrigger"},"GOTO.LAST":{actions:"focusLastTrigger"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:t=>!!t.collapsible||!!t.multiple,isExpanded:(t,o)=>t.value.includes(o.value)},actions:{collapse(t,o){const l=t.multiple?N(t.value,o.value):[];f.value(t,t.multiple?l:[])},expand(t,o){const l=t.multiple?$(t.value,o.value):[o.value];f.value(t,l)},focusFirstTrigger(t){var o;(o=i.getFirstTriggerEl(t))==null||o.focus()},focusLastTrigger(t){var o;(o=i.getLastTriggerEl(t))==null||o.focus()},focusNextTrigger(t){if(!t.focusedValue)return;const o=i.getNextTriggerEl(t,t.focusedValue);o==null||o.focus()},focusPrevTrigger(t){if(!t.focusedValue)return;const o=i.getPrevTriggerEl(t,t.focusedValue);o==null||o.focus()},setFocusedValue(t,o){f.focusedValue(t,o.value)},clearFocusedValue(t){f.focusedValue(t,null)},setValue(t,o){f.value(t,o.value)},coarseValue(t){!t.multiple&&t.value.length>1&&(B("The value of accordion should be a single value when multiple is false."),t.value=[t.value[0]])}}})}var T={change(e){var a;(a=e.onValueChange)==null||a.call(e,{value:Array.from(e.value)})},focusChange(e){var a;(a=e.onFocusChange)==null||a.call(e,{value:e.focusedValue})}},f={value(e,a){p(e.value,a)||(e.value=a,T.change(e))},focusedValue(e,a){p(e.focusedValue,a)||(e.focusedValue=a,T.focusChange(e))}};v()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);var K=v()(["value","disabled"]),Q=L(K);export{U as a,j as c,J as m,Q as s};

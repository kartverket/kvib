import{c as P}from"./factory-Dr_T95xI.js";import{j as s}from"./jsx-runtime-sfY7k0Xq.js";import{r as i}from"./index-CcKhGcwW.js";import{c as D}from"./create-slot-recipe-context-CYF_0Bn9.js";import{c as g}from"./create-context-DPShtm6F.js";import{c as f}from"./create-split-props-u5h9OPvL.js";import{a as d}from"./factory-D3mHtPBl.js";import{z as n}from"./index-DjDtsQXy.js";import{m as k,c as E}from"./index-E76q3ewa.js";import{u as G,n as L}from"./index-D6WKX8b7.js";import{u as q}from"./use-environment-context-DqdFjJyw.js";import{u as H}from"./use-locale-context-CnLnjqE7.js";import{u as U}from"./use-event-CSfbiBcH.js";import{u as I}from"./use-field-context-CcEUgBGI.js";const[x,p]=g({name:"FileUploadContext",hookName:"useFileUploadContext",providerName:"<FileUploadProvider />"}),M=o=>o.children(p()),v=i.forwardRef((o,t)=>{const r=p(),e=n(r.getDropzoneProps(),o);return s.jsx(d.div,{...e,ref:t})});v.displayName="FileUploadDropzone";const w=i.forwardRef((o,t)=>{const r=p(),e=n(r.getHiddenInputProps(),o),l=I();return s.jsx(d.input,{"aria-describedby":l==null?void 0:l.ariaDescribedby,...e,ref:t})});w.displayName="FileUploadHiddenInput";const[B,u]=g({name:"FileUploadItemPropsContext",hookName:"useFileUploadItemPropsContext",providerName:"<FileUploadItemPropsProvider />"}),C=i.forwardRef((o,t)=>{const[r,e]=f()(o,["file"]),l=p(),a=n(l.getItemProps(r),e);return s.jsx(B,{value:r,children:s.jsx(d.li,{...a,ref:t})})});C.displayName="FileUploadItem";const h=i.forwardRef((o,t)=>{const r=p(),e=u(),l=n(r.getItemDeleteTriggerProps(e),o);return s.jsx(d.button,{...l,ref:t})});h.displayName="FileUploadItemDeleteTrigger";const R=i.forwardRef((o,t)=>{const r=p(),e=n(r.getItemGroupProps(),o);return s.jsx(d.ul,{...e,ref:t})});R.displayName="FileUploadItemGroup";const j=i.forwardRef((o,t)=>{const{children:r,...e}=o,l=p(),a=u(),m=n(l.getItemNameProps(a),e);return s.jsx(d.div,{...m,ref:t,children:r||a.file.name})});j.displayName="FileUploadItemName";const y=i.forwardRef((o,t)=>{const r=p(),e=u(),l=n(r.getItemPreviewProps(e),o);return e.file.type.match(o.type??".*")?s.jsx(d.div,{...l,ref:t}):null});y.displayName="FileUploadItemPreview";const N=i.forwardRef((o,t)=>{const[r,e]=i.useState(""),l=p(),a=u(),m=n(l.getItemPreviewImageProps({...a,url:r}),o);return i.useEffect(()=>l.createFileUrl(a.file,F=>e(F)),[a,l]),s.jsx(d.img,{...m,ref:t})});N.displayName="FileUploadItemPreviewImage";const b=i.forwardRef((o,t)=>{const{children:r,...e}=o,l=p(),a=u(),m=n(l.getItemSizeTextProps(a),e);return s.jsx(d.div,{...m,ref:t,children:r||l.getFileSize(a.file)})});b.displayName="FileUploadItemSizeText";const z=i.forwardRef((o,t)=>{const r=p(),e=n(r.getLabelProps(),o);return s.jsx(d.label,{...e,ref:t})});z.displayName="FileUploadLabel";const J=(o={})=>{const{getRootNode:t}=q(),{dir:r}=H(),e=I(),l={id:i.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:r,disabled:e==null?void 0:e.disabled,required:e==null?void 0:e.required,invalid:e==null?void 0:e.invalid,getRootNode:t,...o},a={...l,onFileAccept:U(o.onFileAccept),onFileReject:U(o.onFileReject),onFileChange:U(o.onFileChange,{sync:!0})},[m,F]=G(k(l),{context:a});return E(m,F,L)},T=i.forwardRef((o,t)=>{const[r,e]=f()(o,["accept","allowDrop","capture","directory","disabled","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","required","translations","validate"]),l=J(r),a=n(l.getRootProps(),e);return s.jsx(x,{value:l,children:s.jsx(d.div,{...a,ref:t})})});T.displayName="FileUploadRoot";const A=i.forwardRef((o,t)=>{const[{value:r},e]=f()(o,["value"]),l=n(r.getRootProps(),e);return s.jsx(x,{value:r,children:s.jsx(d.div,{...l,ref:t})})});A.displayName="FileUploadRootProvider";const S=i.forwardRef((o,t)=>{const r=p(),e=n(r.getTriggerProps(),o);return s.jsx(d.button,{...e,ref:t})});S.displayName="FileUploadTrigger";const ie=P("span"),{withProvider:$,withContext:c,useStyles:se,PropsProvider:K}=D({key:"fileUpload"}),de=$(A,"root",{forwardAsChild:!0}),ne=$(T,"root",{forwardAsChild:!0}),pe=K,ce=i.forwardRef(function(t,r){const e=p();return s.jsx(P.button,{ref:r,type:"button","data-scope":"file-upload","data-part":"clear-trigger","aria-label":"Clear selected files",hidden:e.acceptedFiles.length===0,...t,onClick:l=>{var a;(a=t.onClick)==null||a.call(t,l),!l.defaultPrevented&&e.clearFiles()}})}),me=c(v,"dropzone",{forwardAsChild:!0}),ue=c("div","dropzoneContent"),Fe=c(C,"item",{forwardAsChild:!0}),Ue=c("div","itemContent"),fe=c(h,"itemDeleteTrigger",{forwardAsChild:!0}),Pe=c(R,"itemGroup",{forwardAsChild:!0}),ge=c(j,"itemName",{forwardAsChild:!0}),Ie=c(y,"itemPreview",{forwardAsChild:!0}),xe=c(N,"itemPreviewImage",{forwardAsChild:!0}),ve=c(b,"itemSizeText",{forwardAsChild:!0}),we=c(z,"label",{forwardAsChild:!0}),Ce=c(S,"trigger",{forwardAsChild:!0}),he=M,Re=w;export{ne as F,ie as S,Re as a,me as b,ue as c,Fe as d,Ie as e,Ue as f,ge as g,ve as h,fe as i,Pe as j,Ce as k,he as l,ce as m,xe as n,we as o,pe as p,de as q,p as u};

import{j as d}from"./jsx-runtime-CQsLhzk5.js";import{r as l}from"./index-Wp2u197Z.js";import{a5 as j,aj as k,av as C,ay as R,a6 as P,a3 as M,aF as $,az as q,aG as z,E as D,c as m,a1 as F}from"./create-slot-recipe-context-BTQZ2sOO.js";import{d as T}from"./attr-C3Jtgmrz.js";import{u as Y}from"./use-recipe-BTz8rvp_.js";import{c as B,m as U,a as W}from"./checkbox.anatomy-yIMSMJf7.js";import{u as V}from"./use-field-context-B2lpNrC2.js";const[w,v]=j({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),S=l.forwardRef((n,o)=>{const e=v(),t=k(e.getControlProps(),n);return d.jsx(C.div,{...t,ref:o})});S.displayName="CheckboxControl";function _(n){const{value:o,onChange:e,defaultValue:t}=n,[r,c]=l.useState(t),s=o!==void 0,i=s?o:r,h=l.useCallback(u=>(s||c(u),e==null?void 0:e(u)),[s,e]);return[i,h]}function J(n={}){const{defaultValue:o,value:e,onValueChange:t,disabled:r,readOnly:c,name:s,invalid:i}=n,h=!(r||c),u=R(t,{sync:!0}),[b,p]=_({value:e,defaultValue:o||[],onChange:u}),x=a=>b.some(f=>String(f)===String(a)),g=a=>{x(a)?H(a):y(a)},y=a=>{h&&(x(a)||p(b.concat(a)))},H=a=>{h&&p(b.filter(f=>String(f)!==String(a)))};return{isChecked:x,value:b,name:s,disabled:!!r,readOnly:!!c,invalid:!!i,setValue:p,addValue:y,toggleValue:g,getItemProps:a=>({checked:a.value!=null?x(a.value):void 0,onCheckedChange(){a.value!=null&&g(a.value)},name:s,disabled:r,readOnly:c,invalid:i})}}const[K,Q]=j({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),I=l.forwardRef((n,o)=>{const[e,t]=P()(n,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),r=J(e);return d.jsx(K,{value:r,children:d.jsx(C.div,{ref:o,role:"group",...t,...B.build().group.attrs})})});I.displayName="CheckboxGroup";const N=l.forwardRef((n,o)=>{const e=v(),t=k(e.getHiddenInputProps(),n),r=V();return d.jsx(C.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...t,ref:o})});N.displayName="CheckboxHiddenInput";const G=l.forwardRef((n,o)=>{const e=v(),t=k(e.getLabelProps(),n);return d.jsx(C.span,{...t,ref:o})});G.displayName="CheckboxLabel";const X=(n={})=>{const o=Q(),e=V(),t=l.useMemo(()=>k(n,(o==null?void 0:o.getItemProps({value:n.value}))??{}),[n,o]),{getRootNode:r}=M(),{dir:c}=$(),s={id:l.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:c,disabled:e==null?void 0:e.disabled,readOnly:e==null?void 0:e.readOnly,invalid:e==null?void 0:e.invalid,required:e==null?void 0:e.required,getRootNode:r,checked:t.defaultChecked,...t},i={...s,checked:t.checked,onCheckedChange:R(t.onCheckedChange,{sync:!0})},[h,u]=q(U(s),{context:i});return W(h,u,z)},L=l.forwardRef((n,o)=>{const[e,t]=P()(n,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),r=X(e),c=k(r.getRootProps(),t);return d.jsx(w,{value:r,children:d.jsx(C.label,{...c,ref:o})})});L.displayName="CheckboxRoot";const A=l.forwardRef((n,o)=>{const[{value:e},t]=P()(n,["value"]),r=k(e.getRootProps(),t);return d.jsx(w,{value:e,children:d.jsx(C.label,{...r,ref:o})})});A.displayName="CheckboxRootProvider";const Z=l.forwardRef(function(o,e){const t=Y({key:"checkmark",recipe:o.recipe}),[r,c]=t.splitVariantProps(o),{checked:s,indeterminate:i,disabled:h,unstyled:u,children:b,...p}=c,x=u?D:t(r);return d.jsx(m.svg,{ref:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3px",strokeLinecap:"round",strokeLinejoin:"round","data-state":i?"indeterminate":s?"checked":"unchecked","data-disabled":T(h),css:[x,o.css],...p,children:i?d.jsx("path",{d:"M5 12h14"}):s?d.jsx("polyline",{points:"20 6 9 17 4 12"}):null})}),{withProvider:E,withContext:O,useStyles:ee,PropsProvider:ie}=F({key:"checkbox"});E(A,"root",{forwardAsChild:!0});const le=E(L,"root",{forwardAsChild:!0}),ue=O(G,"label",{forwardAsChild:!0}),he=O(S,"control",{forwardAsChild:!0}),xe=l.forwardRef(function(o,e){const{checked:t,indeterminate:r,...c}=o,s=v(),i=ee();return t&&s.checked?d.jsx(m.svg,{ref:e,asChild:!0,...c,css:[i.indicator,o.css],children:t}):r&&s.indeterminate?d.jsx(m.svg,{ref:e,asChild:!0,...c,css:[i.indicator,o.css],children:r}):d.jsx(Z,{ref:e,checked:s.checked,indeterminate:s.indeterminate,disabled:s.disabled,unstyled:!0,...c,css:[i.indicator,o.css]})});m(I,{base:{display:"flex",flexDirection:"column",gap:"1.5"}},{forwardAsChild:!0});const ke=N;export{le as C,ke as a,he as b,xe as c,ue as d};

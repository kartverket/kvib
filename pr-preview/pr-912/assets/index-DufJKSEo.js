import{c as j}from"./index-BRNWFSEf.js";import{j as Y,k as J,a as Q,l as Z,i as ee,d as te,m as ne}from"./index-BgkvX0F_.js";import{c as re,q as oe,d,a as ae,r as ie}from"./index-C5caIrke.js";import{d as ue,t as le}from"./index-NfPDfnaY.js";import{c as se,a as de,d as R}from"./index-DXMatsKm.js";import{c as H}from"./index-Ctx6eFvH.js";function ce(e,n,t){return e===0?t:n[e-1]}function ge(e,n,t){return e===n.length-1?t:n[e+1]}function fe(e,n,t){return Math.round((e-n)/t)*t+n}function P(e,n,t){return Math.min(Math.max(e,n),t)}function M(e,n,t){return(e-n)/(t-n)}function U(e,n,t,r){const o=e*(t-n)+n,a=fe(o,n,r);return P(a,n,t)}function V(e,n){let t=e,r=n.toString(),o=r.indexOf("."),a=o>=0?r.length-o:0;if(a>0){let s=Math.pow(10,a);t=Math.round(t*s)/s}return t}function $(e,n,t,r){n=Number(n),t=Number(t);let o=(e-(isNaN(n)?0:n))%r,a=V(Math.abs(o)*2>=r?e+Math.sign(o)*(r-Math.abs(o)):e-o,r);return isNaN(n)?!isNaN(t)&&a>t&&(a=Math.floor(V(t/r,r))*r):a<n?a=n:!isNaN(t)&&a>t&&(a=n+Math.floor(V((t-n)/r,r))*r),a=V(a,r),a}function me(e,n,t){return e[n]===t?e:[...e.slice(0,n),t,...e.slice(n+1)]}function z(e,n){const t=ce(e,n.values,n.min),r=ge(e,n.values,n.max);let o=n.values.slice();return function(s){let c=$(s,t,r,n.step);return o=me(o,e,s),o[e]=c,o}}function he(e,n){const t=n.values[e]+n.step;return z(e,n)(t)}function ve(e,n){const t=n.values[e]-n.step;return z(e,n)(t)}function be(e,n){let t=e.findIndex(a=>n-a<0);if(t===0)return t;if(t===-1)return e.length-1;let r=e[t-1],o=e[t];return Math.abs(r-n)<Math.abs(o-n)?t-1:t}function pe(e,n,t,r){return e.map((o,a)=>{const s=a===0?n:e[a-1]+r,c=a===e.length-1?t:e[a+1]-r;return{min:s,max:c,value:o}})}function x(e,n){const t={min:e[0],max:e[1]},r={min:n[0],max:n[1]};return function(a){if(t.min===t.max||r.min===r.max)return r.min;const s=(r.max-r.min)/(t.max-t.min);return r.min+s*(a-t.min)}}function Ie(e,n){if(!e){n(void 0);return}n({width:e.offsetWidth,height:e.offsetHeight});const t=e.ownerDocument.defaultView??window,r=new t.ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const[a]=o;let s,c;if("borderBoxSize"in a){const g=a.borderBoxSize,h=Array.isArray(g)?g[0]:g;s=h.inlineSize,c=h.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}function ye(e){const{getNodes:n,observeMutation:t=!0,callback:r}=e,o=[];let a=null;function s(){const c=n();a=c[0];const g=c.map((h,b)=>Ie(h,E=>{r(E,b)}));o.push(...g)}if(s(),t){const c=Ee(a,s);o.push(c)}return()=>{o.forEach(c=>{c==null||c()})}}function Ee(e,n){var o;if(!e||!e.parentElement)return;const t=((o=e.ownerDocument)==null?void 0:o.defaultView)??window,r=new t.MutationObserver(()=>{n()});return r.observe(e.parentElement,{childList:!0}),()=>{r.disconnect()}}var Te=j("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),v=Te.build();function Ve(e){const n=e[0],t=e[e.length-1];return[n,t]}function Ae(e){const[n,t]=Ve(e.valuePercent);if(e.valuePercent.length===1){if(e.origin==="center"){const r=e.valuePercent[0]<50,o=r?`${e.valuePercent[0]}%`:"50%",a=r?"50%":`${100-e.valuePercent[0]}%`;return{start:o,end:a}}return{start:"0%",end:`${100-t}%`}}return{start:`${n}%`,end:`${100-t}%`}}function Pe(e){return e.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[e.isRtl?"right":"left"]:"var(--slider-range-start)",[e.isRtl?"left":"right"]:"var(--slider-range-end)"}}function Se(e){const{height:n=0}=e.thumbSize??{},t=x([e.min,e.max],[-n/2,n/2]);return parseFloat(t(e.value).toFixed(2))}function Re(e){const{width:n=0}=e.thumbSize??{};if(e.isRtl){const r=x([e.max,e.min],[-n/2,n/2]);return-1*parseFloat(r(e.value).toFixed(2))}const t=x([e.min,e.max],[-n/2,n/2]);return parseFloat(t(e.value).toFixed(2))}function xe(e,n){if(e.thumbAlignment==="center")return`${n}%`;const t=e.isVertical?Se(e):Re(e);return`calc(${n}% - ${t}px)`}function B(e){let n=M(e.value,e.min,e.max)*100;return xe(e,n)}function W(e){let n="visible";return e.thumbAlignment==="contain"&&!e.hasMeasuredThumbSize&&(n="hidden"),n}function Ce(e,n){const t=e.isVertical?"bottom":"insetInlineStart";return{visibility:W(e),position:"absolute",transform:"var(--slider-thumb-transform)",[t]:`var(--slider-thumb-offset-${n})`}}function Me(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function ke(e){const n=Ae(e);return{...e.value.reduce((r,o,a)=>{const s=B({...e,value:o});return{...r,[`--slider-thumb-offset-${a}`]:s}},{}),"--slider-thumb-transform":e.isVertical?"translateY(50%)":e.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":n.start,"--slider-range-end":n.end}}function Oe(e,n){return{visibility:W(e),position:"absolute",pointerEvents:"none",[e.isHorizontal?"insetInlineStart":"bottom"]:B({...e,value:n}),translate:"var(--tx) var(--ty)","--tx":e.isHorizontal?e.isRtl?"50%":"-50%":"0%","--ty":e.isHorizontal?"0%":"50%"}}function Ne(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var we={getRootStyle:ke,getControlStyle:Me,getThumbStyle:Ce,getRangeStyle:Pe,getMarkerStyle:Oe,getMarkerGroupStyle:Ne},i=re({...we,getRootId:e=>{var n;return((n=e.ids)==null?void 0:n.root)??`slider:${e.id}`},getThumbId:(e,n)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.thumb)==null?void 0:r.call(t,n))??`slider:${e.id}:thumb:${n}`},getHiddenInputId:(e,n)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.hiddenInput)==null?void 0:r.call(t,n))??`slider:${e.id}:input:${n}`},getControlId:e=>{var n;return((n=e.ids)==null?void 0:n.control)??`slider:${e.id}:control`},getTrackId:e=>{var n;return((n=e.ids)==null?void 0:n.track)??`slider:${e.id}:track`},getRangeId:e=>{var n;return((n=e.ids)==null?void 0:n.range)??`slider:${e.id}:range`},getLabelId:e=>{var n;return((n=e.ids)==null?void 0:n.label)??`slider:${e.id}:label`},getValueTextId:e=>{var n;return((n=e.ids)==null?void 0:n.valueText)??`slider:${e.id}:value-text`},getMarkerId:(e,n)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.marker)==null?void 0:r.call(t,n))??`slider:${e.id}:marker:${n}`},getRootEl:e=>i.getById(e,i.getRootId(e)),getThumbEl:(e,n)=>i.getById(e,i.getThumbId(e,n)),getHiddenInputEl:(e,n)=>i.getById(e,i.getHiddenInputId(e,n)),getControlEl:e=>i.getById(e,i.getControlId(e)),getElements:e=>oe(i.getControlEl(e),"[role=slider]"),getFirstEl:e=>i.getElements(e)[0],getRangeEl:e=>i.getById(e,i.getRangeId(e)),getValueFromPoint(e,n){const t=i.getControlEl(e);if(!t)return;const o=Y(n,t).getPercentValue({orientation:e.orientation,dir:e.dir,inverted:{y:!0}});return U(o,e.min,e.max,e.step)},dispatchChangeEvent(e){Array.from(e.value).forEach((t,r)=>{const o=i.getHiddenInputEl(e,r);o&&ue(o,{value:t})})}});function _(e,n){return n.map((t,r,o)=>C({...e,value:o},t,r))}function I(e,n){return pe(e.value,e.min,e.max,e.minStepsBetweenThumbs)[n]}function C(e,n,t){const r=I(e,t),o=$(n,e.min,e.max,e.step);return P(o,r.min,r.max)}function De(e,n,t){const r=n??e.focusedIndex,o=I(e,r),a=ve(r,{...o,step:t??e.step,values:e.value});return a[r]=P(a[r],o.min,o.max),a}function Fe(e,n,t){const r=n??e.focusedIndex,o=I(e,r),a=he(r,{...o,step:t??e.step,values:e.value});return a[r]=P(a[r],o.min,o.max),a}function _e(e,n){return be(e.value,n)}function He(e,n){for(let t=0;t<n.length;t++){const r=n[t];e[t]=r}}function qe(e,n,t){const r=e.context["aria-label"],o=e.context["aria-labelledby"],a=e.context.value,s=e.matches("focus"),c=e.matches("dragging"),g=e.context.isDisabled,h=e.context.invalid,b=e.context.isInteractive,E=e.context.orientation==="horizontal",k=e.context.orientation==="vertical";function O(u){return M(u,e.context.min,e.context.max)}function N(u){return U(u,e.context.min,e.context.max,e.context.step)}return{value:e.context.value,dragging:c,focused:s,setValue(u){n({type:"SET_VALUE",value:u})},getThumbValue(u){return a[u]},setThumbValue(u,l){n({type:"SET_VALUE",index:u,value:l})},getValuePercent:O,getPercentValue:N,getThumbPercent(u){return O(a[u])},setThumbPercent(u,l){const f=N(l);n({type:"SET_VALUE",index:u,value:f})},getThumbMin(u){return I(e.context,u).min},getThumbMax(u){return I(e.context,u).max},increment(u){n({type:"INCREMENT",index:u})},decrement(u){n({type:"DECREMENT",index:u})},focus(){b&&n({type:"FOCUS",index:0})},getLabelProps(){return t.label({...v.label.attrs,dir:e.context.dir,"data-disabled":d(g),"data-orientation":e.context.orientation,"data-invalid":d(h),"data-dragging":d(c),"data-focus":d(s),id:i.getLabelId(e.context),htmlFor:i.getHiddenInputId(e.context,0),onClick(u){var l;b&&(u.preventDefault(),(l=i.getFirstEl(e.context))==null||l.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return t.element({...v.root.attrs,"data-disabled":d(g),"data-orientation":e.context.orientation,"data-dragging":d(c),"data-invalid":d(h),"data-focus":d(s),id:i.getRootId(e.context),dir:e.context.dir,style:i.getRootStyle(e.context)})},getValueTextProps(){return t.element({...v.valueText.attrs,dir:e.context.dir,"data-disabled":d(g),"data-orientation":e.context.orientation,"data-invalid":d(h),"data-focus":d(s),id:i.getValueTextId(e.context)})},getTrackProps(){return t.element({...v.track.attrs,dir:e.context.dir,id:i.getTrackId(e.context),"data-disabled":d(g),"data-invalid":d(h),"data-dragging":d(c),"data-orientation":e.context.orientation,"data-focus":d(s),style:{position:"relative"}})},getThumbProps(u){var w,D;const{index:l=0,name:f}=u,S=a[l],T=I(e.context,l),L=(D=(w=e.context).getAriaValueText)==null?void 0:D.call(w,{value:S,index:l}),G=Array.isArray(r)?r[l]:r,q=Array.isArray(o)?o[l]:o;return t.element({...v.thumb.attrs,dir:e.context.dir,"data-index":l,"data-name":f,id:i.getThumbId(e.context,l),"data-disabled":d(g),"data-orientation":e.context.orientation,"data-focus":d(s&&e.context.focusedIndex===l),"data-dragging":d(c&&e.context.focusedIndex===l),draggable:!1,"aria-disabled":ae(g),"aria-label":G,"aria-labelledby":q??i.getLabelId(e.context),"aria-orientation":e.context.orientation,"aria-valuemax":T.max,"aria-valuemin":T.min,"aria-valuenow":a[l],"aria-valuetext":L,role:"slider",tabIndex:g?void 0:0,style:i.getThumbStyle(e.context,l),onPointerDown(p){b&&(n({type:"THUMB_POINTER_DOWN",index:l}),p.stopPropagation())},onBlur(){b&&n("BLUR")},onFocus(){b&&n({type:"FOCUS",index:l})},onKeyDown(p){if(p.defaultPrevented||!b)return;const y=J(p)*e.context.step,K={ArrowUp(){E||n({type:"ARROW_INC",step:y,src:"ArrowUp"})},ArrowDown(){E||n({type:"ARROW_DEC",step:y,src:"ArrowDown"})},ArrowLeft(){k||n({type:"ARROW_DEC",step:y,src:"ArrowLeft"})},ArrowRight(){k||n({type:"ARROW_INC",step:y,src:"ArrowRight"})},PageUp(){n({type:"ARROW_INC",step:y,src:"PageUp"})},PageDown(){n({type:"ARROW_DEC",step:y,src:"PageDown"})},Home(){n("HOME")},End(){n("END")}},X=Q(p,e.context),F=K[X];F&&(F(p),p.preventDefault(),p.stopPropagation())}})},getHiddenInputProps(u){const{index:l=0,name:f}=u;return t.input({name:f??(e.context.name?e.context.name+(e.context.value.length>1?"[]":""):void 0),form:e.context.form,type:"text",hidden:!0,defaultValue:e.context.value[l],id:i.getHiddenInputId(e.context,l)})},getRangeProps(){return t.element({id:i.getRangeId(e.context),...v.range.attrs,dir:e.context.dir,"data-dragging":d(c),"data-focus":d(s),"data-invalid":d(h),"data-disabled":d(g),"data-orientation":e.context.orientation,style:i.getRangeStyle(e.context)})},getControlProps(){return t.element({...v.control.attrs,dir:e.context.dir,id:i.getControlId(e.context),"data-dragging":d(c),"data-disabled":d(g),"data-orientation":e.context.orientation,"data-invalid":d(h),"data-focus":d(s),style:i.getControlStyle(),onPointerDown(u){if(!b||!Z(u)||ee(u))return;const l=te(u);n({type:"POINTER_DOWN",point:l}),u.preventDefault(),u.stopPropagation()}})},getMarkerGroupProps(){return t.element({...v.markerGroup.attrs,role:"presentation",dir:e.context.dir,"aria-hidden":!0,"data-orientation":e.context.orientation,style:i.getMarkerGroupStyle()})},getMarkerProps(u){const l=i.getMarkerStyle(e.context,u.value);let f;const S=e.context.value[0],T=e.context.value[e.context.value.length-1];return u.value<S?f="under-value":u.value>T?f="over-value":f="at-value",t.element({...v.marker.attrs,id:i.getMarkerId(e.context,u.value),role:"presentation",dir:e.context.dir,"data-orientation":e.context.orientation,"data-value":u.value,"data-disabled":d(g),"data-state":f,style:l})},getDraggingIndicatorProps(u){const{index:l=0}=u,f=l===e.context.focusedIndex&&c;return t.element({...v.draggingIndicator.attrs,role:"presentation",dir:e.context.dir,hidden:!f,"data-orientation":e.context.orientation,"data-state":f?"open":"closed",style:i.getThumbStyle(e.context,l)})}}}var Ue=(e,n)=>(e==null?void 0:e.width)===(n==null?void 0:n.width)&&(e==null?void 0:e.height)===(n==null?void 0:n.height);function Ke(e){const n=se(e);return de({id:"slider",initial:"idle",context:{thumbSize:null,thumbAlignment:"contain",min:0,max:100,step:1,value:[0],origin:"start",orientation:"horizontal",dir:"ltr",minStepsBetweenThumbs:0,disabled:!1,readOnly:!1,...n,focusedIndex:-1,fieldsetDisabled:!1},computed:{isHorizontal:t=>t.orientation==="horizontal",isVertical:t=>t.orientation==="vertical",isRtl:t=>t.orientation==="horizontal"&&t.dir==="rtl",isDisabled:t=>!!t.disabled||t.fieldsetDisabled,isInteractive:t=>!(t.readOnly||t.isDisabled),hasMeasuredThumbSize:t=>t.thumbSize!=null,valuePercent(t){return t.value.map(r=>100*M(r,t.min,t.max))}},watch:{value:["syncInputElements"]},entry:["coarseValue"],activities:["trackFormControlState","trackThumbsSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:"setValueAtIndex"},{actions:"setValue"}],INCREMENT:{actions:"incrementThumbAtIndex"},DECREMENT:{actions:"decrementThumbAtIndex"}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:"setFocusedIndex"},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:"focusActiveThumb",on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:"clearFocusedIndex"}}},dragging:{entry:"focusActiveThumb",activities:"trackPointerMove",on:{POINTER_UP:{target:"focus",actions:"invokeOnChangeEnd"},POINTER_MOVE:{actions:"setPointerValue"}}}}},{guards:{hasIndex:(t,r)=>r.index!=null},activities:{trackFormControlState(t,r,{initialContext:o}){return le(i.getRootEl(t),{onFieldsetDisabledChange(a){t.fieldsetDisabled=a},onFormReset(){m.value(t,o.value)}})},trackPointerMove(t,r,{send:o}){return ne(i.getDoc(t),{onPointerMove(a){o({type:"POINTER_MOVE",point:a.point})},onPointerUp(){o("POINTER_UP")}})},trackThumbsSize(t){if(!(t.thumbAlignment!=="contain"||t.thumbSize))return ye({getNodes:()=>i.getElements(t),observeMutation:!0,callback(r){!r||Ue(t.thumbSize,r)||(t.thumbSize=r)}})}},actions:{syncInputElements(t){t.value.forEach((r,o)=>{const a=i.getHiddenInputEl(t,o);i.setValue(a,r)})},invokeOnChangeEnd(t){A.valueChangeEnd(t)},setClosestThumbIndex(t,r){const o=i.getValueFromPoint(t,r.point);if(o==null)return;const a=_e(t,o);m.focusedIndex(t,a)},setFocusedIndex(t,r){m.focusedIndex(t,r.index)},clearFocusedIndex(t){m.focusedIndex(t,-1)},setPointerValue(t,r){const o=i.getValueFromPoint(t,r.point);if(o==null)return;const a=C(t,o,t.focusedIndex);m.valueAtIndex(t,t.focusedIndex,a)},focusActiveThumb(t){ie(()=>{const r=i.getThumbEl(t,t.focusedIndex);r==null||r.focus({preventScroll:!0})})},decrementThumbAtIndex(t,r){const o=De(t,r.index,r.step);m.value(t,o)},incrementThumbAtIndex(t,r){const o=Fe(t,r.index,r.step);m.value(t,o)},setFocusedThumbToMin(t){const{min:r}=I(t,t.focusedIndex);m.valueAtIndex(t,t.focusedIndex,r)},setFocusedThumbToMax(t){const{max:r}=I(t,t.focusedIndex);m.valueAtIndex(t,t.focusedIndex,r)},coarseValue(t){const r=_(t,t.value);m.value(t,r)},setValueAtIndex(t,r){const o=C(t,r.value,r.index);m.valueAtIndex(t,r.index,o)},setValue(t,r){const o=_(t,r.value);m.value(t,o)}}})}var A={valueChange(e){var n;(n=e.onValueChange)==null||n.call(e,{value:Array.from(e.value)}),i.dispatchChangeEvent(e)},valueChangeEnd(e){var n;(n=e.onValueChangeEnd)==null||n.call(e,{value:Array.from(e.value)})},focusChange(e){var n;(n=e.onFocusChange)==null||n.call(e,{value:Array.from(e.value),focusedIndex:e.focusedIndex})}},m={valueAtIndex:(e,n,t)=>{R(e.value[n],t)||(e.value[n]=t,A.valueChange(e))},value:(e,n)=>{R(e.value,n)||(He(e.value,n),A.valueChange(e))},focusedIndex:(e,n)=>{R(e.focusedIndex,n)||(e.focusedIndex=n,A.focusChange(e))}};H()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);H()(["index","name"]);export{Te as a,qe as c,Ke as m};

import{d as v,e as m,w as I,f as i,I as T,v as y,o as x,p as H,J as D,t as P,H as S}from"./create-slot-recipe-context-BTQZ2sOO.js";import{t as F,i as V}from"./index-CbGW83KV.js";import{t as N,s as O,l as R}from"./h-stack-Bcgbt9nc.js";var b=v("checkbox").parts("root","label","control","indicator"),l=b.build(),o=m({getRootId:e=>{var d;return((d=e.ids)==null?void 0:d.root)??`checkbox:${e.id}`},getLabelId:e=>{var d;return((d=e.ids)==null?void 0:d.label)??`checkbox:${e.id}:label`},getControlId:e=>{var d;return((d=e.ids)==null?void 0:d.control)??`checkbox:${e.id}:control`},getHiddenInputId:e=>{var d;return((d=e.ids)==null?void 0:d.hiddenInput)??`checkbox:${e.id}:input`},getRootEl:e=>o.getById(e,o.getRootId(e)),getHiddenInputEl:e=>o.getById(e,o.getHiddenInputId(e))});function A(e,d,t){const n=e.context.isDisabled,r=e.context.readOnly,a=!n&&e.context.focused,u=!n&&e.context.focusVisible,h=e.context.isChecked,k=e.context.isIndeterminate,s={"data-active":i(e.context.active),"data-focus":i(a),"data-focus-visible":i(u),"data-readonly":i(r),"data-hover":i(e.context.hovered),"data-disabled":i(n),"data-state":k?"indeterminate":e.context.checked?"checked":"unchecked","data-invalid":i(e.context.invalid)};return{checked:h,disabled:n,indeterminate:k,focused:a,checkedState:e.context.checked,setChecked(c){d({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){d({type:"CHECKED.TOGGLE",checked:h,isTrusted:!1})},getRootProps(){return t.label({...l.root.attrs,...s,dir:e.context.dir,id:o.getRootId(e.context),htmlFor:o.getHiddenInputId(e.context),onPointerMove(){n||d({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){n||d({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){T(c)===o.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return t.element({...l.label.attrs,...s,dir:e.context.dir,id:o.getLabelId(e.context)})},getControlProps(){return t.element({...l.control.attrs,...s,dir:e.context.dir,id:o.getControlId(e.context),"aria-hidden":!0})},getIndicatorProps(){return t.element({...l.indicator.attrs,...s,dir:e.context.dir,hidden:!k&&!e.context.checked})},getHiddenInputProps(){return t.input({id:o.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:h,disabled:n,"aria-labelledby":o.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:y,onFocus(){const c=V();d({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){d({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(r){c.preventDefault();return}const f=c.currentTarget.checked;d({type:"CHECKED.SET",checked:f,isTrusted:!0})}})}}}var{not:p}=S;function G(e){const d=x(e);return H({id:"checkbox",initial:"ready",context:{checked:!1,value:"on",disabled:!1,...d,fieldsetDisabled:!1,focusVisible:!1},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:p("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:p("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{isIndeterminate:t=>g(t.checked),isChecked:t=>C(t.checked),isDisabled:t=>!!t.disabled||t.fieldsetDisabled},states:{ready:{}}},{guards:{isTrusted:(t,n)=>!!n.isTrusted},activities:{trackPressEvent(t){if(!t.isDisabled)return D({pointerNode:o.getRootEl(t),keyboardNode:o.getHiddenInputEl(t),isValidKey:n=>n.key===" ",onPress:()=>t.active=!1,onPressStart:()=>t.active=!0,onPressEnd:()=>t.active=!1})},trackFocusVisible(t){if(!t.isDisabled)return F({root:o.getRootNode(t)})},trackFormControlState(t,n,{send:r,initialContext:a}){return N(o.getHiddenInputEl(t),{onFieldsetDisabledChange(u){t.fieldsetDisabled=u},onFormReset(){r({type:"CHECKED.SET",checked:!!a.checked})}})}},actions:{setContext(t,n){Object.assign(t,n.context)},syncInputElement(t){const n=o.getHiddenInputEl(t);n&&(O(n,t.isChecked),n.indeterminate=t.isIndeterminate)},removeFocusIfNeeded(t){t.disabled&&t.focused&&(t.focused=!1,t.focusVisible=!1)},setChecked(t,n){E.checked(t,n.checked)},toggleChecked(t){const n=g(t.checked)?!0:!t.checked;E.checked(t,n)},dispatchChangeEvent(t){const n=o.getHiddenInputEl(t);R(n,{checked:C(t.checked)})}}})}function g(e){return e==="indeterminate"}function C(e){return g(e)?!1:!!e}var K={change:e=>{var d;(d=e.onCheckedChange)==null||d.call(e,{checked:e.checked})}},E={checked:(e,d)=>{P(e.checked,d)||(e.checked=d,K.change(e))}};I()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const $=b.extendWith("group");export{A as a,$ as c,G as m};

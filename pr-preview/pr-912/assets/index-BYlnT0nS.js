import{c as V}from"./index-BRNWFSEf.js";import{q as F,t as W,z as B,c as Y,a as K,y as k,A as X,d as x,g as $}from"./index-Cq1GvU5P.js";import{d as A,c as q,a as v,e as j,i as J,b as Q,h as Z}from"./index-3UVeZ5B9.js";import{c as z,q as ee,B as te,C as ne,F as w,m as ie,E as oe,k as re,G as ae,H as U,I as M,J as D,d as R,r as L,y as se,j as le,e as ge,K as ue}from"./index-C5caIrke.js";import{g as ce,a as H,b as de}from"./index-CSN3utww.js";import{t as he}from"./index-Cbd61W9O.js";import{c as b}from"./index-Ctx6eFvH.js";var S=(t,o)=>({x:t,y:o});function pe(t){const{x:o,y:e,width:n,height:r}=t,s=o+n/2,l=e+r/2;return{x:o,y:e,width:n,height:r,minX:o,minY:e,maxX:o+n,maxY:e+r,midX:s,midY:l,center:S(s,l)}}function Ee(t){const o=S(t.minX,t.minY),e=S(t.maxX,t.minY),n=S(t.maxX,t.maxY),r=S(t.minX,t.maxY);return{top:o,right:e,bottom:n,left:r}}function Oe(t,o){const e=pe(t),{top:n,right:r,left:s,bottom:l}=Ee(e),[u]=o.split("-");return{top:[s,n,r,l],right:[n,r,l,s],bottom:[n,s,l,r],left:[r,n,s,l]}[u]}function me(t,o){const{x:e,y:n}=o;let r=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s].x,E=t[s].y,m=t[l].x,f=t[l].y;E>n!=f>n&&e<(m-u)*(n-E)/(f-E)+u&&(r=!r)}return r}var Te=V("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),h=Te.build(),a=z({getTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.trigger)??`menu:${t.id}:trigger`},getContextTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.contextTrigger)??`menu:${t.id}:ctx-trigger`},getContentId:t=>{var o;return((o=t.ids)==null?void 0:o.content)??`menu:${t.id}:content`},getArrowId:t=>{var o;return((o=t.ids)==null?void 0:o.arrow)??`menu:${t.id}:arrow`},getPositionerId:t=>{var o;return((o=t.ids)==null?void 0:o.positioner)??`menu:${t.id}:popper`},getGroupId:(t,o)=>{var e,n;return((n=(e=t.ids)==null?void 0:e.group)==null?void 0:n.call(e,o))??`menu:${t.id}:group:${o}`},getGroupLabelId:(t,o)=>{var e,n;return((n=(e=t.ids)==null?void 0:e.groupLabel)==null?void 0:n.call(e,o))??`menu:${t.id}:group-label:${o}`},getContentEl:t=>a.getById(t,a.getContentId(t)),getPositionerEl:t=>a.getById(t,a.getPositionerId(t)),getTriggerEl:t=>a.getById(t,a.getTriggerId(t)),getHighlightedItemEl:t=>t.highlightedValue?a.getById(t,t.highlightedValue):null,getArrowEl:t=>a.getById(t,a.getArrowId(t)),getElements:t=>{const e=`[role^="menuitem"][data-ownedby=${CSS.escape(a.getContentId(t))}]:not([data-disabled])`;return ee(a.getContentEl(t),e)},getFirstEl:t=>F(a.getElements(t)),getLastEl:t=>W(a.getElements(t)),getNextEl:(t,o)=>te(a.getElements(t),t.highlightedValue,o??t.loopFocus),getPrevEl:(t,o)=>ne(a.getElements(t),t.highlightedValue,o??t.loopFocus),getElemByKey:(t,o)=>w(a.getElements(t),{state:t.typeaheadState,key:o,activeId:t.highlightedValue}),isTargetDisabled:t=>ie(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),isTriggerItem:t=>{var o;return!!((o=t==null?void 0:t.getAttribute("role"))!=null&&o.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},getOptionFromItemEl(t){return{id:t.id,name:t.dataset.name,value:t.dataset.value,valueText:t.dataset.valueText,type:t.dataset.type}}});function Ne(t,o,e){const n=t.context.isSubmenu,r=t.context.isTypingAhead,s=t.context.composite,l=t.hasTag("open"),u=ce({...t.context.positioning,placement:t.context.anchorPoint?"bottom":t.context.currentPlacement});function E(i){return{disabled:!!i.disabled,highlighted:t.context.highlightedValue===i.value}}function m(i){const g=i.valueText??i.value;return{...i,id:i.value,valueText:g}}function f(i){return{...E(m(i)),checked:!!i.checked}}function _(i){const{value:g,closeOnSelect:I,valueText:T}=i,d=E(i);return e.element({...h.item.attrs,id:g,role:"menuitem","aria-disabled":d.disabled,"data-disabled":R(d.disabled),"data-ownedby":a.getContentId(t.context),"data-highlighted":R(d.highlighted),"data-valuetext":T,onDragStart(c){c.currentTarget.matches("a[href]")&&c.preventDefault()},onPointerMove(c){if(d.disabled||c.pointerType!=="mouse")return;const p=c.currentTarget;d.highlighted||o({type:"ITEM_POINTERMOVE",id:g,target:p,closeOnSelect:I})},onPointerLeave(c){if(d.disabled||c.pointerType!=="mouse"||!t.previousEvent.type.includes("POINTER"))return;const P=c.currentTarget;o({type:"ITEM_POINTERLEAVE",id:g,target:P,closeOnSelect:I})},onPointerDown(c){if(d.disabled)return;const p=c.currentTarget;o({type:"ITEM_POINTERDOWN",target:p,id:g,closeOnSelect:I})},onClick(c){if(M(c)||D(c)||d.disabled)return;const p=c.currentTarget;o({type:"ITEM_CLICK",target:p,id:g,closeOnSelect:I})}})}return{highlightedValue:t.context.highlightedValue,open:l,setOpen(i){i!==l&&o(i?"OPEN":"CLOSE")},setHighlightedValue(i){o({type:"HIGHLIGHTED.SET",id:i})},setParent(i){o({type:"PARENT.SET",value:i,id:i.state.context.id})},setChild(i){o({type:"CHILD.SET",value:i,id:i.state.context.id})},reposition(i={}){o({type:"POSITIONING.SET",options:i})},getContextTriggerProps(){return e.element({...h.contextTrigger.attrs,dir:t.context.dir,id:a.getContextTriggerId(t.context),onPointerDown(i){if(i.pointerType==="mouse")return;const g=A(i);o({type:"CONTEXT_MENU_START",point:g})},onPointerCancel(i){i.pointerType!=="mouse"&&o("CONTEXT_MENU_CANCEL")},onPointerMove(i){i.pointerType!=="mouse"&&o("CONTEXT_MENU_CANCEL")},onPointerUp(i){i.pointerType!=="mouse"&&o("CONTEXT_MENU_CANCEL")},onContextMenu(i){const g=A(i);o({type:"CONTEXT_MENU",point:g}),i.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(i){return B(_({value:i.getTriggerProps().id}),i.getTriggerProps())},getTriggerProps(){return e.button({...n?h.triggerItem.attrs:h.trigger.attrs,"data-placement":t.context.currentPlacement,type:"button",dir:t.context.dir,id:a.getTriggerId(t.context),"data-uid":t.context.id,"aria-haspopup":s?"menu":"dialog","aria-controls":a.getContentId(t.context),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(i){i.pointerType!=="mouse"||a.isTargetDisabled(i.currentTarget)||!n||o({type:"TRIGGER_POINTERMOVE",target:i.currentTarget})},onPointerLeave(i){if(a.isTargetDisabled(i.currentTarget)||i.pointerType!=="mouse"||!n)return;const g=A(i);o({type:"TRIGGER_POINTERLEAVE",target:i.currentTarget,point:g})},onPointerDown(i){a.isTargetDisabled(i.currentTarget)||q(i)||i.preventDefault()},onClick(i){i.defaultPrevented||a.isTargetDisabled(i.currentTarget)||o({type:"TRIGGER_CLICK",target:i.currentTarget})},onBlur(){o("TRIGGER_BLUR")},onFocus(){o("TRIGGER_FOCUS")},onKeyDown(i){if(i.defaultPrevented)return;const g={ArrowDown(){o("ARROW_DOWN")},ArrowUp(){o("ARROW_UP")},Enter(){o({type:"ARROW_DOWN",src:"enter"})},Space(){o({type:"ARROW_DOWN",src:"space"})}},I=v(i,t.context),T=g[I];T&&(i.preventDefault(),T(i))}})},getIndicatorProps(){return e.element({...h.indicator.attrs,dir:t.context.dir,"data-state":l?"open":"closed"})},getPositionerProps(){return e.element({...h.positioner.attrs,dir:t.context.dir,id:a.getPositionerId(t.context),style:u.floating})},getArrowProps(){return e.element({id:a.getArrowId(t.context),...h.arrow.attrs,dir:t.context.dir,style:u.arrow})},getArrowTipProps(){return e.element({...h.arrowTip.attrs,dir:t.context.dir,style:u.arrowTip})},getContentProps(){return e.element({...h.content.attrs,id:a.getContentId(t.context),"aria-label":t.context["aria-label"],hidden:!l,"data-state":l?"open":"closed",role:s?"menu":"dialog",tabIndex:0,dir:t.context.dir,"aria-activedescendant":t.context.highlightedValue??void 0,"aria-labelledby":a.getTriggerId(t.context),"data-placement":t.context.currentPlacement,onPointerEnter(i){i.pointerType==="mouse"&&o("MENU_POINTERENTER")},onKeyDown(i){if(i.defaultPrevented||!oe(i))return;const g=re(i);if(!((g==null?void 0:g.closest("[role=menu]"))===i.currentTarget||g===i.currentTarget))return;if(i.key==="Tab"&&!ae(i)){i.preventDefault();return}const T=a.getHighlightedItemEl(t.context),d={ArrowDown(){o("ARROW_DOWN")},ArrowUp(){o("ARROW_UP")},ArrowLeft(){o("ARROW_LEFT")},ArrowRight(){o("ARROW_RIGHT")},Enter(){o("ENTER"),Z(T)},Space(P){var N;r?o({type:"TYPEAHEAD",key:P.key}):(N=d.Enter)==null||N.call(d,P)},Home(){o("HOME")},End(){o("END")}},c=v(i,{dir:t.context.dir}),p=d[c];if(p){p(i),i.stopPropagation(),i.preventDefault();return}t.context.typeahead&&j(i)&&(J(i)||U(g)||(o({type:"TYPEAHEAD",key:i.key}),i.preventDefault()))}})},getSeparatorProps(){return e.element({...h.separator.attrs,role:"separator",dir:t.context.dir,"aria-orientation":"horizontal"})},getItemState:E,getItemProps:_,getOptionItemState:f,getOptionItemProps(i){const{type:g,disabled:I,onCheckedChange:T,closeOnSelect:d}=i,c=m(i),p=f(i);return{..._(c),...e.element({"data-type":g,...h.item.attrs,dir:t.context.dir,"data-value":c.value,role:`menuitem${g}`,"aria-checked":!!p.checked,"data-state":p.checked?"checked":"unchecked",onClick(P){if(I||M(P)||D(P))return;const N=P.currentTarget;o({type:"ITEM_CLICK",target:N,option:c,closeOnSelect:d}),T==null||T(!p.checked)}})}},getItemIndicatorProps(i){const g=f(i);return e.element({...h.itemIndicator.attrs,dir:t.context.dir,"data-disabled":R(g.disabled),"data-highlighted":R(g.highlighted),"data-state":g.checked?"checked":"unchecked",hidden:!g.checked})},getItemTextProps(i){const g=f(i);return e.element({...h.itemText.attrs,dir:t.context.dir,"data-disabled":R(g.disabled),"data-highlighted":R(g.highlighted),"data-state":g.checked?"checked":"unchecked"})},getItemGroupLabelProps(i){return e.element({id:a.getGroupLabelId(t.context,i.htmlFor),dir:t.context.dir,...h.itemGroupLabel.attrs})},getItemGroupProps(i){return e.element({id:a.getGroupId(t.context,i.id),...h.itemGroup.attrs,dir:t.context.dir,"aria-labelledby":a.getGroupLabelId(t.context,i.id),role:"group"})}}}var{not:O,and:y,or:Ie}=$;function Le(t){const o=Y(t);return K({id:"menu",initial:o.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,...o,positioning:{placement:"bottom-start",gutter:8,...o.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:X(k({})),suspendPointer:!1,restoreFocus:!0,typeaheadState:w.defaultOptions},computed:{isSubmenu:e=>e.parent!==null,isRtl:e=>e.dir==="rtl",isTypingAhead:e=>e.typeaheadState.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:O("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:Ie("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:y(O("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:O("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:y("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:O("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:y(O("suspendPointer"),O("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:y(O("isTriggerItemHighlighted"),O("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:y(O("isTriggerItemHighlighted"),O("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:y(O("isTriggerItemHighlighted"),O("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(e,n)=>!!((n==null?void 0:n.closeOnSelect)??e.closeOnSelect),isTriggerItem:(e,n)=>a.isTriggerItem(n.target),isTriggerItemHighlighted:(e,n)=>{const r=n.target??a.getHighlightedItemEl(e);return!!(r!=null&&r.hasAttribute("aria-controls"))},isSubmenu:e=>e.isSubmenu,suspendPointer:e=>e.suspendPointer,isHighlightedItemEditable:e=>U(a.getHighlightedItemEl(e)),isWithinPolygon:(e,n)=>e.intentPolygon?me(e.intentPolygon,n.point):!1,isOpenControlled:e=>!!e["open.controlled"],isArrowLeftEvent:(e,n)=>{var r;return((r=n.previousEvent)==null?void 0:r.type)==="ARROW_LEFT"},isArrowUpEvent:(e,n)=>{var r;return((r=n.previousEvent)==null?void 0:r.type)==="ARROW_UP"},isArrowDownEvent:(e,n)=>{var r;return((r=n.previousEvent)==null?void 0:r.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:(e,n)=>{var r;return((r=n.previousEvent)==null?void 0:r.type)==="OPEN_AUTOFOCUS"}},activities:{trackPositioning(e){if(e.anchorPoint)return;e.currentPlacement=e.positioning.placement;const n=()=>a.getPositionerEl(e);return H(a.getTriggerEl(e),n,{...e.positioning,defer:!0,onComplete(r){e.currentPlacement=r.placement}})},trackInteractOutside(e,n,{send:r}){return he(()=>a.getContentEl(e),{defer:!0,exclude:[a.getTriggerEl(e)],onInteractOutside:e.onInteractOutside,onFocusOutside:e.onFocusOutside,onEscapeKeyDown(l){var u;(u=e.onEscapeKeyDown)==null||u.call(e,l),e.isSubmenu&&l.preventDefault(),G(e)},onPointerDownOutside(l){var u;e.restoreFocus=!l.detail.focusable,(u=e.onPointerDownOutside)==null||u.call(e,l)},onDismiss(){r({type:"CLOSE",src:"interact-outside"})}})},trackPointerMove(e,n,{guards:r,send:s}){const{isWithinPolygon:l}=r;e.parent.state.context.suspendPointer=!0;const u=a.getDoc(e);return Q(u,"pointermove",E=>{const m={x:E.clientX,y:E.clientY};l(e,{point:m})||(s("POINTER_MOVED_AWAY_FROM_SUBMENU"),e.parent.state.context.suspendPointer=!1)})},scrollToHighlightedItem(e,n,{getState:r}){const s=()=>{if(r().event.type.startsWith("ITEM_POINTER"))return;const E=a.getHighlightedItemEl(e),m=a.getContentEl(e);ue(E,{rootEl:m,block:"nearest"})};return L(()=>s()),se(()=>a.getContentEl(e),{defer:!0,attributes:["aria-activedescendant"],callback:s})}},actions:{setAnchorPoint(e,n){e.anchorPoint=n.point},setSubmenuPlacement(e){e.isSubmenu&&(e.positioning.placement=e.isRtl?"left-start":"right-start",e.positioning.gutter=0)},reposition(e,n){const r=()=>a.getPositionerEl(e),s=e.anchorPoint?()=>({width:0,height:0,...e.anchorPoint}):void 0;H(a.getTriggerEl(e),r,{...e.positioning,defer:!0,getAnchorRect:s,...n.options??{},listeners:!1,onComplete(l){e.currentPlacement=l.placement}})},setOptionState(e,n){if(!n.option)return;const{checked:r,onCheckedChange:s,type:l}=n.option;l==="radio"?s==null||s(!0):l==="checkbox"&&(s==null||s(!r))},clickHighlightedItem(e,n){const r=a.getHighlightedItemEl(e);!r||r.dataset.disabled||queueMicrotask(()=>r.click())},setIntentPolygon(e,n){const r=a.getContentEl(e),s=e.currentPlacement;if(!r||!s)return;const l=r.getBoundingClientRect(),u=Oe(l,s);if(!u)return;const m=de(s)==="right"?-5:5;e.intentPolygon=[{...n.point,x:n.point.x+m},...u]},clearIntentPolygon(e){e.intentPolygon=null},resumePointer(e){e.parent&&(e.parent.state.context.suspendPointer=!1)},setHighlightedItem(e,n){C.highlighted(e,n.id)},clearHighlightedItem(e){C.highlighted(e,null)},focusMenu(e){L(()=>{const n=a.getContentEl(e),r=le({root:n,enabled:!ge(n,a.getActiveElement(e)),filter(s){var l;return!((l=s.role)!=null&&l.startsWith("menuitem"))}});r==null||r.focus({preventScroll:!0})})},highlightFirstItem(e){(a.getContentEl(e)?queueMicrotask:L)(()=>{const r=a.getFirstEl(e);r&&C.highlighted(e,r.id)})},highlightLastItem(e){(a.getContentEl(e)?queueMicrotask:L)(()=>{const r=a.getLastEl(e);r&&C.highlighted(e,r.id)})},highlightNextItem(e,n){const r=a.getNextEl(e,n.loop);C.highlighted(e,(r==null?void 0:r.id)??null)},highlightPrevItem(e,n){const r=a.getPrevEl(e,n.loop);C.highlighted(e,(r==null?void 0:r.id)??null)},invokeOnSelect(e){var n;e.highlightedValue&&((n=e.onSelect)==null||n.call(e,{value:e.highlightedValue}))},focusTrigger(e){e.isSubmenu||e.anchorPoint||!e.restoreFocus||queueMicrotask(()=>{var n;return(n=a.getTriggerEl(e))==null?void 0:n.focus({preventScroll:!0})})},highlightMatchedItem(e,n){const r=a.getElemByKey(e,n.key);r&&C.highlighted(e,r.id)},setParentMenu(e,n){e.parent=k(n.value)},setChildMenu(e,n){e.children[n.id]=k(n.value)},closeRootMenu(e){G(e)},openSubmenu(e){const n=a.getHighlightedItemEl(e),r=n==null?void 0:n.getAttribute("data-uid"),s=r?e.children[r]:null;s==null||s.send("OPEN_AUTOFOCUS")},focusParentMenu(e){var n;(n=e.parent)==null||n.send("FOCUS_MENU")},setLastHighlightedItem(e,n){e.lastHighlightedValue=n.id},restoreHighlightedItem(e){e.lastHighlightedValue&&(C.highlighted(e,e.lastHighlightedValue),e.lastHighlightedValue=null)},restoreParentHiglightedItem(e){var n;(n=e.parent)==null||n.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!0})},invokeOnClose(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!1})},toggleVisibility(e,n,{send:r}){r({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}function G(t){let o=t.parent;for(;o&&o.state.context.isSubmenu;)o=o.state.context.parent;o==null||o.send("CLOSE")}var C={highlighted(t,o){var e;x(t.highlightedValue,o)||(t.highlightedValue=o,(e=t.onHighlightChange)==null||e.call(t,{highlightedValue:o}))}};b()(["anchorPoint","aria-label","closeOnSelect","dir","getRootNode","highlightedValue","id","ids","loopFocus","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onEscapeKeyDown","onSelect","onHighlightChange","open","open.controlled","positioning","typeahead","composite"]);b()(["closeOnSelect","disabled","value","valueText"]);b()(["htmlFor"]);b()(["id"]);b()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);export{Te as a,Ne as c,Le as m};

import{m as p,a as c,c as N}from"./factory-CBKQa84h.js";import{c as $}from"./create-slot-recipe-context-CYjx6fSM.js";import{j as l}from"./jsx-runtime-CLpGMVip.js";import{r as t}from"./index-Cjd7pOeM.js";import{c as H,a as I}from"./create-split-props-L-tVc3XO.js";import{c as M,b as k}from"./create-context-Bo3s1W4a.js";const S=typeof window<"u"?t.useLayoutEffect:t.useEffect,[A,x]=M({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),B=r=>r.children(x()),v=t.forwardRef((r,s)=>{const e=x(),o=p(e.getErrorTextProps(),r);return e.invalid?l.jsx(c.span,{...o,ref:s}):null});v.displayName="FieldsetErrorText";const b=t.forwardRef((r,s)=>{const e=x(),o=p(e.getHelperTextProps(),r);return l.jsx(c.span,{...o,ref:s})});b.displayName="FieldsetHelperText";const E=t.forwardRef((r,s)=>{const e=x(),o=p(e.getLegendProps(),r);return l.jsx(c.legend,{...o,ref:s})});E.displayName="FieldsetLegend";const O=H("fieldset").parts("root","errorText","helperText","legend"),u=O.build(),W=r=>{const{disabled:s=!1,invalid:e=!1}=r,o=t.useRef(!1),d=t.useRef(!1),f=r.id??t.useId(),g=t.useRef(null),i=`fieldset::${f}::error-text`,a=`fieldset::${f}::helper-text`;S(()=>{const n=g.current;if(!n)return;const T=k(n),P=T.document,R=()=>{o.current=!!P.getElementById(i),d.current=!!P.getElementById(a)};R();const h=new T.MutationObserver(R);return h.observe(n,{childList:!0,subtree:!0}),()=>h.disconnect()},[i,a]);const F=t.useMemo(()=>{const n=[];return o.current&&e&&n.push(i),d.current&&n.push(a),n.join(" ")||void 0},[e,i,a]),w=t.useMemo(()=>()=>({...u.root.attrs,ref:g,disabled:s,"data-disabled":s?"true":void 0,"data-invalid":e?"true":void 0,"aria-describedby":F}),[s,e,F]),C=t.useMemo(()=>()=>({...u.legend.attrs,"data-disabled":s?"true":void 0,"data-invalid":e?"true":void 0}),[s,e]),j=t.useMemo(()=>()=>({id:a,...u.helperText.attrs}),[a]),L=t.useMemo(()=>()=>({id:i,...u.errorText.attrs,"aria-live":"polite"}),[i]);return{refs:{rootRef:g},disabled:s,invalid:e,getRootProps:w,getLegendProps:C,getHelperTextProps:j,getErrorTextProps:L}},y=t.forwardRef((r,s)=>{const[e,o]=I()(r,["id","disabled","invalid"]),d=W(e),f=p(d.getRootProps(),o);return l.jsx(A,{value:d,children:l.jsx(c.fieldset,{...f,ref:N(s,d.refs.rootRef)})})});y.displayName="FieldsetRoot";const{withProvider:q,withContext:m}=$({key:"fieldset"}),U=q(y,"root"),V=m(v,"errorText"),X=m(b,"helperText"),Y=m(E,"legend"),Z=m(c.div,"content"),_=B;export{U as F,Y as a,Z as b,S as c,_ as d,V as e,O as f,X as g,x as u};

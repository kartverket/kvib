import{j as n}from"./extends-CwFRzn3r.js";import{r as o,R as Ve}from"./index-BwDkhjyp.js";import{i as at,j as st,g as nt,a as lt,b as ee,d as v,c as te,e as ot,h as j}from"./index-CG31mONj.js";import{u as re}from"./index-DdaX-njP.js";import{u as it}from"./index-DEiKcbOK.js";import{u as ct}from"./index-DjrpCY14.js";import{m as ae}from"./index-Bdxaq0s4.js";import{c as se,p as ut,r as je,v as _e}from"./index-wFQsMYyp.js";import{c as Me}from"./index-CHDWSgKD.js";import{a as dt}from"./chunk-DMO4EI7P-CbM7tafX.js";import{f as _,o as mt,c as R}from"./chunk-ZJJGQIVY-Dk0gAx5w.js";import{u as pt}from"./chunk-UIGT7YZF-BZ8OOi_0.js";import{T as ht}from"./chunk-TK6VMDNP-BW7bH1GJ.js";function bt(r){var l;const{min:s=0,max:a=100,onChange:u,value:D,defaultValue:S,isReversed:K,direction:O="ltr",orientation:h="horizontal",id:I,isDisabled:m,isReadOnly:U,onChangeStart:$e,onChangeEnd:Ke,step:ne=1,getAriaValueText:Oe,"aria-valuetext":Ue,"aria-label":L,"aria-labelledby":le,name:oe,focusThumbOnChange:Le=!0,...ie}=r,ce=re($e),g=re(Ke),ue=re(Oe),p=ot({isReversed:K,direction:O,orientation:h}),[Be,B]=ct({value:D,defaultValue:S??yt(s,a),onChange:u}),[H,de]=o.useState(!1),[W,me]=o.useState(!1),X=!(m||U),Y=(a-s)/10,x=ne||(a-s)/100,i=se(Be,s,a),He=a-i+s,pe=_e(p?He:i,s,a),N=h==="vertical",c=at({min:s,max:a,step:ne,isDisabled:m,value:i,isInteractive:X,isReversed:p,isVertical:N,eventSource:null,focusThumbOnChange:Le,orientation:h}),q=o.useRef(null),G=o.useRef(null),he=o.useRef(null),We=o.useId(),be=I??We,[fe,ye]=[`slider-thumb-${be}`,`slider-track-${be}`],Xe=o.useCallback(e=>{var t,k;if(!q.current)return;const d=c.current;d.eventSource="pointer";const b=q.current.getBoundingClientRect(),{clientX:Q,clientY:et}=(k=(t=e.touches)==null?void 0:t[0])!=null?k:e,tt=N?b.bottom-et:Q-b.left,rt=N?b.height:b.width;let Z=tt/rt;p&&(Z=1-Z);let T=ut(Z,d.min,d.max);return d.step&&(T=parseFloat(je(T,d.min,d.step))),T=se(T,d.min,d.max),T},[N,p,c]),f=o.useCallback(e=>{const t=c.current;t.isInteractive&&(e=parseFloat(je(e,t.min,x)),e=se(e,t.min,t.max),B(e))},[x,B,c]),y=o.useMemo(()=>({stepUp(e=x){const t=p?i-e:i+e;f(t)},stepDown(e=x){const t=p?i+e:i-e;f(t)},reset(){f(S||0)},stepTo(e){f(e)}}),[f,p,i,x,S]),Se=o.useCallback(e=>{const t=c.current,d={ArrowRight:()=>y.stepUp(),ArrowUp:()=>y.stepUp(),ArrowLeft:()=>y.stepDown(),ArrowDown:()=>y.stepDown(),PageUp:()=>y.stepUp(Y),PageDown:()=>y.stepDown(Y),Home:()=>f(t.min),End:()=>f(t.max)}[e.key];d&&(e.preventDefault(),e.stopPropagation(),d(e),t.eventSource="keyboard")},[y,f,Y,c]),ve=(l=ue==null?void 0:ue(i))!=null?l:Ue,J=st(G),{getThumbStyle:ge,rootStyle:xe,trackStyle:ke,innerTrackStyle:Te}=o.useMemo(()=>{const e=c.current,t=J??{width:0,height:0};return nt({isReversed:p,orientation:e.orientation,thumbRects:[t],thumbPercents:[pe]})},[p,J,pe,c]),Pe=o.useCallback(()=>{c.current.focusThumbOnChange&&setTimeout(()=>{var t;return(t=G.current)==null?void 0:t.focus()})},[c]);it(()=>{const e=c.current;Pe(),e.eventSource==="keyboard"&&(g==null||g(e.value))},[i,g]);function Ce(e){const t=Xe(e);t!=null&&t!==c.current.value&&B(t)}lt(he,{onPanSessionStart(e){const t=c.current;t.isInteractive&&(de(!0),Pe(),Ce(e),ce==null||ce(t.value))},onPanSessionEnd(){const e=c.current;e.isInteractive&&(de(!1),g==null||g(e.value))},onPan(e){c.current.isInteractive&&Ce(e)}});const Ye=o.useCallback((e={},t=null)=>({...e,...ie,ref:ae(t,he),tabIndex:-1,"aria-disabled":ee(m),"data-focused":v(W),style:{...e.style,...xe}}),[ie,m,W,xe]),qe=o.useCallback((e={},t=null)=>({...e,ref:ae(t,q),id:ye,"data-disabled":v(m),style:{...e.style,...ke}}),[m,ye,ke]),Ge=o.useCallback((e={},t=null)=>({...e,ref:t,style:{...e.style,...Te}}),[Te]),Je=o.useCallback((e={},t=null)=>({...e,ref:ae(t,G),role:"slider",tabIndex:X?0:void 0,id:fe,"data-active":v(H),"aria-valuetext":ve,"aria-valuemin":s,"aria-valuemax":a,"aria-valuenow":i,"aria-orientation":h,"aria-disabled":ee(m),"aria-readonly":ee(U),"aria-label":L,"aria-labelledby":L?void 0:le,style:{...e.style,...ge(0)},onKeyDown:te(e.onKeyDown,Se),onFocus:te(e.onFocus,()=>me(!0)),onBlur:te(e.onBlur,()=>me(!1))}),[X,fe,H,ve,s,a,i,h,m,U,L,le,ge,Se]),Qe=o.useCallback((e,t=null)=>{const k=!(e.value<s||e.value>a),d=i>=e.value,b=_e(e.value,s,a),Q={position:"absolute",pointerEvents:"none",...ft({orientation:h,vertical:{bottom:p?`${100-b}%`:`${b}%`},horizontal:{left:p?`${100-b}%`:`${b}%`}})};return{...e,ref:t,role:"presentation","aria-hidden":!0,"data-disabled":v(m),"data-invalid":v(!k),"data-highlighted":v(d),style:{...e.style,...Q}}},[m,p,a,s,h,i]),Ze=o.useCallback((e={},t=null)=>({...e,ref:t,type:"hidden",value:i,name:oe}),[oe,i]);return{state:{value:i,isFocused:W,isDragging:H},actions:y,getRootProps:Ye,getTrackProps:qe,getInnerTrackProps:Ge,getThumbProps:Je,getMarkerProps:Qe,getInputProps:Ze}}function ft(r){const{orientation:l,vertical:s,horizontal:a}=r;return l==="vertical"?s:a}function yt(r,l){return l<r?r:r+(l-r)/2}var[St,z]=Me({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[vt,A]=Me({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),w=_((r,l)=>{var s;const a={...r,orientation:(s=r==null?void 0:r.orientation)!=null?s:"horizontal"},u=dt("Slider",a),D=mt(a),{direction:S}=pt();D.direction=S;const{getInputProps:K,getRootProps:O,...h}=bt(D),I=O(),m=K({},l);return n.jsx(St,{value:h,children:n.jsx(vt,{value:u,children:n.jsxs(R.div,{...I,className:j("chakra-slider",a.className),__css:u.container,children:[a.children,n.jsx("input",{...m})]})})})});w.displayName="Slider";var E=_((r,l)=>{const{getThumbProps:s}=z(),a=A(),u=s(r,l);return n.jsx(R.div,{...u,className:j("chakra-slider__thumb",r.className),__css:a.thumb})});E.displayName="SliderThumb";var M=_((r,l)=>{const{getTrackProps:s}=z(),a=A(),u=s(r,l);return n.jsx(R.div,{...u,className:j("chakra-slider__track",r.className),__css:a.track})});M.displayName="SliderTrack";var $=_((r,l)=>{const{getInnerTrackProps:s}=z(),a=A(),u=s(r,l);return n.jsx(R.div,{...u,className:j("chakra-slider__filled-track",r.className),__css:a.filledTrack})});$.displayName="SliderFilledTrack";var F=_((r,l)=>{const{getMarkerProps:s}=z(),a=A(),u=s(r,l);return n.jsx(R.div,{...u,className:j("chakra-slider__marker",r.className),__css:a.mark})});F.displayName="SliderMark";const gt={title:"Skjemaelementer/Slider",component:w,parameters:{docs:{story:{inline:!0},canvas:{sourceState:"shown"}}},argTypes:{"aria-label":{description:"The static string to use used for `aria-label` if no visible label is used.",table:{type:{summary:"string"}},control:{type:"text"}},"aria-labelledby":{description:"The static string `aria-labelledby` that points to the ID of the element that serves as label for the slider.",table:{type:{summary:"string"}},control:{type:"text"}},"aria-valuetext":{description:"The static string to use used for `aria-valuetext`",table:{type:{summary:"string"}},control:{type:"text"}},getAriaValueText:{description:"Function that returns the `aria-valuetext` for screen readers. It is mostly used to generate a more human-readable representation of the value for assistive technologies",table:{type:{summary:"(value: number) => string"}},control:{type:"text"}},id:{description:"The base id to use for the slider and its components",table:{type:{summary:"string"}},control:{type:"text"}},colorScheme:{description:"Color of slider",table:{type:{summary:"green | blue| gray | red"},defaultValue:{summary:"blue"}},options:["green","blue","gray","red"],control:{type:"radio"}},size:{description:"Size of slider",table:{type:{summary:"sm | md | lg"},defaultValue:{summary:"md"}},options:["sm","md","lg"],control:{type:"radio"}},min:{description:"The minimum allowed value of the slider. Cannot be greater than max.",table:{type:{summary:"number"},defaultValue:{summary:"0"}},control:{type:"number"}},max:{description:"The maximum allowed value of the slider. Cannot be less than min.",table:{type:{summary:"number"},defaultValue:{summary:"100"}},control:{type:"number"}},isDisabled:{description:"If true, the slider will be disabled",table:{type:{summary:"boolean"},defaultValue:{summary:!1}},control:"boolean"},defaultValue:{description:"The initial value of the slider in uncontrolled mode",table:{type:{summary:"number"}},control:{type:"number"}}}},P={args:{"aria-label":"sliderDefault",id:"slider"},render:r=>n.jsxs(w,{...r,children:[n.jsx(M,{children:n.jsx($,{})}),n.jsx(E,{})]})},C={args:{"aria-label":"sliderDiscrete",defaultValue:30,id:"slider",step:10},render:r=>n.jsxs(w,{...r,children:[n.jsx(M,{children:n.jsx($,{})}),n.jsx(E,{})]})},xt=()=>{const[r,l]=Ve.useState(5),[s,a]=Ve.useState(!1);return n.jsxs(w,{id:"slider","aria-label":"sliderWithTooltip",defaultValue:5,onChange:u=>l(u),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[n.jsx(F,{value:25,mt:"1",ml:"-2.5",fontSize:"sm",children:"25%"}),n.jsx(F,{value:50,mt:"1",ml:"-2.5",fontSize:"sm",children:"50%"}),n.jsx(F,{value:75,mt:"1",ml:"-2.5",fontSize:"sm",children:"75%"}),n.jsx(M,{children:n.jsx($,{})}),n.jsx(ht,{hasArrow:!0,placement:"top",isOpen:s,label:`${r}%`,children:n.jsx(E,{})})]})},V={render:()=>n.jsx(xt,{})};var Re,we,De;P.parameters={...P.parameters,docs:{...(Re=P.parameters)==null?void 0:Re.docs,source:{originalSource:`{
  args: {
    "aria-label": "sliderDefault",
    id: "slider"
  },
  render: args => <KvibSlider {...args}>
      <SliderTrack>
        <SliderFilledTrack />
      </SliderTrack>
      <SliderThumb />
    </KvibSlider>
}`,...(De=(we=P.parameters)==null?void 0:we.docs)==null?void 0:De.source}}};var Ie,Ne,Fe;C.parameters={...C.parameters,docs:{...(Ie=C.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    "aria-label": "sliderDiscrete",
    defaultValue: 30,
    id: "slider",
    step: 10
  },
  render: args => <KvibSlider {...args}>
      <SliderTrack>
        <SliderFilledTrack />
      </SliderTrack>
      <SliderThumb />
    </KvibSlider>
}`,...(Fe=(Ne=C.parameters)==null?void 0:Ne.docs)==null?void 0:Fe.source}}};var ze,Ae,Ee;V.parameters={...V.parameters,docs:{...(ze=V.parameters)==null?void 0:ze.docs,source:{originalSource:`{
  render: () => <SliderWithTooltip />
}`,...(Ee=(Ae=V.parameters)==null?void 0:Ae.docs)==null?void 0:Ee.source}}};const kt=["Slider","SliderDiscrete","SliderTooltip"],Mt=Object.freeze(Object.defineProperty({__proto__:null,Slider:P,SliderDiscrete:C,SliderTooltip:V,__namedExportsOrder:kt,default:gt},Symbol.toStringTag,{value:"Module"}));export{Mt as S,C as a,V as b,P as c};

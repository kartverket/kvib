import{r as p}from"./index-BwDkhjyp.js";import{u as I}from"./index-DdaX-njP.js";import{u as h}from"./index-DEiKcbOK.js";import{c as C,x as g}from"./chunk-ZJJGQIVY-CoI1iMVy.js";import{j as d}from"./extends-CwFRzn3r.js";import{b as k,m as w}from"./proxy-CzVOQe18.js";import{A as O}from"./chunk-CUKBNH6U-Bnoln8s6.js";import{b as q,A as M}from"./chunk-3KCBMPN5-Dapgpkcw.js";import{A as z}from"./chunk-QURMB2UJ-D6nRmiHQ.js";import{C as B}from"./chunk-37N6GCLA-D1CkRx4c.js";import{P as $}from"./chunk-34PD6CUK-B1dqEPkL.js";import{c as D}from"./index-CHDWSgKD.js";import{A as L}from"./index-CBajw-n2.js";var N=(s,e)=>s.find(i=>i.id===e);function T(s,e){const i=S(s,e),t=i?s[i].findIndex(o=>o.id===e):-1;return{position:i,index:t}}function S(s,e){for(const[i,t]of Object.entries(s))if(N(t,e))return i}function V(s){const e=s.includes("right"),i=s.includes("left");let t="center";return e&&(t="flex-end"),i&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}function W(s){const i=s==="top"||s==="bottom"?"0 auto":void 0,t=s.includes("top")?"env(safe-area-inset-top, 0px)":void 0,o=s.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,n=s.includes("left")?void 0:"env(safe-area-inset-right, 0px)",a=s.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:i,top:t,bottom:o,right:n,left:a}}function F(s,e){const i=I(s);p.useEffect(()=>{if(e==null)return;let t=null;return t=window.setTimeout(()=>{i()},e),()=>{t&&window.clearTimeout(t)}},[e,i])}var H={initial:s=>{const{position:e}=s,i=["top","bottom"].includes(e)?"y":"x";let t=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(t=1),{opacity:0,[i]:t*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},j=p.memo(s=>{const{id:e,message:i,onCloseComplete:t,onRequestRemove:o,requestClose:n=!1,position:a="bottom",duration:r=5e3,containerStyle:c,motionVariants:l=H,toastSpacing:u="0.5rem"}=s,[x,v]=p.useState(r),f=k();h(()=>{f||t==null||t()},[f]),h(()=>{v(r)},[r]);const E=()=>v(null),P=()=>v(r),b=()=>{f&&o()};p.useEffect(()=>{f&&n&&o()},[f,n,o]),F(b,x);const R=p.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...c}),[c,u]),_=p.useMemo(()=>V(a),[a]);return d.jsx(w.div,{layout:!0,className:"chakra-toast",variants:l,initial:"initial",animate:"animate",exit:"exit",onHoverStart:E,onHoverEnd:P,custom:{position:a},style:_,children:d.jsx(C.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:R,children:g(i,{id:e,onClose:b})})})});j.displayName="ToastComponent";function K(s,e){var i;const t=s??"bottom",n={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[t];return(i=n==null?void 0:n[e])!=null?i:t}var U={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},m=G(U);function G(s){let e=s;const i=new Set,t=o=>{e=o(e),i.forEach(n=>n())};return{getState:()=>e,subscribe:o=>(i.add(o),()=>{t(()=>s),i.delete(o)}),removeToast:(o,n)=>{t(a=>({...a,[n]:a[n].filter(r=>r.id!=o)}))},notify:(o,n)=>{const a=J(o,n),{position:r,id:c}=a;return t(l=>{var u,x;const f=r.includes("top")?[a,...(u=l[r])!=null?u:[]]:[...(x=l[r])!=null?x:[],a];return{...l,[r]:f}}),c},update:(o,n)=>{o&&t(a=>{const r={...a},{position:c,index:l}=T(r,o);return c&&l!==-1&&(r[c][l]={...r[c][l],...n,message:A(n)}),r})},closeAll:({positions:o}={})=>{t(n=>(o??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((c,l)=>(c[l]=n[l].map(u=>({...u,requestClose:!0})),c),{...n}))},close:o=>{t(n=>{const a=S(n,o);return a?{...n,[a]:n[a].map(r=>r.id==o?{...r,requestClose:!0}:r)}:n})},isActive:o=>!!T(m.getState(),o).position}}var y=0;function J(s,e={}){var i,t;y+=1;const o=(i=e.id)!=null?i:y,n=(t=e.position)!=null?t:"bottom";return{id:o,message:s,position:n,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>m.removeToast(String(o),n),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var Q=s=>{const{status:e,variant:i="solid",id:t,title:o,isClosable:n,onClose:a,description:r,colorScheme:c,icon:l}=s,u=t?{root:`toast-${t}`,title:`toast-${t}-title`,description:`toast-${t}-description`}:void 0;return d.jsxs(q,{addRole:!1,status:e,variant:i,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:c,children:[d.jsx(M,{children:l}),d.jsxs(C.div,{flex:"1",maxWidth:"100%",children:[o&&d.jsx(z,{id:u==null?void 0:u.title,children:o}),r&&d.jsx(O,{id:u==null?void 0:u.description,display:"block",children:r})]}),n&&d.jsx(B,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function A(s={}){const{render:e,toastComponent:i=Q}=s;return o=>typeof e=="function"?e({...o,...s}):d.jsx(i,{...o,...s})}function ut(s,e){const i=o=>{var n;return{...e,...o,position:K((n=o==null?void 0:o.position)!=null?n:e==null?void 0:e.position,s)}},t=o=>{const n=i(o),a=A(n);return m.notify(a,n)};return t.update=(o,n)=>{m.update(o,i(n))},t.promise=(o,n)=>{const a=t({...n.loading,status:"loading",duration:null});o.then(r=>t.update(a,{status:"success",duration:5e3,...g(n.success,r)})).catch(r=>t.update(a,{status:"error",duration:5e3,...g(n.error,r)}))},t.closeAll=m.closeAll,t.close=m.close,t.isActive=m.isActive,t}var[dt,mt]=D({name:"ToastOptionsContext",strict:!1}),ft=s=>{const e=p.useSyncExternalStore(m.subscribe,m.getState,m.getState),{motionVariants:i,component:t=j,portalProps:o}=s,a=Object.keys(e).map(r=>{const c=e[r];return d.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${r}`,id:`chakra-toast-manager-${r}`,style:W(r),children:d.jsx(L,{initial:!1,children:c.map(l=>d.jsx(t,{motionVariants:i,...l},l.id))})},r)});return d.jsx($,{...o,children:a})};export{dt as T,ft as a,ut as c,mt as u};

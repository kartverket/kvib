import{c as v}from"./index-CHDWSgKD.js";import{j as l}from"./extends-CwFRzn3r.js";import{u as f}from"./index-DJS8qWMq.js";import{r as h}from"./index-Dn0f7ynd.js";import{r as i}from"./index-BwDkhjyp.js";var[j,N]=v({strict:!1,name:"PortalManagerContext"});function y(t){const{children:s,zIndex:n}=t;return l.jsx(j,{value:{zIndex:n},children:s})}y.displayName="PortalManager";var[C,g]=v({strict:!1,name:"PortalContext"}),m="chakra-portal",z=".chakra-portal",I=t=>l.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),M=t=>{const{appendToParentPortal:s,children:n}=t,[o,c]=i.useState(null),e=i.useRef(null),[,r]=i.useState({});i.useEffect(()=>r({}),[]);const d=g(),a=N();f(()=>{if(!o)return;const u=o.ownerDocument,p=s?d??u.body:u.body;if(!p)return;e.current=u.createElement("div"),e.current.className=m,p.appendChild(e.current),r({});const x=e.current;return()=>{p.contains(x)&&p.removeChild(x)}},[o]);const E=a!=null&&a.zIndex?l.jsx(I,{zIndex:a==null?void 0:a.zIndex,children:n}):n;return e.current?h.createPortal(l.jsx(C,{value:e.current,children:E}),e.current):l.jsx("span",{ref:u=>{u&&c(u)}})},R=t=>{const{children:s,containerRef:n,appendToParentPortal:o}=t,c=n.current,e=c??(typeof window<"u"?document.body:void 0),r=i.useMemo(()=>{const a=c==null?void 0:c.ownerDocument.createElement("div");return a&&(a.className=m),a},[c]),[,d]=i.useState({});return f(()=>d({}),[]),f(()=>{if(!(!r||!e))return e.appendChild(r),()=>{e.removeChild(r)}},[r,e]),e&&r?h.createPortal(l.jsx(C,{value:o?r:null,children:s}),r):null};function P(t){const s={appendToParentPortal:!0,...t},{containerRef:n,...o}=s;return n?l.jsx(R,{containerRef:n,...o}):l.jsx(M,{...o})}P.className=m;P.selector=z;P.displayName="Portal";export{P,y as a};

import{g as Fe,u as Ue,a as ee,d as C,c as te,o as $e,b as ze,e as Ke,f as ae}from"./chunk-AQIKOOGA-oXJtcg7Q.js";import{u as Oe}from"./index-DjrpCY14.js";import{u as ne}from"./index-DdaX-njP.js";import{u as He}from"./index-DEiKcbOK.js";import{m as pe}from"./index-Bdxaq0s4.js";import{c as be,v as Se,p as Le,r as Ye}from"./index-wFQsMYyp.js";import{r as o}from"./index-BwDkhjyp.js";import{a as qe}from"./index-Foi2qy3n.js";import{c as ye}from"./index-CHDWSgKD.js";import{a as Xe}from"./chunk-DMO4EI7P-D6u3hnqn.js";import{f as M,o as Ge,c as N}from"./chunk-ZJJGQIVY-CoI1iMVy.js";import{u as Je}from"./chunk-UIGT7YZF-XoNRsZNz.js";import{j as P}from"./extends-CwFRzn3r.js";function Qe(h){const{min:r=0,max:s=100,onChange:i,value:f,defaultValue:c,isReversed:T,direction:k="ltr",orientation:p="horizontal",id:D,isDisabled:x,isReadOnly:z,onChangeStart:xe,onChangeEnd:ke,step:re=1,getAriaValueText:Re,"aria-valuetext":K,"aria-label":w,"aria-labelledby":O,name:E,focusThumbOnChange:se=!0,minStepsBetweenThumbs:Pe=0,...oe}=h,le=ne(xe),I=ne(ke),H=ne(Re),S=ze({isReversed:T,direction:k,orientation:p}),[j,L]=Oe({value:f,defaultValue:c??[25,75],onChange:i});if(!Array.isArray(j))throw new TypeError(`[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof j}\``);const[Y,ue]=o.useState(!1),[q,X]=o.useState(!1),[l,_]=o.useState(-1),V=!(x||z),Te=o.useRef(j),d=j.map(e=>be(e,r,s)),Ve=Pe*re,R=We(d,r,s,Ve),g=o.useRef({eventSource:null,value:[],valueBounds:[]});g.current.value=d,g.current.valueBounds=R;const Ae=d.map(e=>s-e+r),G=(S?Ae:d).map(e=>Se(e,r,s)),J=p==="vertical",Q=o.useRef(null),B=o.useRef(null),ie=qe({getNodes(){const e=B.current,t=e==null?void 0:e.querySelectorAll("[role=slider]");return t?Array.from(t):[]}}),Ce=o.useId(),m=Ke(D??Ce),ce=o.useCallback(e=>{var t,a;if(!Q.current)return;g.current.eventSource="pointer";const n=Q.current.getBoundingClientRect(),{clientX:u,clientY:y}=(a=(t=e.touches)==null?void 0:t[0])!=null?a:e,b=J?n.bottom-y:u-n.left,A=J?n.height:n.width;let Z=b/A;return S&&(Z=1-Z),Le(Z,r,s)},[J,S,s,r]),W=(s-r)/10,F=re||(s-r)/100,v=o.useMemo(()=>({setValueAtIndex(e,t){if(!V)return;const a=g.current.valueBounds[e];t=parseFloat(Ye(t,a.min,F)),t=be(t,a.min,a.max);const n=[...g.current.value];n[e]=t,L(n)},setActiveIndex:_,stepUp(e,t=F){const a=g.current.value[e],n=S?a-t:a+t;v.setValueAtIndex(e,n)},stepDown(e,t=F){const a=g.current.value[e],n=S?a+t:a-t;v.setValueAtIndex(e,n)},reset(){L(Te.current)}}),[F,S,L,V]),de=o.useCallback(e=>{const t=e.key,n={ArrowRight:()=>v.stepUp(l),ArrowUp:()=>v.stepUp(l),ArrowLeft:()=>v.stepDown(l),ArrowDown:()=>v.stepDown(l),PageUp:()=>v.stepUp(l,W),PageDown:()=>v.stepDown(l,W),Home:()=>{const{min:u}=R[l];v.setValueAtIndex(l,u)},End:()=>{const{max:u}=R[l];v.setValueAtIndex(l,u)}}[t];n&&(e.preventDefault(),e.stopPropagation(),n(e),g.current.eventSource="keyboard")},[v,l,W,R]),{getThumbStyle:me,rootStyle:ge,trackStyle:ve,innerTrackStyle:fe}=o.useMemo(()=>Fe({isReversed:S,orientation:p,thumbRects:ie,thumbPercents:G}),[S,p,G,ie]),he=o.useCallback(e=>{var t;const a=e??l;if(a!==-1&&se){const n=m.getThumb(a),u=(t=B.current)==null?void 0:t.ownerDocument.getElementById(n);u&&setTimeout(()=>u.focus())}},[se,l,m]);He(()=>{g.current.eventSource==="keyboard"&&(I==null||I(g.current.value))},[d,I]);const we=e=>{const t=ce(e)||0,a=g.current.value.map(A=>Math.abs(A-t)),n=Math.min(...a);let u=a.indexOf(n);const y=a.filter(A=>A===n);y.length>1&&t>g.current.value[u]&&(u=u+y.length-1),_(u),v.setValueAtIndex(u,t),he(u)},Ie=e=>{if(l==-1)return;const t=ce(e)||0;_(l),v.setValueAtIndex(l,t),he(l)};Ue(B,{onPanSessionStart(e){V&&(ue(!0),we(e),le==null||le(g.current.value))},onPanSessionEnd(){V&&(ue(!1),I==null||I(g.current.value))},onPan(e){V&&Ie(e)}});const _e=o.useCallback((e={},t=null)=>({...e,...oe,id:m.root,ref:pe(t,B),tabIndex:-1,"aria-disabled":ee(x),"data-focused":C(q),style:{...e.style,...ge}}),[oe,x,q,ge,m]),Me=o.useCallback((e={},t=null)=>({...e,ref:pe(t,Q),id:m.track,"data-disabled":C(x),style:{...e.style,...ve}}),[x,ve,m]),Ne=o.useCallback((e={},t=null)=>({...e,ref:t,id:m.innerTrack,style:{...e.style,...fe}}),[fe,m]),De=o.useCallback((e,t=null)=>{var a;const{index:n,...u}=e,y=d[n];if(y==null)throw new TypeError(`[range-slider > thumb] Cannot find value at index \`${n}\`. The \`value\` or \`defaultValue\` length is : ${d.length}`);const b=R[n];return{...u,ref:t,role:"slider",tabIndex:V?0:void 0,id:m.getThumb(n),"data-active":C(Y&&l===n),"aria-valuetext":(a=H==null?void 0:H(y))!=null?a:K==null?void 0:K[n],"aria-valuemin":b.min,"aria-valuemax":b.max,"aria-valuenow":y,"aria-orientation":p,"aria-disabled":ee(x),"aria-readonly":ee(z),"aria-label":w==null?void 0:w[n],"aria-labelledby":w!=null&&w[n]||O==null?void 0:O[n],style:{...e.style,...me(n)},onKeyDown:te(e.onKeyDown,de),onFocus:te(e.onFocus,()=>{X(!0),_(n)}),onBlur:te(e.onBlur,()=>{X(!1),_(-1)})}},[m,d,R,V,Y,l,H,K,p,x,z,w,O,me,de,X]),Ee=o.useCallback((e={},t=null)=>({...e,ref:t,id:m.output,htmlFor:d.map((a,n)=>m.getThumb(n)).join(" "),"aria-live":"off"}),[m,d]),je=o.useCallback((e,t=null)=>{const{value:a,...n}=e,u=!(a<r||a>s),y=a>=d[0]&&a<=d[d.length-1];let b=Se(a,r,s);b=S?100-b:b;const A={position:"absolute",pointerEvents:"none",...$e({orientation:p,vertical:{bottom:`${b}%`},horizontal:{left:`${b}%`}})};return{...n,ref:t,id:m.getMarker(e.value),role:"presentation","aria-hidden":!0,"data-disabled":C(x),"data-invalid":C(!u),"data-highlighted":C(y),style:{...e.style,...A}}},[x,S,s,r,p,d,m]),Be=o.useCallback((e,t=null)=>{const{index:a,...n}=e;return{...n,ref:t,id:m.getInput(a),type:"hidden",value:d[a],name:Array.isArray(E)?E[a]:`${E}-${a}`}},[E,d,m]);return{state:{value:d,isFocused:q,isDragging:Y,getThumbPercent:e=>G[e],getThumbMinValue:e=>R[e].min,getThumbMaxValue:e=>R[e].max},actions:v,getRootProps:_e,getTrackProps:Me,getInnerTrackProps:Ne,getThumbProps:De,getMarkerProps:je,getInputProps:Be,getOutputProps:Ee}}function We(h,r,s,i){return h.map((f,c)=>{const T=c===0?r:h[c-1]+i,k=c===h.length-1?s:h[c+1]-i;return{min:T,max:k}})}var[Ze,U]=ye({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[et,$]=ye({name:"RangeSliderStylesContext",errorMessage:`useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `}),tt=M(function(r,s){const i={orientation:"horizontal",...r},f=Xe("Slider",i),c=Ge(i),{direction:T}=Je();c.direction=T;const{getRootProps:k,...p}=Qe(c),D=o.useMemo(()=>({...p,name:i.name}),[p,i.name]);return P.jsx(Ze,{value:D,children:P.jsx(et,{value:f,children:P.jsx(N.div,{...k({},s),className:"chakra-slider",__css:f.container,children:i.children})})})});tt.displayName="RangeSlider";var nt=M(function(r,s){const{getThumbProps:i,getInputProps:f,name:c}=U(),T=$(),k=i(r,s);return P.jsxs(N.div,{...k,className:ae("chakra-slider__thumb",r.className),__css:T.thumb,children:[k.children,c&&P.jsx("input",{...f({index:r.index})})]})});nt.displayName="RangeSliderThumb";var at=M(function(r,s){const{getTrackProps:i}=U(),f=$(),c=i(r,s);return P.jsx(N.div,{...c,className:ae("chakra-slider__track",r.className),__css:f.track,"data-testid":"chakra-range-slider-track"})});at.displayName="RangeSliderTrack";var rt=M(function(r,s){const{getInnerTrackProps:i}=U(),f=$(),c=i(r,s);return P.jsx(N.div,{...c,className:"chakra-slider__filled-track",__css:f.filledTrack})});rt.displayName="RangeSliderFilledTrack";var st=M(function(r,s){const{getMarkerProps:i}=U(),f=$(),c=i(r,s);return P.jsx(N.div,{...c,className:ae("chakra-slider__marker",r.className),__css:f.mark})});st.displayName="RangeSliderMark";export{tt as R,at as a,rt as b,nt as c};

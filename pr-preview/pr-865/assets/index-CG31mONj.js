import{r as v}from"./index-BwDkhjyp.js";const I=1/60*1e3,U=typeof performance<"u"?()=>performance.now():()=>Date.now(),L=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(U()),I);function W(t){let e=[],n=[],r=0,o=!1,l=!1;const u=new WeakSet,c={schedule:(i,s=!1,f=!1)=>{const a=f&&o,h=a?e:n;return s&&u.add(i),h.indexOf(i)===-1&&(h.push(i),a&&o&&(r=e.length)),i},cancel:i=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1),u.delete(i)},process:i=>{if(o){l=!0;return}if(o=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let s=0;s<r;s++){const f=e[s];f(i),u.has(f)&&(c.schedule(f),t())}o=!1,l&&(l=!1,c.process(i))}};return c}const k=40;let M=!0,E=!1,R=!1;const w={delta:0,timestamp:0},S=["read","update","preRender","render","postRender"],$=S.reduce((t,e)=>(t[e]=W(()=>E=!0),t),{}),C=S.reduce((t,e)=>{const n=$[e];return t[e]=(r,o=!1,l=!1)=>(E||Y(),n.schedule(r,o,l)),t},{}),V=S.reduce((t,e)=>(t[e]=$[e].cancel,t),{});S.reduce((t,e)=>(t[e]=()=>$[e].process(w),t),{});const X=t=>$[t].process(w),B=t=>{E=!1,w.delta=M?I:Math.max(Math.min(t-w.timestamp,k),1),w.timestamp=t,R=!0,S.forEach(X),R=!1,E&&(M=!1,L(B))},Y=()=>{E=!0,M=!0,R||L(B)},A=()=>w;var vt=t=>t?"":void 0,mt=t=>t?!0:void 0,gt=(...t)=>t.filter(Boolean).join(" ");function wt(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function Et(t){return{root:`slider-root-${t}`,getThumb:e=>`slider-thumb-${t}-${e}`,getInput:e=>`slider-input-${t}-${e}`,track:`slider-track-${t}`,innerTrack:`slider-filled-track-${t}`,getMarker:e=>`slider-marker-${t}-${e}`,output:`slider-output-${t}`}}function y(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}var P={width:0,height:0},x=t=>t||P;function St(t){const{orientation:e,thumbPercents:n,thumbRects:r,isReversed:o}=t,l=p=>{var m;const _=(m=r[p])!=null?m:P;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...y({orientation:e,vertical:{bottom:`calc(${n[p]}% - ${_.height/2}px)`},horizontal:{left:`calc(${n[p]}% - ${_.width/2}px)`}})}},u=e==="vertical"?r.reduce((p,m)=>x(p).height>x(m).height?p:m,P):r.reduce((p,m)=>x(p).width>x(m).width?p:m,P),c={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...y({orientation:e,vertical:u?{paddingLeft:u.width/2,paddingRight:u.width/2}:{},horizontal:u?{paddingTop:u.height/2,paddingBottom:u.height/2}:{}})},i={position:"absolute",...y({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},s=n.length===1,f=[0,o?100-n[0]:n[0]],a=s?f:n;let h=a[0];!s&&o&&(h=100-h);const g=Math.abs(a[a.length-1]-a[0]),O={...i,...y({orientation:e,vertical:o?{height:`${g}%`,top:`${h}%`}:{height:`${g}%`,bottom:`${h}%`},horizontal:o?{width:`${g}%`,right:`${h}%`}:{width:`${g}%`,left:`${h}%`}})};return{trackStyle:i,innerTrackStyle:O,rootStyle:c,getThumbStyle:l}}function yt(t){const{isReversed:e,direction:n,orientation:r}=t;return n==="ltr"||r==="vertical"?e:!e}function q(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function K(t){const e=G(t);return typeof e.PointerEvent<"u"&&t instanceof e.PointerEvent?t.pointerType==="mouse":t instanceof e.MouseEvent}function H(t){return!!t.touches}function j(t){return H(t)&&t.touches.length>1}function G(t){var e;return(e=t.view)!=null?e:window}function J(t,e="page"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function Q(t,e="page"){return{x:t[`${e}X`],y:t[`${e}Y`]}}function N(t,e="page"){return H(t)?J(t,e):Q(t,e)}function Z(t){return e=>{const n=K(e);(!n||n&&e.button===0)&&t(e)}}function tt(t,e=!1){function n(o){t(o,{point:N(o)})}return e?Z(n):n}function b(t,e,n,r){return q(t,e,tt(n,e==="pointerdown"),r)}var et=Object.defineProperty,nt=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e,n)=>(nt(t,typeof e!="symbol"?e+"":e,n),n),rt=class{constructor(t,e,n){d(this,"history",[]),d(this,"startEvent",null),d(this,"lastEvent",null),d(this,"lastEventInfo",null),d(this,"handlers",{}),d(this,"removeListeners",()=>{}),d(this,"threshold",3),d(this,"win"),d(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const c=z(this.lastEventInfo,this.history),i=this.startEvent!==null,s=ut(c.offset,{x:0,y:0})>=this.threshold;if(!i&&!s)return;const{timestamp:f}=A();this.history.push({...c.point,timestamp:f});const{onStart:a,onMove:h}=this.handlers;i||(a==null||a(this.lastEvent,c),this.startEvent=this.lastEvent),h==null||h(this.lastEvent,c)}),d(this,"onPointerMove",(c,i)=>{this.lastEvent=c,this.lastEventInfo=i,C.update(this.updatePoint,!0)}),d(this,"onPointerUp",(c,i)=>{const s=z(i,this.history),{onEnd:f,onSessionEnd:a}=this.handlers;a==null||a(c,s),this.end(),!(!f||!this.startEvent)&&(f==null||f(c,s))});var r;if(this.win=(r=t.view)!=null?r:window,j(t))return;this.handlers=e,n&&(this.threshold=n),t.stopPropagation(),t.preventDefault();const o={point:N(t)},{timestamp:l}=A();this.history=[{...o.point,timestamp:l}];const{onSessionStart:u}=e;u==null||u(t,z(o,this.history)),this.removeListeners=st(b(this.win,"pointermove",this.onPointerMove),b(this.win,"pointerup",this.onPointerUp),b(this.win,"pointercancel",this.onPointerUp))}updateHandlers(t){this.handlers=t}end(){var t;(t=this.removeListeners)==null||t.call(this),V.update(this.updatePoint)}};function D(t,e){return{x:t.x-e.x,y:t.y-e.y}}function z(t,e){return{point:t.point,delta:D(t.point,e[e.length-1]),offset:D(t.point,e[0]),velocity:it(e,.1)}}var ot=t=>t*1e3;function it(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=t[t.length-1];for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>ot(e)));)n--;if(!r)return{x:0,y:0};const l=(o.timestamp-r.timestamp)/1e3;if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function st(...t){return e=>t.reduce((n,r)=>r(n),e)}function T(t,e){return Math.abs(t-e)}function F(t){return"x"in t&&"y"in t}function ut(t,e){if(typeof t=="number"&&typeof e=="number")return T(t,e);if(F(t)&&F(e)){const n=T(t.x,e.x),r=T(t.y,e.y);return Math.sqrt(n**2+r**2)}return 0}function at(t){const e=v.useRef(null);return e.current=t,e}function xt(t,e){const{onPan:n,onPanStart:r,onPanEnd:o,onPanSessionStart:l,onPanSessionEnd:u,threshold:c}=e,i=!!(n||r||o||l||u),s=v.useRef(null),f=at({onSessionStart:l,onSessionEnd:u,onStart:r,onMove:n,onEnd(a,h){s.current=null,o==null||o(a,h)}});v.useEffect(()=>{var a;(a=s.current)==null||a.updateHandlers(f.current)}),v.useEffect(()=>{const a=t.current;if(!a||!i)return;function h(g){s.current=new rt(g,f.current,c)}return b(a,"pointerdown",h)},[t,i,f,c]),v.useEffect(()=>()=>{var a;(a=s.current)==null||a.end(),s.current=null},[])}function ct(t,e){if(!t){e(void 0);return}e({width:t.offsetWidth,height:t.offsetHeight});const n=t.ownerDocument.defaultView??window,r=new n.ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const[l]=o;let u,c;if("borderBoxSize"in l){const i=l.borderBoxSize,s=Array.isArray(i)?i[0]:i;u=s.inlineSize,c=s.blockSize}else u=t.offsetWidth,c=t.offsetHeight;e({width:u,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}var lt=globalThis!=null&&globalThis.document?v.useLayoutEffect:v.useEffect;function ft(t,e){var n,r;if(!t||!t.parentElement)return;const o=(r=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?r:window,l=new o.MutationObserver(()=>{e()});return l.observe(t.parentElement,{childList:!0}),()=>{l.disconnect()}}function ht({getNodes:t,observeMutation:e=!0}){const[n,r]=v.useState([]),[o,l]=v.useState(0);return lt(()=>{const u=t(),c=u.map((i,s)=>ct(i,f=>{r(a=>[...a.slice(0,s),f,...a.slice(s+1)])}));if(e){const i=u[0];c.push(ft(i,()=>{l(s=>s+1)}))}return()=>{c.forEach(i=>{i==null||i()})}},[o]),n}function dt(t){return typeof t=="object"&&t!==null&&"current"in t}function Pt(t){const[e]=ht({observeMutation:!1,getNodes(){return[dt(t)?t.current:t]}});return e}export{xt as a,mt as b,wt as c,vt as d,yt as e,Et as f,St as g,gt as h,at as i,Pt as j,y as o,ht as u};

"use strict";(self.webpackChunk_kvib_storybook=self.webpackChunk_kvib_storybook||[]).push([[4531],{"../../node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"../../node_modules/@storybook/addon-docs/dist/chunk-HLWAVYOI.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>DocsRenderer});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_storybook_react_dom_shim__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@storybook/react-dom-shim/dist/react-18.mjs"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs"),defaultComponents={code:_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.bD,a:_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.Ct,..._storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.lO},ErrorBoundary=class extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(err){let{showException}=this.props;showException(err)}render(){let{hasError}=this.state,{children}=this.props;return hasError?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children)}},DocsRenderer=class{constructor(){this.render=async(context,docsParameter,element)=>{let components={...defaultComponents,...docsParameter?.components},TDocs=_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.WI;return new Promise(((resolve,reject)=>{__webpack_require__.e(1040).then(__webpack_require__.bind(__webpack_require__,"../../node_modules/@mdx-js/react/index.js")).then((({MDXProvider})=>(0,_storybook_react_dom_shim__WEBPACK_IMPORTED_MODULE_2__.l)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorBoundary,{showException:reject,key:Math.random()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXProvider,{components},react__WEBPACK_IMPORTED_MODULE_0__.createElement(TDocs,{context,docsParameter}))),element))).then((()=>resolve()))}))},this.unmount=element=>{(0,_storybook_react_dom_shim__WEBPACK_IMPORTED_MODULE_2__.K)(element)}}}},"../../node_modules/@storybook/addon-docs/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UG:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.UG,Xz:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.Xz,ZX:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.ZX,h_:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.h_});__webpack_require__("../../node_modules/@storybook/addon-docs/dist/chunk-HLWAVYOI.mjs");var _storybook_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs")},"./stories/documentation/taIBruk.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_home_runner_work_kvib_kvib_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@mdx-js/react/lib/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@storybook/addon-docs/dist/index.mjs"),_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@chakra-ui/alert/dist/chunk-3KCBMPN5.mjs"),_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@chakra-ui/alert/dist/chunk-ALC6QPCI.mjs"),_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@chakra-ui/alert/dist/chunk-CUKBNH6U.mjs"),_kvib_react_src_provider_KvibProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/react/src/provider/KvibProvider.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",pre:"pre",h2:"h2",a:"a",strong:"strong",h3:"h3"},(0,_home_runner_work_kvib_kvib_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Info/Oppsett"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"oppsett",children:"Oppsett"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["For å ta i bruk komponentbiblioteket må du installere ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"@kvib/react"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:"$ npm install @kvib/react\n# eller\n$ yarn add @kvib/react\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Etterpå må du wrappe hele react-applikasjonen din ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"KvibProvider"}),"-komponenten."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'// I din src/app.tsx fil:\nimport "./App.css";\nimport { Button, KvibProvider } from "@kvib/react";\n\nfunction App() {\n  return (\n    <KvibProvider>\n      <Button>Knapp</Button>\n    </KvibProvider>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"I eksempelet over har vi også lagt til en knapp som viser hvordan du tar i bruk et KVIB-komponent i applikasjonen din."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"endre-default-farge",children:"Endre default-farge"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:'Default farge-tema for KVIB er grønt. Dette skal gjelde for alle applikasjoner som skal ligne Kartverket.no i stylingen.\nFor applikasjoner med skjema og karttjenester skal man imidlertid benytte blått fargetema.\nDette gjøres ved å legge til et customTheme med colorScheme: "blue", og benytte det i KVIB-provideren slik:'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'// I din src/app.tsx fil:\nimport "./App.css";\nimport { Button, KvibProvider, extendTheme, theme, withDefaultColorScheme } from "@kvib/react";\n\nconst customTheme = extendTheme(withDefaultColorScheme({ colorScheme: "blue" }), theme);\n\nfunction App() {\n  return (\n    <KvibProvider theme={customTheme}>\n      <Button>Knapp</Button>\n    </KvibProvider>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"egen-styling---inline-styling-og-styled-components",children:"Egen styling - inline styling og styled-components"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_kvib_react_src_provider_KvibProvider__WEBPACK_IMPORTED_MODULE_4__.u,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_5__.b,{status:"info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_6__.z,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_kvib_react_src_alert__WEBPACK_IMPORTED_MODULE_7__.X,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["I utgangspunktet skal man benytte komponentene fra Kartverkets designbibliotek med stylingen som er der. Er\ndet\nfunksjoner og design du synes mangler i dagens bibliotek, ønsker vi at du bidrar med dette til biblioteket\nistedenfor å overskrive stylingen i eget prosjekt- da kan fler enn deg ta det i bruk! Se ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"/?path=/docs/bidra--docs",children:"dokumentasjonen\nfor\nhvordan bidra til designsystemet"})," for guidelines. Dersom det likevel er nødvendig\nå\ngjøre egne tilpassninger av stylingen til eget prosjekt, kan dette gjøres med inline styling eller\nstyled-components."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Avklar med designer før du lager egen styling."})})]})]})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["La oss si du bruker en knapp fra Kartverkets designbibliotek, men du ønsker å tilpasse den litt.\nEt alternativ er å benytte inline-styling, som f.eks. ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:'<Button background="red">Klikk her</Button>'}),". Et annet alternativ er styled-components, som noen team allerede benytter.\nFor å endre farge med sistnevnte kan man skrive: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"const RedButton = styled(Button)"}),"background: red",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"; "}),". En fordel med styled-components er at stylingen er samlet.\nLikevel må noen ekstra konfigurasjoner gjøres for at dette skal fungere. Under følger beskrivelse av hvorfor og hvordan du setter det opp styled-components med Kartverkets komponenter."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Både Chakra UI (bygd på emotion) og styled-components (nesten det samme som emotion) genererer klassenavn som settes på elementene som skal styles, også settes en lang rekke med stylesheets i ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"<head>"})," der stilene er definert.\nChakra sine stylesheets blir appendet på ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"<head>"})," , altså de kommer alltid sist. Videre har selectorene samme grunnleggende specificity (de targeter bare et klassenavn), og derfor blir det stilen som er definert sist som blir gjeldende, altså Chakra sitt.\nMed andre ord kan man ikke style Chakra-komponenter (som våres komponenter igjen bygger på) med styled-components uten å gjøre noen konfigurasjoner."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Det første åpenbare alternativet er å bruke ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"!important"}),", men dette kan fort bli rot dersom du skal overstyre dette igjen og må bruke ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"!!important"}),".\nDet andre alternativet er å lure seg til en mer spesifikk selector som dette: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"&&& { background: red; }"}),", men det er uintuitivt og er ikke tydelig på når man trenger å bruke selectoren, hva den egentlig gjør, at man må bruke den alle steder man ønsker å overstyre chakra, osv.\nEt tredje alternativ kunne vært CSS Layers som nå får støtte i nettleserne. Likevel kan man møte på noen av de samme problemene her ved at man må gjøre det overalt, og at man plutselig trenger å overstyre den også.\nProblemet er rekkefølgen på stylesheets i ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"<head>"})," , noe Chakra ikke har en konfigurasjonsmulighet for per nå. Det kan likevel løses med en cache for Chakra sin styling som lages gjennom emotion (som er mulig ettersom Chakra, og derav våre komponenter, bygger på emotion)."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Slik setter du Chakra sin styling øverst i ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"<head>"})," i ditt eget prosjekt: (all styling som defineres etterpå med samme eller sterkere specificity vil overskrive det)"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'import createCache from "@emotion/cache";\nimport { CacheProvider } from "@emotion/react";\n\nconst emotionCache = createCache({\n  key: "emotion-cache",\n  prepend: true, // ensures styles are prepended to the <head>, instead of appended\n});\n\nexport default function App() {\n  return (\n    <CacheProvider value={emotionCache}>\n      <KvibProvider>{children}</KvibProvider>\n    </CacheProvider>\n  );\n}\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"obs-om-import",children:"Obs om import"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"I og med at KVIB inneholder hele Chakra-biblioteket har noen brukere opplevd at de ved et\nuhell har tatt i brukt chakra-komponenter i steden for kvib-komponenter, og at dette har ført til uheldig oppførsel. Eks:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'import { NumberInput, NumberInputField } from "@kvib/react";\nimport { NumberInputStepper, NumberIncrementStepper, NumberDecrementStepper } from "@chakra-ui/react";\n\nconst Eksempel = () => (\n  <NumberInput>\n    <NumberInputField />\n    <NumberInputStepper>\n      <NumberIncrementStepper />\n      <NumberDecrementStepper />\n    </NumberInputStepper>\n  </NumberInput>\n);\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Siden KVIB tilbyr alle de samme komponentene som Chakra skal ikke dette være nødvendig, men det kan fort skje ved en feil ved at\nVS-code eller Idea foreslår å importere fra feil pakke.\nFor å unngå problemet er det mulig å sette innstillinger i editoren din til å hindre import forslag fra Chakra, eller å legge inn følgende regel i es-lint:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:'"no-restricted-imports": ["error", { "patterns": ["@chakra-ui/*"] }]\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"oppsett-av-kartverkets-designsystem-ved-bruk-av-remix",children:"Oppsett av Kartverkets Designsystem ved bruk av Remix"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"1-installer-kartverket-designsystem-i-repoet",children:"1. Installer Kartverket Designsystem i repoet:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:"$ npm install @kvib/react\n# eller\n$ yarn add @kvib/react\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"2-sett-opp-provider",children:"2. Sett opp provider:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Legg til ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"context.tsx"})," i app-mappen og legg til følgende kode:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:"// context.tsx\nimport { createContext } from 'react'\n\nexport interface ServerStyleContextData {\n  key: string\n  ids: Array<string>\n  css: string\n}\n\nexport const ServerStyleContext = createContext<ServerStyleContextData[] | null>(null)\n\nexport interface ClientStyleContextData {\n  reset: () => void\n}\n\nexport const ClientStyleContext = createContext<ClientStyleContextData | null>(null)\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Legg til ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"createEmotionCache.ts"})," i app-mappen og legg til følgende kode:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:'// createEmotionCache.ts\nimport createCache from "@emotion/cache";\n\nexport const defaultCache = createEmotionCache();\n\nexport default function createEmotionCache() {\n  return createCache({ key: "cha" });\n}\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Etter det så må vi modifisere entry-filene for både client og server. Her skal vi bruke createEmotionCache-funksjonen:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'// entry.client.tsx\nimport React, { useState } from "react";\nimport { hydrate } from "react-dom";\nimport { CacheProvider } from "@emotion/react";\nimport { RemixBrowser } from "@remix-run/react";\n\nimport { ClientStyleContext } from "./context";\nimport createEmotionCache, { defaultCache } from "./createEmotionCache";\n\ninterface ClientCacheProviderProps {\n  children: React.ReactNode;\n}\n\nfunction ClientCacheProvider({ children }: ClientCacheProviderProps) {\n  const [cache, setCache] = useState(defaultCache);\n\n  function reset() {\n    setCache(createEmotionCache());\n  }\n\n  return (\n    <ClientStyleContext.Provider value={{ reset }}>\n      <CacheProvider value={cache}>{children}</CacheProvider>\n    </ClientStyleContext.Provider>\n  );\n}\n\nhydrate(\n  <ClientCacheProvider>\n    <RemixBrowser />\n  </ClientCacheProvider>,\n  document\n);\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'// entry.server.tsx\nimport { renderToString } from "react-dom/server";\nimport { CacheProvider } from "@emotion/react";\nimport createEmotionServer from "@emotion/server/create-instance";\nimport { RemixServer } from "@remix-run/react";\nimport type { EntryContext } from "@remix-run/node"; // Depends on the runtime you choose\n\nimport { ServerStyleContext } from "./context";\nimport createEmotionCache from "./createEmotionCache";\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  const cache = createEmotionCache();\n  const { extractCriticalToChunks } = createEmotionServer(cache);\n\n  const html = renderToString(\n    <ServerStyleContext.Provider value={null}>\n      <CacheProvider value={cache}>\n        <RemixServer context={remixContext} url={request.url} />\n      </CacheProvider>\n    </ServerStyleContext.Provider>\n  );\n\n  const chunks = extractCriticalToChunks(html);\n\n  const markup = renderToString(\n    <ServerStyleContext.Provider value={chunks.styles}>\n      <CacheProvider value={cache}>\n        <RemixServer context={remixContext} url={request.url} />\n      </CacheProvider>\n    </ServerStyleContext.Provider>\n  );\n\n  responseHeaders.set("Content-Type", "text/html");\n\n  return new Response(`<!DOCTYPE html>${markup}`, {\n    status: responseStatusCode,\n    headers: responseHeaders,\n  });\n}\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["I ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"root.tsx"})," skal vi lage en ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Document"})," wrapper:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'// root.tsx\nimport React, { useContext, useEffect } from "react";\nimport { withEmotionCache } from "@emotion/react";\nimport { ChakraProvider } from "@chakra-ui/react";\nimport { Links, LiveReload, Meta, Outlet, Scripts, ScrollRestoration } from "@remix-run/react";\nimport { MetaFunction, LinksFunction } from "@remix-run/node"; // Depends on the runtime you choose\nimport { cssBundleHref } from "@remix-run/css-bundle";\n\nimport { ServerStyleContext, ClientStyleContext } from "./context";\n\nexport const meta: MetaFunction = () => ({\n  charset: "utf-8",\n  title: "New Remix App",\n  viewport: "width=device-width,initial-scale=1",\n});\n\nexport let links: LinksFunction = () => {\n  return [\n    { rel: "preconnect", href: "https://fonts.googleapis.com" },\n    { rel: "preconnect", href: "https://fonts.gstatic.com" },\n    {\n      rel: "stylesheet",\n      href: "https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap",\n    },\n    ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),\n  ];\n};\n\ninterface DocumentProps {\n  children: React.ReactNode;\n}\n\nconst Document = withEmotionCache(({ children }: DocumentProps, emotionCache) => {\n  const serverStyleData = useContext(ServerStyleContext);\n  const clientStyleData = useContext(ClientStyleContext);\n\n  // Only executed on client\n  useEffect(() => {\n    // re-link sheet container\n    emotionCache.sheet.container = document.head;\n    // re-inject tags\n    const tags = emotionCache.sheet.tags;\n    emotionCache.sheet.flush();\n    tags.forEach((tag) => {\n      (emotionCache.sheet as any)._insertTag(tag);\n    });\n    // reset cache to reapply global styles\n    clientStyleData?.reset();\n  }, []);\n\n  return (\n    <html lang="en">\n      <head>\n        <Meta />\n        <Links />\n        {serverStyleData?.map(({ key, ids, css }) => (\n          <style key={key} data-emotion={`${key} ${ids.join(" ")}`} dangerouslySetInnerHTML={{ __html: css }} />\n        ))}\n      </head>\n      <body>\n        {children}\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n});\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Legg til ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"serverDependenciesToBundle: [/^@kvib\\\\/react/, /^material-symbols/]"})," i ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"remix.config.js"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Til slutt må du wrappe appen:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'const customTheme = extendTheme(withDefaultColorScheme({ colorScheme: "blue" }), theme);\n\nexport default function App() {\n  return (\n    <Document>\n      <KvibProvider theme={customTheme}>\n        <Outlet />\n      </KvibProvider>\n    </Document>\n  );\n}\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"3-importer-material-symbols-for-å-bruke-ikoner",children:"3. Importer material symbols for å bruke ikoner:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-tsx",children:'import "material-symbols/rounded.css";\n'})})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_kvib_kvib_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}}]);
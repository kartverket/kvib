import{o as E}from"./omit-QLD0Eizt.js";import{r as q}from"./index-BwDkhjyp.js";import{i as x}from"./index-CfyPTyT-.js";import{u as I}from"./hooks-gaHRB8Pq.js";import{m as p}from"./emotion-styled.browser.esm-NI0tOKWg.js";import{i as b,r as F,a as _}from"./factory-C6UFhaBW.js";function j(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function W(t){const e=parseFloat(t.toString()),r=t.toString().replace(String(e),"");return{unitless:!r,value:e,unit:r}}function O(t){if(t==null)return t;const{unitless:e}=W(t);return e||typeof t=="number"?`${t}px`:t}const M=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,k=t=>Object.fromEntries(Object.entries(t).sort(M));function A(t){const e=k(t);return Object.assign(Object.values(e),e)}function B(t){const e=Object.keys(k(t));return new Set(e)}function C(t){if(!t)return t;t=O(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+e}`)}function y(t,e){const r=["@media screen"];return t&&r.push("and",`(min-width: ${O(t)})`),e&&r.push("and",`(max-width: ${O(e)})`),r.join(" ")}function Z(t){if(!t)return null;t.base=t.base??"0px";const e=A(t),r=Object.entries(t).sort(M).map(([o,i],n,l)=>{let[,c]=l[n+1]??[];return c=parseFloat(c)>0?C(c):void 0,{_minW:C(i),breakpoint:o,minW:i,maxW:c,maxWQuery:y(null,c),minWQuery:y(i),minMaxQuery:y(i,c)}}),s=B(t),u=Array.from(s.values());return{keys:s,normalized:e,isResponsive(o){const i=Object.keys(o);return i.length>0&&i.every(n=>s.has(n))},asObject:k(t),asArray:A(t),details:r,get(o){return r.find(i=>i.breakpoint===o)},media:[null,...e.map(o=>y(o)).slice(1)],toArrayValue(o){if(!b(o))throw new Error("toArrayValue: value must be an object");const i=u.map(n=>o[n]??null);for(;j(i)===null;)i.pop();return i},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((i,n,l)=>{const c=u[l];return c!=null&&n!=null&&(i[c]=n),i},{})}}}function P(t,e,r,s){const u=typeof e=="string"?e.split("."):[e];for(s=0;s<u.length&&t;s+=1)t=t[u[s]];return t===void 0?r:t}const Q=t=>{const e=new WeakMap;return(s,u,o,i)=>{if(typeof s>"u")return t(s,u,o);e.has(s)||e.set(s,new Map);const n=e.get(s);if(n.has(u))return n.get(u);const l=t(s,u,o,i);return n.set(u,l),l}},R=Q(P);function T(t,e){if(Array.isArray(t))return t;if(b(t))return e(t);if(t!=null)return[t]}function G(t,e){for(let r=e+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function L(t){const e=t.__breakpoints;return function(s,u,o,i){var g,w;if(!e)return;const n={},l=T(o,e.toArrayValue);if(!l)return n;const c=l.length,d=c===1,f=!!s.parts;for(let m=0;m<c;m++){const $=e.details[m],S=e.details[G(l,m)],h=y($.minW,S==null?void 0:S._minW),a=F((g=s[u])==null?void 0:g[l[m]],i);if(a){if(f){(w=s.parts)==null||w.forEach(z=>{p(n,{[z]:d?a[z]:{[h]:a[z]}})});continue}if(!f){d?p(n,a):n[h]=a;continue}n[h]=a}}return n}}function N(t){return e=>{const{variant:r,size:s,theme:u}=e,o=L(u);return p({},F(t.baseStyle??{},e),o(t,"sizes",s,e),o(t,"variants",r,e))}}function v(t){return E(t,["styleConfig","size","variant","colorScheme"])}function V(t,e={}){const{styleConfig:r,...s}=e,{theme:u,colorMode:o}=I(),i=t?R(u,`components.${t}`):void 0,n=r||i,l=p({theme:u,colorMode:o},(n==null?void 0:n.defaultProps)??{},_(E(s,["children"]))),c=q.useRef({});if(n){const f=N(n)(l);x(c.current,f)||(c.current=f)}return c.current}function K(t,e={}){return V(t,e)}function tt(t,e={}){return V(t,e)}export{tt as a,Z as b,R as m,v as o,K as u};

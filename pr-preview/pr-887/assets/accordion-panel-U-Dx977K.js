import{j as x}from"./extends-CwFRzn3r.js";import{r as f}from"./index-BwDkhjyp.js";import{f as I}from"./forward-ref-BWI-Phbn.js";import{a as K,o as W}from"./use-style-config-YUvqttAg.js";import{c as C}from"./factory-C6UFhaBW.js";import{c as v}from"./cx-BDMMs1jM.js";import{d as $}from"./define-styles-BSAHv3yx.js";import{c as H}from"./use-descendant-T3UBTUZf.js";import{c as M}from"./context-CBKykClo.js";import{u as U}from"./use-controllable-state-Dnial3e2.js";import{m as V}from"./use-merge-refs-Bdxaq0s4.js";import{c as _}from"./call-all-DDzecCnU.js";import{w as N,C as Y}from"./collapse-DJrNMGUe.js";const[q,j]=M({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[z,B]=M({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[G,Po,J,L]=H();function Q(o){const{onChange:e,defaultIndex:s,index:i,allowMultiple:d,allowToggle:u,...n}=o;oo(o),eo(o);const p=J(),[A,r]=f.useState(-1);f.useEffect(()=>()=>{r(-1)},[]);const[c,m]=U({value:i,defaultValue(){return d?s??[]:s??-1},onChange:e});return{index:c,setIndex:m,htmlProps:n,getAccordionItemProps:t=>{let y=!1;return t!==null&&(y=Array.isArray(c)?c.includes(t):c===t),{isOpen:y,onChange:l=>{if(t!==null)if(d&&Array.isArray(c)){const k=l?c.concat(t):c.filter(D=>D!==t);m(k)}else l?m(t):u&&m(-1)}}},focusedIndex:A,setFocusedIndex:r,descendants:p}}const[X,O]=M({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function Z(o){const{isDisabled:e,isFocusable:s,id:i,...d}=o,{getAccordionItemProps:u,setFocusedIndex:n}=O(),p=f.useRef(null),A=f.useId(),r=i??A,c=`accordion-button-${r}`,m=`accordion-panel-${r}`;no(o);const{register:h,index:t,descendants:y}=L({disabled:e&&!s}),{isOpen:b,onChange:l}=u(t===-1?null:t);to({isOpen:b,isDisabled:e});const k=()=>{l==null||l(!0)},D=()=>{l==null||l(!1)},E=f.useCallback(()=>{l==null||l(!b),n(t)},[t,n,b,l]),S=f.useCallback(P=>{const w={ArrowDown:()=>{const a=y.nextEnabled(t);a==null||a.node.focus()},ArrowUp:()=>{const a=y.prevEnabled(t);a==null||a.node.focus()},Home:()=>{const a=y.firstEnabled();a==null||a.node.focus()},End:()=>{const a=y.lastEnabled();a==null||a.node.focus()}}[P.key];w&&(P.preventDefault(),w(P))},[y,t]),F=f.useCallback(()=>{n(t)},[n,t]),T=f.useCallback(function(g={},w=null){return{...g,type:"button",ref:V(h,p,w),id:c,disabled:!!e,"aria-expanded":!!b,"aria-controls":m,onClick:_(g.onClick,E),onFocus:_(g.onFocus,F),onKeyDown:_(g.onKeyDown,S)}},[c,e,b,E,F,S,m,h]),R=f.useCallback(function(g={},w=null){return{...g,ref:w,role:"region",id:m,"aria-labelledby":c,hidden:!b}},[c,b,m]);return{isOpen:b,isDisabled:e,isFocusable:s,onOpen:k,onClose:D,getButtonProps:T,getPanelProps:R,htmlProps:d}}function oo(o){const e=o.index||o.defaultIndex,s=e!=null&&!Array.isArray(e)&&o.allowMultiple;N({condition:!!s,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function eo(o){N({condition:!!(o.allowMultiple&&o.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function no(o){N({condition:!!(o.isFocusable&&!o.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function to(o){N({condition:o.isOpen&&!!o.isDisabled,message:"Cannot open a disabled accordion item"})}const so=I(function({children:e,reduceMotion:s,...i},d){const u=K("Accordion",i),n=W(i),{htmlProps:p,descendants:A,...r}=Q(n),c=f.useMemo(()=>({...r,reduceMotion:!!s}),[r,s]);return x.jsx(G,{value:A,children:x.jsx(X,{value:c,children:x.jsx(q,{value:u,children:x.jsx(C.div,{ref:d,...p,className:v("chakra-accordion",i.className),__css:u.root,children:e})})})})});so.displayName="Accordion";const co=I(function(e,s){const{getButtonProps:i}=B(),d=i(e,s),n={display:"flex",alignItems:"center",width:"100%",outline:0,...j().button};return x.jsx(C.button,{...d,className:v("chakra-accordion__button",e.className),__css:n})});co.displayName="AccordionButton";const io=I(function(e,s){const{children:i,className:d}=e,{htmlProps:u,...n}=Z(e),p=j(),A=$({...p.container,overflowAnchor:"none"}),r=f.useMemo(()=>n,[n]);return x.jsx(z,{value:r,children:x.jsx(C.div,{ref:s,...u,className:v("chakra-accordion__item",d),__css:A,children:typeof i=="function"?i({isExpanded:!!n.isOpen,isDisabled:!!n.isDisabled}):i})})});io.displayName="AccordionItem";const ao=I(function(e,s){const{className:i,motionProps:d,...u}=e,{reduceMotion:n}=O(),{getPanelProps:p,isOpen:A}=B(),r=p(u,s),c=v("chakra-accordion__panel",i),m=j();n||delete r.hidden;const h=x.jsx(C.div,{...r,__css:m.panel,className:c});return n?h:x.jsx(Y,{in:A,...d,children:h})});ao.displayName="AccordionPanel";export{so as A,io as a,co as b,ao as c};

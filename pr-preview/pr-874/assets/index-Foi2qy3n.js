import{r as a}from"./index-BwDkhjyp.js";function b(e,o){if(!e){o(void 0);return}o({width:e.offsetWidth,height:e.offsetHeight});const r=e.ownerDocument.defaultView??window,n=new r.ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const[s]=i;let c,f;if("borderBoxSize"in s){const t=s.borderBoxSize,u=Array.isArray(t)?t[0]:t;c=u.inlineSize,f=u.blockSize}else c=e.offsetWidth,f=e.offsetHeight;o({width:c,height:f})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}var h=globalThis!=null&&globalThis.document?a.useLayoutEffect:a.useEffect;function v(e,o){var r,n;if(!e||!e.parentElement)return;const i=(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window,s=new i.MutationObserver(()=>{o()});return s.observe(e.parentElement,{childList:!0}),()=>{s.disconnect()}}function w({getNodes:e,observeMutation:o=!0}){const[r,n]=a.useState([]),[i,s]=a.useState(0);return h(()=>{const c=e(),f=c.map((t,u)=>b(t,l=>{n(d=>[...d.slice(0,u),l,...d.slice(u+1)])}));if(o){const t=c[0];f.push(v(t,()=>{s(u=>u+1)}))}return()=>{f.forEach(t=>{t==null||t()})}},[i]),r}function S(e){return typeof e=="object"&&e!==null&&"current"in e}function y(e){const[o]=w({observeMutation:!1,getNodes(){return[S(e)?e.current:e]}});return o}export{w as a,y as u};

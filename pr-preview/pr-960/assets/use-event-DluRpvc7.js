import{c as Y,d as O,n as V,r as $,e as X,f as G,b as H,g as J,h as Q,j as Z}from"./create-context-B_OvqDKw.js";import{r as u}from"./index-C7I6S4tq.js";import"./index-DGxgJC0M.js";import"./jsx-runtime-DgHZ7iq2.js";import{g as ee,s as te,b,i as ne,d as re}from"./factory-C8pPPz6n.js";const[Re,qe]=Y({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});var g="default",M="",x=new WeakMap;function oe(e={}){const{target:t,doc:n}=e,o=n??document,r=o.documentElement;return O()?(g==="default"&&(M=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),g="disabled"):t&&(x.set(t,t.style.userSelect),t.style.userSelect="none"),()=>se({target:t,doc:o})}function se(e={}){const{target:t,doc:n}=e,r=(n??document).documentElement;if(O()){if(g!=="disabled")return;g="restoring",setTimeout(()=>{V(()=>{g==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=M||""),M="",g="default")})},300)}else if(t&&x.has(t)){const s=x.get(t);t.style.userSelect==="none"&&(t.style.userSelect=s??""),t.getAttribute("style")===""&&t.removeAttribute("style"),x.delete(t)}}function ce(e={}){const{defer:t,target:n,...o}=e,r=t?$:c=>c(),s=[];return s.push(r(()=>{const c=typeof n=="function"?n():n;s.push(oe({...o,target:c}))})),()=>{s.forEach(c=>c==null?void 0:c())}}var p=(e,t,n,o)=>{const r=typeof e=="function"?e():e;return r==null||r.addEventListener(t,n,o),()=>{r==null||r.removeEventListener(t,n,o)}};function be(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Te=e=>e.button===0,Ue=e=>e.button===2||X()&&e.ctrlKey&&e.button===0,je=e=>e.ctrlKey||e.altKey||e.metaKey;function ie(e,t,n){const r=(c=>{const i=requestAnimationFrame(c);return()=>cancelAnimationFrame(i)})(()=>{e.removeEventListener(t,s,!0),n()}),s=()=>{r(),n()};return e.addEventListener(t,s,{once:!0,capture:!0}),r}function ue(e){return(e==null?void 0:e.matches("a[href]"))??!1}function Oe(e){if(!ue(e))return;const t=()=>e.click();G()?ie(e,"keyup",t):queueMicrotask(t)}function ze(e,t,n){if(!e)return;const o=e.ownerDocument.defaultView||window,r=new o.CustomEvent(t,n);return e.dispatchEvent(r)}var ae={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},T={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function De(e,t={}){const{dir:n="ltr",orientation:o="horizontal"}=t;let{key:r}=e;return r=ae[r]??r,n==="rtl"&&o==="horizontal"&&r in T&&(r=T[r]),r}function fe(e,t="client"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function le(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var pe=e=>"touches"in e&&e.touches.length>0;function z(e,t="client"){return pe(e)?fe(e,t):le(e,t)}var ye=new Set(["PageUp","PageDown"]),de=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function Ne(e){return e.ctrlKey||e.metaKey?.1:ye.has(e.key)||e.shiftKey&&de.has(e.key)?10:1}function Fe(e){return e.nativeEvent??e}function U(e){return Math.max(0,Math.min(1,e))}function Ie(e,t){const{left:n,top:o,width:r,height:s}=t.getBoundingClientRect(),c={x:e.x-n,y:e.y-o},i={x:U(c.x/r),y:U(c.y/s)};function l(d={}){const{dir:m="ltr",orientation:y="horizontal",inverted:a}=d,k=typeof a=="object"?a.x:a,E=typeof a=="object"?a.y:a;return y==="horizontal"?m==="rtl"||k?1-i.x:i.x:E?1-i.y:i.y}return{offset:c,percent:i,getPercentValue:l}}function We(e,t){const n=e.body,o="pointerLockElement"in e||"mozPointerLockElement"in e,r=()=>!!e.pointerLockElement;function s(){}function c(l){r(),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!o)return;try{n.requestPointerLock()}catch{}const i=[p(e,"pointerlockchange",s,!1),p(e,"pointerlockerror",c,!1)];return()=>{i.forEach(l=>l()),e.exitPointerLock()}}function _e(e,t){const{onPointerMove:n,onPointerUp:o}=t,s=[p(e,"pointermove",c=>{const i=z(c),l=Math.sqrt(i.x**2+i.y**2),d=c.pointerType==="touch"?10:5;if(!(l<d)){if(c.pointerType==="mouse"&&c.button===0){o();return}n({point:i,event:c})}},!1),p(e,"pointerup",o,!1),p(e,"pointercancel",o,!1),p(e,"contextmenu",o,!1),ce({doc:e})];return()=>{s.forEach(c=>c())}}var K=(...e)=>t=>e.reduce((n,o)=>o(n),t),L=()=>{};function Be(e){const{pointerNode:t,keyboardNode:n=t,onPress:o,onPressStart:r,onPressEnd:s,isValidKey:c=f=>f.key==="Enter"}=e;if(!t)return L;const i=H(t),l=J(t);let d=L,m=L,y=L;const a=f=>({point:z(f),event:f});function k(f){r==null||r(a(f))}function E(f){s==null||s(a(f))}const w=p(t,"pointerdown",f=>{m();const S=p(i,"pointerup",h=>{const A=Q(h);Z(t,A)?o==null||o(a(h)):s==null||s(a(h))},{passive:!o}),P=p(i,"pointercancel",E,{passive:!s});m=K(S,P),l.activeElement===n&&f.pointerType==="mouse"&&f.preventDefault(),k(f)},{passive:!r}),F=p(n,"focus",I);d=K(w,F);function I(){const f=h=>{if(!c(h))return;const A=_=>{if(!c(_))return;const B=new i.PointerEvent("pointerup"),q=a(B);o==null||o(q),s==null||s(q)};m(),m=p(n,"keyup",A);const W=new i.PointerEvent("pointerdown");k(W)},R=()=>{const h=new i.PointerEvent("pointercancel");E(h)},S=p(n,"keydown",f),P=p(n,"blur",R);y=K(S,P)}return function(){d(),m(),y()}}function me(e){return new Proxy({},{get(){return e}})}var Ye=()=>e=>Array.from(new Set(e)),Ve=me(e=>e),j=e=>(e==null?void 0:e.constructor.name)==="Array",he=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!C(e[n],t[n]))return!1;return!0},C=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(j(e)&&j(t))return he(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),o=n.length;for(let r=0;r<o;r++)if(!Reflect.has(e,n[r]))return!1;for(let r=0;r<o;r++){const s=n[r];if(!C(e[s],t[s]))return!1}return!0},ve=Function.prototype.toString;ve.call(Object);function D(e){if(!ge(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(o=>typeof o=="string"),n={};for(const o of t){const r=e[o];r!==void 0&&(n[o]=D(r))}return n}var ge=e=>e&&typeof e=="object"&&e.constructor===Object;function ke(e,t){const n=u.useRef(!1),o=u.useRef(!1);u.useEffect(()=>{if(n.current&&o.current)return e();o.current=!0},t),u.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var Ee=ee("__zag__targetCache",()=>new WeakMap);function N(e,t){const{actions:n,context:o,sync:r}=t??{},s=u.useRef(void 0),c=u.useRef(void 0),i=u.useSyncExternalStore(u.useCallback(y=>te(e.state,y,r),[r]),()=>{const y=b(e.state);try{if(s.current&&c.current&&!ne(s.current,y,c.current,new WeakMap))return s.current}catch{}return y},()=>b(e.state));e.setOptions({actions:n});const l=u.useMemo(()=>D(o??{}),[o]);ke(()=>{const y=Object.entries(l),a=e.contextSnapshot??{};y.map(([v,w])=>({key:v,curr:w,prev:a[v],equal:C(a[v],w)})).every(({equal:v})=>v)||e.setContext(l)},[l]);const d=new WeakMap;u.useEffect(()=>{s.current=i,c.current=d});const m=u.useMemo(()=>new WeakMap,[]);return re(i,d,m,Ee)}function $e(e){return[N(e),e.send]}function we(e){const t=u.useRef(void 0);return t.current||(t.current={v:e()}),t.current.v}var Le=typeof document<"u"?u.useLayoutEffect:u.useEffect;function xe(e,t){const{state:n,context:o}=t??{},r=we(()=>{const c=typeof e=="function"?e():e;return o&&c.setContext(o),c._created(),c}),s=u.useRef(void 0);return Le(()=>{const c=n??s.current;return r.start(c),()=>{r.stop()}},[]),r}function Xe(e,t){const n=xe(e,t);return[N(n,t),n.send,n]}function Ge(e,t={}){const{sync:n=!1}=t,o=Se(e);return u.useCallback((...r)=>{var s;return n?queueMicrotask(()=>{var c;return(c=o.current)==null?void 0:c.call(o,...r)}):(s=o.current)==null?void 0:s.call(o,...r)},[n,o])}function Se(e){const t=u.useRef(e);return t.current=e,t}export{Re as L,p as a,Ge as b,Ye as c,Xe as d,Oe as e,ze as f,De as g,Ie as h,Ue as i,Te as j,je as k,z as l,Ne as m,Ve as n,ce as o,be as p,Be as q,We as r,Fe as s,_e as t,qe as u,$e as v};

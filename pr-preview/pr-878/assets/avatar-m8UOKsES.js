import{j as e}from"./extends-CwFRzn3r.js";import{r as y}from"./index-BwDkhjyp.js";import{c as w}from"./context-CBKykClo.js";import{a as c}from"./factory-CdGA0D9p.js";import{u as I}from"./use-image-rNdzB_Ea.js";import{f as E}from"./forward-ref-BWI-Phbn.js";import{a as F,o as P}from"./use-style-config--HlEOpE-.js";import{c as R}from"./cx-BDMMs1jM.js";import{d as M}from"./attr-sHTFgF0E.js";import{c as O}from"./call-all-DDzecCnU.js";import{d as B}from"./define-styles-BSAHv3yx.js";const[T,W]=w({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function $(t){const a=t.trim().split(" "),r=a[0]??"",s=a.length>1?a[a.length-1]:"";return r&&s?`${r.charAt(0)}${s.charAt(0)}`:r.charAt(0)}function C(t){const{name:a,getInitials:r,...s}=t,o=W();return e.jsx(c.div,{role:"img","aria-label":a,...s,__css:o.label,children:a?r==null?void 0:r(a):null})}C.displayName="AvatarName";const j=t=>e.jsxs(c.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function N(t){const{src:a,srcSet:r,onError:s,onLoad:o,getInitials:m,name:i,borderRadius:d,loading:f,iconLabel:n,icon:h=e.jsx(j,{}),ignoreFallback:u,referrerPolicy:v,crossOrigin:l}=t,g=I({src:a,onError:s,crossOrigin:l,ignoreFallback:u})==="loaded";return!a||!g?i?e.jsx(C,{className:"chakra-avatar__initials",getInitials:m,name:i}):y.cloneElement(h,{role:"img","aria-label":n}):e.jsx(c.img,{src:a,srcSet:r,alt:i??n,onLoad:o,referrerPolicy:v,crossOrigin:l??void 0,className:"chakra-avatar__img",loading:f,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:d}})}N.displayName="AvatarImage";const G=B({display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0}),H=E((t,a)=>{const r=F("Avatar",t),[s,o]=y.useState(!1),{src:m,srcSet:i,name:d,showBorder:f,borderRadius:n="full",onError:h,onLoad:u,getInitials:v=$,icon:l=e.jsx(j,{}),iconLabel:p=" avatar",loading:g,children:x,borderColor:A,ignoreFallback:L,crossOrigin:S,referrerPolicy:_,...k}=P(t),b={borderRadius:n,borderWidth:f?"2px":void 0,...G,...r.container};return A&&(b.borderColor=A),e.jsx(c.span,{ref:a,...k,className:R("chakra-avatar",t.className),"data-loaded":M(s),__css:b,children:e.jsxs(T,{value:r,children:[e.jsx(N,{src:m,srcSet:i,loading:g,onLoad:O(u,()=>{o(!0)}),onError:h,getInitials:v,name:d,borderRadius:n,icon:l,iconLabel:p,ignoreFallback:L,crossOrigin:S,referrerPolicy:_}),x]})})});H.displayName="Avatar";export{H as A,G as b,W as u};

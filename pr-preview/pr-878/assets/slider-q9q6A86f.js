import{j as p}from"./extends-CwFRzn3r.js";import{r as n}from"./index-BwDkhjyp.js";import{c as Ae,g as Ue,u as Ee,a as $e}from"./slider-utils-DlyfFmdB.js";import{u as O}from"./use-callback-ref-DA6UG1mJ.js";import{u as ze}from"./use-controllable-state-Dnial3e2.js";import{c as X,p as Be,r as be,v as ve}from"./number-D-Zd7p0h.js";import{u as Le}from"./use-update-effect-CNg9DBIF.js";import{m as Y}from"./use-merge-refs-Bdxaq0s4.js";import{a as q,d as y}from"./attr-sHTFgF0E.js";import{c as G}from"./call-all-DDzecCnU.js";import{u as He}from"./use-theme-CBfqdygA.js";import{f as T}from"./forward-ref-BWI-Phbn.js";import{a as Ke,o as Oe}from"./use-style-config--HlEOpE-.js";import{a as R}from"./factory-CdGA0D9p.js";import{c as Se}from"./context-CBKykClo.js";import{c as C}from"./cx-BDMMs1jM.js";function Xe(r){const{min:a=0,max:s=100,onChange:c,value:i,defaultValue:g,isReversed:w,direction:I="ltr",orientation:m="horizontal",id:D,isDisabled:u,isReadOnly:j,onChangeStart:ye,onChangeEnd:ge,step:J=1,getAriaValueText:Pe,"aria-valuetext":xe,"aria-label":F,"aria-labelledby":Q,name:W,focusThumbOnChange:Te=!0,...Z}=r,M=O(ye),h=O(ge),A=O(Pe),d=$e({isReversed:w,direction:I,orientation:m}),[Re,U]=ze({value:i,defaultValue:g??qe(a,s),onChange:c}),[E,ee]=n.useState(!1),[$,te]=n.useState(!1),z=!(u||j),B=(s-a)/10,P=J||(s-a)/100,o=X(Re,a,s),Ce=s-o+a,ae=ve(d?Ce:o,a,s),N=m==="vertical",l=Ae({min:a,max:s,step:J,isDisabled:u,value:o,isInteractive:z,isReversed:d,isVertical:N,eventSource:null,focusThumbOnChange:Te,orientation:m}),L=n.useRef(null),se=n.useRef(null),re=n.useRef(null),Ne=n.useId(),ne=D??Ne,[oe,le]=[`slider-thumb-${ne}`,`slider-track-${ne}`],Ve=n.useCallback(e=>{var he;if(!L.current)return;const t=l.current;t.eventSource="pointer";const b=L.current.getBoundingClientRect(),{clientX:v,clientY:S}=((he=e.touches)==null?void 0:he[0])??e,H=N?b.bottom-S:v-b.left,Me=N?b.height:b.width;let K=H/Me;d&&(K=1-K);let x=Be(K,t.min,t.max);return t.step&&(x=parseFloat(be(x,t.min,t.step))),x=X(x,t.min,t.max),x},[N,d,l]),f=n.useCallback(e=>{const t=l.current;t.isInteractive&&(e=parseFloat(be(e,t.min,P)),e=X(e,t.min,t.max),U(e))},[P,U,l]),k=n.useMemo(()=>({stepUp(e=P){const t=d?o-e:o+e;f(t)},stepDown(e=P){const t=d?o+e:o-e;f(t)},reset(){f(g||0)},stepTo(e){f(e)}}),[f,d,o,P,g]),ce=n.useCallback(e=>{const t=l.current,v={ArrowRight:()=>k.stepUp(),ArrowUp:()=>k.stepUp(),ArrowLeft:()=>k.stepDown(),ArrowDown:()=>k.stepDown(),PageUp:()=>k.stepUp(B),PageDown:()=>k.stepDown(B),Home:()=>f(t.min),End:()=>f(t.max)}[e.key];v&&(e.preventDefault(),e.stopPropagation(),v(e),t.eventSource="keyboard")},[k,f,B,l]),ie=(A==null?void 0:A(o))??xe,{getThumbStyle:ue,rootStyle:de,trackStyle:me,innerTrackStyle:fe}=n.useMemo(()=>{const e=l.current;return Ue({isReversed:d,orientation:e.orientation,thumbPercents:[ae]})},[d,ae,l]),ke=n.useCallback(()=>{l.current.focusThumbOnChange&&setTimeout(()=>{var t;return(t=se.current)==null?void 0:t.focus()})},[l]);Le(()=>{const e=l.current;ke(),e.eventSource==="keyboard"&&(h==null||h(e.value))},[o,h]);function pe(e){const t=Ve(e);t!=null&&t!==l.current.value&&U(t)}Ee(re,{onPanSessionStart(e){const t=l.current;t.isInteractive&&(ee(!0),ke(),pe(e),M==null||M(t.value))},onPanSessionEnd(){const e=l.current;e.isInteractive&&(ee(!1),h==null||h(e.value))},onPan(e){l.current.isInteractive&&pe(e)}});const _e=n.useCallback((e={},t=null)=>({...e,...Z,ref:Y(t,re),tabIndex:-1,"aria-disabled":q(u),"data-focused":y($),style:{...e.style,...de}}),[Z,u,$,de]),we=n.useCallback((e={},t=null)=>({...e,ref:Y(t,L),id:le,"data-disabled":y(u),style:{...e.style,...me}}),[u,le,me]),Ie=n.useCallback((e={},t=null)=>({...e,ref:t,style:{...e.style,...fe}}),[fe]),De=n.useCallback((e={},t=null)=>({...e,ref:Y(t,se),role:"slider",tabIndex:z?0:void 0,id:oe,"data-active":y(E),"aria-valuetext":ie,"aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":o,"aria-orientation":m,"aria-disabled":q(u),"aria-readonly":q(j),"aria-label":F,"aria-labelledby":F?void 0:Q,style:{...e.style,...ue(0)},onKeyDown:G(e.onKeyDown,ce),onFocus:G(e.onFocus,()=>te(!0)),onBlur:G(e.onBlur,()=>te(!1))}),[z,oe,E,ie,a,s,o,m,u,j,F,Q,ue,ce]),je=n.useCallback((e,t=null)=>{const b=!(e.value<a||e.value>s),v=o>=e.value,S=ve(e.value,a,s),H={position:"absolute",pointerEvents:"none",...Ye({orientation:m,vertical:{bottom:d?`${100-S}%`:`${S}%`},horizontal:{left:d?`${100-S}%`:`${S}%`}})};return{...e,ref:t,role:"presentation","aria-hidden":!0,"data-disabled":y(u),"data-invalid":y(!b),"data-highlighted":y(v),style:{...e.style,...H}}},[u,d,s,a,m,o]),Fe=n.useCallback((e={},t=null)=>({...e,ref:t,type:"hidden",value:o,name:W}),[W,o]);return{state:{value:o,isFocused:$,isDragging:E},actions:k,getRootProps:_e,getTrackProps:we,getInnerTrackProps:Ie,getThumbProps:De,getMarkerProps:je,getInputProps:Fe}}function Ye(r){const{orientation:a,vertical:s,horizontal:c}=r;return a==="vertical"?s:c}function qe(r,a){return a<r?r:r+(a-r)/2}const[Ge,V]=Se({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[Je,_]=Se({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Qe=T((r,a)=>{const s={...r,orientation:(r==null?void 0:r.orientation)??"horizontal"},c=Ke("Slider",s),i=Oe(s),{direction:g}=He();i.direction=g;const{getInputProps:w,getRootProps:I,...m}=Xe(i),D=I(),u=w({},a);return p.jsx(Ge,{value:m,children:p.jsx(Je,{value:c,children:p.jsxs(R.div,{...D,className:C("chakra-slider",s.className),__css:c.container,children:[s.children,p.jsx("input",{...u})]})})})});Qe.displayName="Slider";const We=T((r,a)=>{const{getThumbProps:s}=V(),c=_(),i=s(r,a);return p.jsx(R.div,{...i,className:C("chakra-slider__thumb",r.className),__css:c.thumb})});We.displayName="SliderThumb";const Ze=T((r,a)=>{const{getTrackProps:s}=V(),c=_(),i=s(r,a);return p.jsx(R.div,{...i,className:C("chakra-slider__track",r.className),__css:c.track})});Ze.displayName="SliderTrack";const et=T((r,a)=>{const{getInnerTrackProps:s}=V(),c=_(),i=s(r,a);return p.jsx(R.div,{...i,className:C("chakra-slider__filled-track",r.className),__css:c.filledTrack})});et.displayName="SliderFilledTrack";const tt=T((r,a)=>{const{getMarkerProps:s}=V(),c=_(),i=s(r,a);return p.jsx(R.div,{...i,className:C("chakra-slider__marker",r.className),__css:c.mark})});tt.displayName="SliderMark";export{Qe as S,Ze as a,et as b,We as c,tt as d};

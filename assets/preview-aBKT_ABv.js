var Ln=Object.defineProperty;var Dn=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>Dn(e,typeof t!="symbol"?t+"":t,n);import"./index-DcEVhFbY.js";const{once:Fn}=__STORYBOOK_MODULE_CLIENT_LOGGER__,{FORCE_REMOUNT:rt,STORY_RENDER_PHASE_CHANGED:jn,SET_CURRENT_STORY:Bn}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:xn}=__STORYBOOK_MODULE_PREVIEW_API__,{global:x}=__STORYBOOK_MODULE_GLOBAL__;var kn=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),zn={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Un=Object.entries(zn);function Ve(e){return String(e)}Ve.open="";Ve.close="";function Yn(e=!1){let t=typeof process<"u"?process:void 0,n=(t==null?void 0:t.env)||{},r=(t==null?void 0:t.argv)||[];return!("NO_COLOR"in n||r.includes("--no-color"))&&("FORCE_COLOR"in n||r.includes("--color")||(t==null?void 0:t.platform)==="win32"||e&&n.TERM!=="dumb"||"CI"in n)||typeof window<"u"&&!!window.chrome}function Kn(e=!1){let t=Yn(e),n=(u,o,s,a)=>{let c="",g=0;do c+=u.substring(g,a)+s,g=a+o.length,a=u.indexOf(o,g);while(~a);return c+u.substring(g)},r=(u,o,s=u)=>{let a=c=>{let g=String(c),_=g.indexOf(o,u.length);return~_?u+n(g,o,s,_)+o:u+g+o};return a.open=u,a.close=o,a},i={isColorSupported:t},l=u=>`\x1B[${u}m`;for(let[u,o]of Un)i[u]=t?r(l(o[0]),l(o[1]),o[2]):Ve;return i}var ne=Kn(!1);function Wn(e,t){let n=Object.keys(e),r=t===null?n:n.sort(t);if(Object.getOwnPropertySymbols)for(let i of Object.getOwnPropertySymbols(e))Object.getOwnPropertyDescriptor(e,i).enumerable&&r.push(i);return r}function Ce(e,t,n,r,i,l,u=": "){let o="",s=0,a=e.next();if(!a.done){o+=t.spacingOuter;let c=n+t.indent;for(;!a.done;){if(o+=c,s++===t.maxWidth){o+="…";break}let g=l(a.value[0],t,c,r,i),_=l(a.value[1],t,c,r,i);o+=g+u+_,a=e.next(),a.done?t.min||(o+=","):o+=`,${t.spacingInner}`}o+=t.spacingOuter+n}return o}function Ge(e,t,n,r,i,l){let u="",o=0,s=e.next();if(!s.done){u+=t.spacingOuter;let a=n+t.indent;for(;!s.done;){if(u+=a,o++===t.maxWidth){u+="…";break}u+=l(s.value,t,a,r,i),s=e.next(),s.done?t.min||(u+=","):u+=`,${t.spacingInner}`}u+=t.spacingOuter+n}return u}function Te(e,t,n,r,i,l){let u="";e=e instanceof ArrayBuffer?new DataView(e):e;let o=a=>a instanceof DataView,s=o(e)?e.byteLength:e.length;if(s>0){u+=t.spacingOuter;let a=n+t.indent;for(let c=0;c<s;c++){if(u+=a,c===t.maxWidth){u+="…";break}(o(e)||c in e)&&(u+=l(o(e)?e.getInt8(c):e[c],t,a,r,i)),c<s-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+n}return u}function He(e,t,n,r,i,l){let u="",o=Wn(e,t.compareKeys);if(o.length>0){u+=t.spacingOuter;let s=n+t.indent;for(let a=0;a<o.length;a++){let c=o[a],g=l(c,t,s,r,i),_=l(e[c],t,s,r,i);u+=`${s+g}: ${_}`,a<o.length-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+n}return u}var qn=typeof Symbol=="function"&&Symbol.for?Symbol.for("jest.asymmetricMatcher"):1267621,Me=" ",Vn=(e,t,n,r,i,l)=>{let u=e.toString();if(u==="ArrayContaining"||u==="ArrayNotContaining")return++r>t.maxDepth?`[${u}]`:`${u+Me}[${Te(e.sample,t,n,r,i,l)}]`;if(u==="ObjectContaining"||u==="ObjectNotContaining")return++r>t.maxDepth?`[${u}]`:`${u+Me}{${He(e.sample,t,n,r,i,l)}}`;if(u==="StringMatching"||u==="StringNotMatching"||u==="StringContaining"||u==="StringNotContaining")return u+Me+l(e.sample,t,n,r,i);if(typeof e.toAsymmetricMatcher!="function")throw new TypeError(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},Gn=e=>e&&e.$$typeof===qn,Hn={serialize:Vn,test:Gn},Jn=" ",Gt=new Set(["DOMStringMap","NamedNodeMap"]),Xn=/^(?:HTML\w*Collection|NodeList)$/;function Zn(e){return Gt.has(e)||Xn.test(e)}var Qn=e=>e&&e.constructor&&!!e.constructor.name&&Zn(e.constructor.name);function vn(e){return e.constructor.name==="NamedNodeMap"}var er=(e,t,n,r,i,l)=>{let u=e.constructor.name;return++r>t.maxDepth?`[${u}]`:(t.min?"":u+Jn)+(Gt.has(u)?`{${He(vn(e)?[...e].reduce((o,s)=>(o[s.name]=s.value,o),{}):{...e},t,n,r,i,l)}}`:`[${Te([...e],t,n,r,i,l)}]`)},tr={serialize:er,test:Qn};function Ht(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Je(e,t,n,r,i,l,u){let o=r+n.indent,s=n.colors;return e.map(a=>{let c=t[a],g=u(c,n,o,i,l);return typeof c!="string"&&(g.includes(`
`)&&(g=n.spacingOuter+o+g+n.spacingOuter+r),g=`{${g}}`),`${n.spacingInner+r+s.prop.open+a+s.prop.close}=${s.value.open}${g}${s.value.close}`}).join("")}function Xe(e,t,n,r,i,l){return e.map(u=>t.spacingOuter+n+(typeof u=="string"?Jt(u,t):l(u,t,n,r,i))).join("")}function Jt(e,t){let n=t.colors.content;return n.open+Ht(e)+n.close}function nr(e,t){let n=t.colors.comment;return`${n.open}<!--${Ht(e)}-->${n.close}`}function Ze(e,t,n,r,i){let l=r.colors.tag;return`${l.open}<${e}${t&&l.close+t+r.spacingOuter+i+l.open}${n?`>${l.close}${n}${r.spacingOuter}${i}${l.open}</${e}`:`${t&&!r.min?"":" "}/`}>${l.close}`}function Qe(e,t){let n=t.colors.tag;return`${n.open}<${e}${n.close} …${n.open} />${n.close}`}var rr=1,Xt=3,Zt=8,Qt=11,ir=/^(?:(?:HTML|SVG)\w*)?Element$/;function lr(e){try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}}function ur(e){let t=e.constructor.name,{nodeType:n,tagName:r}=e,i=typeof r=="string"&&r.includes("-")||lr(e);return n===rr&&(ir.test(t)||i)||n===Xt&&t==="Text"||n===Zt&&t==="Comment"||n===Qt&&t==="DocumentFragment"}var or=e=>{var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)&&ur(e)};function cr(e){return e.nodeType===Xt}function sr(e){return e.nodeType===Zt}function Pe(e){return e.nodeType===Qt}var ar=(e,t,n,r,i,l)=>{if(cr(e))return Jt(e.data,t);if(sr(e))return nr(e.data,t);let u=Pe(e)?"DocumentFragment":e.tagName.toLowerCase();return++r>t.maxDepth?Qe(u,t):Ze(u,Je(Pe(e)?[]:Array.from(e.attributes,o=>o.name).sort(),Pe(e)?{}:[...e.attributes].reduce((o,s)=>(o[s.name]=s.value,o),{}),t,n+t.indent,r,i,l),Xe(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,r,i,l),t,n)},gr={serialize:ar,test:or},hr="@@__IMMUTABLE_ITERABLE__@@",mr="@@__IMMUTABLE_LIST__@@",fr="@@__IMMUTABLE_KEYED__@@",pr="@@__IMMUTABLE_MAP__@@",it="@@__IMMUTABLE_ORDERED__@@",yr="@@__IMMUTABLE_RECORD__@@",_r="@@__IMMUTABLE_SEQ__@@",br="@@__IMMUTABLE_SET__@@",Sr="@@__IMMUTABLE_STACK__@@",he=e=>`Immutable.${e}`,Ae=e=>`[${e}]`,ye=" ",lt="…";function Er(e,t,n,r,i,l,u){return++r>t.maxDepth?Ae(he(u)):`${he(u)+ye}{${Ce(e.entries(),t,n,r,i,l)}}`}function Or(e){let t=0;return{next(){if(t<e._keys.length){let n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}function dr(e,t,n,r,i,l){let u=he(e._name||"Record");return++r>t.maxDepth?Ae(u):`${u+ye}{${Ce(Or(e),t,n,r,i,l)}}`}function $r(e,t,n,r,i,l){let u=he("Seq");return++r>t.maxDepth?Ae(u):e[fr]?`${u+ye}{${e._iter||e._object?Ce(e.entries(),t,n,r,i,l):lt}}`:`${u+ye}[${e._iter||e._array||e._collection||e._iterable?Ge(e.values(),t,n,r,i,l):lt}]`}function Ie(e,t,n,r,i,l,u){return++r>t.maxDepth?Ae(he(u)):`${he(u)+ye}[${Ge(e.values(),t,n,r,i,l)}]`}var wr=(e,t,n,r,i,l)=>e[pr]?Er(e,t,n,r,i,l,e[it]?"OrderedMap":"Map"):e[mr]?Ie(e,t,n,r,i,l,"List"):e[br]?Ie(e,t,n,r,i,l,e[it]?"OrderedSet":"Set"):e[Sr]?Ie(e,t,n,r,i,l,"Stack"):e[_r]?$r(e,t,n,r,i,l):dr(e,t,n,r,i,l),Tr=e=>e&&(e[hr]===!0||e[yr]===!0),Cr={serialize:wr,test:Tr},ut={exports:{}},C={},ot;function Ar(){return ot||(ot=1,function(){var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),o=Symbol.for("react.server_context"),s=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),m=!1,f=!1,p=!1,b=!1,E=!1,w;w=Symbol.for("react.module.reference");function y(d){return!!(typeof d=="string"||typeof d=="function"||d===n||d===i||E||d===r||d===a||d===c||b||d===h||m||f||p||typeof d=="object"&&d!==null&&(d.$$typeof===_||d.$$typeof===g||d.$$typeof===l||d.$$typeof===u||d.$$typeof===s||d.$$typeof===w||d.getModuleId!==void 0))}function S(d){if(typeof d=="object"&&d!==null){var Re=d.$$typeof;switch(Re){case e:var Oe=d.type;switch(Oe){case n:case i:case r:case a:case c:return Oe;default:var nt=Oe&&Oe.$$typeof;switch(nt){case o:case u:case s:case _:case g:case l:return nt;default:return Re}}case t:return Re}}}var $=u,O=l,A=e,W=s,D=n,P=_,j=g,B=t,q=i,T=r,M=a,V=c,I=!1,k=!1;function G(d){return I||(I=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function U(d){return k||(k=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function Y(d){return S(d)===u}function v(d){return S(d)===l}function X(d){return typeof d=="object"&&d!==null&&d.$$typeof===e}function z(d){return S(d)===s}function K(d){return S(d)===n}function re(d){return S(d)===_}function ie(d){return S(d)===g}function fe(d){return S(d)===t}function Se(d){return S(d)===i}function Ee(d){return S(d)===r}function Pn(d){return S(d)===a}function In(d){return S(d)===c}C.ContextConsumer=$,C.ContextProvider=O,C.Element=A,C.ForwardRef=W,C.Fragment=D,C.Lazy=P,C.Memo=j,C.Portal=B,C.Profiler=q,C.StrictMode=T,C.Suspense=M,C.SuspenseList=V,C.isAsyncMode=G,C.isConcurrentMode=U,C.isContextConsumer=Y,C.isContextProvider=v,C.isElement=X,C.isForwardRef=z,C.isFragment=K,C.isLazy=re,C.isMemo=ie,C.isPortal=fe,C.isProfiler=Se,C.isStrictMode=Ee,C.isSuspense=Pn,C.isSuspenseList=In,C.isValidElementType=y,C.typeOf=S}()),C}var ct;function Nr(){return ct||(ct=1,ut.exports=Ar()),ut.exports}var oe=Nr();function vt(e,t=[]){if(Array.isArray(e))for(let n of e)vt(n,t);else e!=null&&e!==!1&&e!==""&&t.push(e);return t}function st(e){let t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(oe.isFragment(e))return"React.Fragment";if(oe.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(oe.isContextProvider(e))return"Context.Provider";if(oe.isContextConsumer(e))return"Context.Consumer";if(oe.isForwardRef(e)){if(t.displayName)return t.displayName;let n=t.render.displayName||t.render.name||"";return n===""?"ForwardRef":`ForwardRef(${n})`}if(oe.isMemo(e)){let n=t.displayName||t.type.displayName||t.type.name||"";return n===""?"Memo":`Memo(${n})`}}return"UNDEFINED"}function Rr(e){let{props:t}=e;return Object.keys(t).filter(n=>n!=="children"&&t[n]!==void 0).sort()}var Mr=(e,t,n,r,i,l)=>++r>t.maxDepth?Qe(st(e),t):Ze(st(e),Je(Rr(e),e.props,t,n+t.indent,r,i,l),Xe(vt(e.props.children),t,n+t.indent,r,i,l),t,n),Pr=e=>e!=null&&oe.isElement(e),Ir={serialize:Mr,test:Pr},Lr=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.test.json"):245830487;function Dr(e){let{props:t}=e;return t?Object.keys(t).filter(n=>t[n]!==void 0).sort():[]}var Fr=(e,t,n,r,i,l)=>++r>t.maxDepth?Qe(e.type,t):Ze(e.type,e.props?Je(Dr(e),e.props,t,n+t.indent,r,i,l):"",e.children?Xe(e.children,t,n+t.indent,r,i,l):"",t,n),jr=e=>e&&e.$$typeof===Lr,Br={serialize:Fr,test:jr},en=Object.prototype.toString,xr=Date.prototype.toISOString,kr=Error.prototype.toString,at=RegExp.prototype.toString;function Le(e){return typeof e.constructor=="function"&&e.constructor.name||"Object"}function zr(e){return typeof window<"u"&&e===window}var Ur=/^Symbol\((.*)\)(.*)$/,Yr=/\n/g,tn=class extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}};function Kr(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}function Wr(e){return Object.is(e,-0)?"-0":String(e)}function qr(e){return`${e}n`}function gt(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function ht(e){return String(e).replace(Ur,"Symbol($1)")}function mt(e){return`[${kr.call(e)}]`}function nn(e,t,n,r){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";let i=typeof e;if(i==="number")return Wr(e);if(i==="bigint")return qr(e);if(i==="string")return r?`"${e.replaceAll(/"|\\/g,"\\$&")}"`:`"${e}"`;if(i==="function")return gt(e,t);if(i==="symbol")return ht(e);let l=en.call(e);return l==="[object WeakMap]"?"WeakMap {}":l==="[object WeakSet]"?"WeakSet {}":l==="[object Function]"||l==="[object GeneratorFunction]"?gt(e,t):l==="[object Symbol]"?ht(e):l==="[object Date]"?Number.isNaN(+e)?"Date { NaN }":xr.call(e):l==="[object Error]"?mt(e):l==="[object RegExp]"?n?at.call(e).replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"):at.call(e):e instanceof Error?mt(e):null}function rn(e,t,n,r,i,l){if(i.includes(e))return"[Circular]";i=[...i],i.push(e);let u=++r>t.maxDepth,o=t.min;if(t.callToJSON&&!u&&e.toJSON&&typeof e.toJSON=="function"&&!l)return le(e.toJSON(),t,n,r,i,!0);let s=en.call(e);return s==="[object Arguments]"?u?"[Arguments]":`${o?"":"Arguments "}[${Te(e,t,n,r,i,le)}]`:Kr(s)?u?`[${e.constructor.name}]`:`${o||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${Te(e,t,n,r,i,le)}]`:s==="[object Map]"?u?"[Map]":`Map {${Ce(e.entries(),t,n,r,i,le," => ")}}`:s==="[object Set]"?u?"[Set]":`Set {${Ge(e.values(),t,n,r,i,le)}}`:u||zr(e)?`[${Le(e)}]`:`${o||!t.printBasicPrototype&&Le(e)==="Object"?"":`${Le(e)} `}{${He(e,t,n,r,i,le)}}`}function Vr(e){return e.serialize!=null}function ln(e,t,n,r,i,l){let u;try{u=Vr(e)?e.serialize(t,n,r,i,l,le):e.print(t,o=>le(o,n,r,i,l),o=>{let s=r+n.indent;return s+o.replaceAll(Yr,`
${s}`)},{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(o){throw new tn(o.message,o.stack)}if(typeof u!="string")throw new TypeError(`pretty-format: Plugin must return type "string" but instead returned "${typeof u}".`);return u}function un(e,t){for(let n of e)try{if(n.test(t))return n}catch(r){throw new tn(r.message,r.stack)}return null}function le(e,t,n,r,i,l){let u=un(t.plugins,e);if(u!==null)return ln(u,e,t,n,r,i);let o=nn(e,t.printFunctionName,t.escapeRegex,t.escapeString);return o!==null?o:rn(e,t,n,r,i,l)}var ve={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},on=Object.keys(ve),H={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:Number.POSITIVE_INFINITY,maxWidth:Number.POSITIVE_INFINITY,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:ve};function Gr(e){for(let t of Object.keys(e))if(!Object.prototype.hasOwnProperty.call(H,t))throw new Error(`pretty-format: Unknown option "${t}".`);if(e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.')}function Hr(){return on.reduce((e,t)=>{let n=ve[t],r=n&&ne[n];if(r&&typeof r.close=="string"&&typeof r.open=="string")e[t]=r;else throw new Error(`pretty-format: Option "theme" has a key "${t}" whose value "${n}" is undefined in ansi-styles.`);return e},Object.create(null))}function Jr(){return on.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null))}function cn(e){return(e==null?void 0:e.printFunctionName)??H.printFunctionName}function sn(e){return(e==null?void 0:e.escapeRegex)??H.escapeRegex}function an(e){return(e==null?void 0:e.escapeString)??H.escapeString}function ft(e){return{callToJSON:(e==null?void 0:e.callToJSON)??H.callToJSON,colors:e!=null&&e.highlight?Hr():Jr(),compareKeys:typeof(e==null?void 0:e.compareKeys)=="function"||(e==null?void 0:e.compareKeys)===null?e.compareKeys:H.compareKeys,escapeRegex:sn(e),escapeString:an(e),indent:e!=null&&e.min?"":Xr((e==null?void 0:e.indent)??H.indent),maxDepth:(e==null?void 0:e.maxDepth)??H.maxDepth,maxWidth:(e==null?void 0:e.maxWidth)??H.maxWidth,min:(e==null?void 0:e.min)??H.min,plugins:(e==null?void 0:e.plugins)??H.plugins,printBasicPrototype:(e==null?void 0:e.printBasicPrototype)??!0,printFunctionName:cn(e),spacingInner:e!=null&&e.min?" ":`
`,spacingOuter:e!=null&&e.min?"":`
`}}function Xr(e){return Array.from({length:e+1}).join(" ")}function Q(e,t){if(t&&(Gr(t),t.plugins)){let r=un(t.plugins,e);if(r!==null)return ln(r,e,ft(t),"",0,[])}let n=nn(e,cn(t),sn(t),an(t));return n!==null?n:rn(e,ft(t),"",0,[])}var gn={AsymmetricMatcher:Hn,DOMCollection:tr,DOMElement:gr,Immutable:Cr,ReactElement:Ir,ReactTestComponent:Br},pt={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Zr={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},me="…";function Qr(e,t){let n=pt[Zr[t]]||pt[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function vr({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:i=!1,maxArrayLength:l=1/0,breakLength:u=1/0,seen:o=[],truncate:s=1/0,stylize:a=String}={},c){let g={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!i,maxArrayLength:Number(l),breakLength:Number(u),truncate:Number(s),seen:o,inspect:c,stylize:a};return g.colors&&(g.stylize=Qr),g}function ei(e){return e>="\uD800"&&e<="\uDBFF"}function ue(e,t,n=me){e=String(e);let r=n.length,i=e.length;if(r>t&&i>r)return n;if(i>t&&i>r){let l=t-r;return l>0&&ei(e[l-1])&&(l=l-1),`${e.slice(0,l)}${n}`}return e}function J(e,t,n,r=", "){n=n||t.inspect;let i=e.length;if(i===0)return"";let l=t.truncate,u="",o="",s="";for(let a=0;a<i;a+=1){let c=a+1===e.length,g=a+2===e.length;s=`${me}(${e.length-a})`;let _=e[a];t.truncate=l-u.length-(c?0:r.length);let h=o||n(_,t)+(c?"":r),m=u.length+h.length,f=m+s.length;if(c&&m>l&&u.length+s.length<=l||!c&&!g&&f>l||(o=c?"":n(e[a+1],t)+(g?"":r),!c&&g&&f>l&&m+o.length>l))break;if(u+=h,!c&&!g&&m+o.length>=l){s=`${me}(${e.length-a-1})`;break}s=""}return`${u}${s}`}function ti(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function _e([e,t],n){return n.truncate-=2,typeof e=="string"?e=ti(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function ni(e,t){let n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;let r=J(e,t);t.truncate-=r.length;let i="";return n.length&&(i=J(n.map(l=>[l,e[l]]),t,_e)),`[ ${r}${i?`, ${i}`:""} ]`}var ri=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function ee(e,t){let n=ri(e);t.truncate-=n.length+4;let r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let i="";for(let u=0;u<e.length;u++){let o=`${t.stylize(ue(e[u],t.truncate),"number")}${u===e.length-1?"":", "}`;if(t.truncate-=o.length,e[u]!==e.length&&t.truncate<=3){i+=`${me}(${e.length-e[u]+1})`;break}i+=o}let l="";return r.length&&(l=J(r.map(u=>[u,e[u]]),t,_e)),`${n}[ ${i}${l?`, ${l}`:""} ]`}function ii(e,t){let n=e.toJSON();if(n===null)return"Invalid Date";let r=n.split("T"),i=r[0];return t.stylize(`${i}T${ue(r[1],t.truncate-i.length-1)}`,"date")}function yt(e,t){let n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${ue(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function li([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function ui(e){let t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function oi(e,t){return e.size-1<=0?"Map{}":(t.truncate-=7,`Map{ ${J(ui(e),t,li)} }`)}var ci=Number.isNaN||(e=>e!==e);function _t(e,t){return ci(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(ue(String(e),t.truncate),"number")}function bt(e,t){let n=ue(e.toString(),t.truncate-1);return n!==me&&(n+="n"),t.stylize(n,"bigint")}function si(e,t){let n=e.toString().split("/")[2],r=t.truncate-(2+n.length),i=e.source;return t.stylize(`/${ue(i,r)}/${n}`,"regexp")}function ai(e){let t=[];return e.forEach(n=>{t.push(n)}),t}function gi(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${J(ai(e),t)} }`)}var St=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),hi={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},mi=16,fi=4;function pi(e){return hi[e]||`\\u${`0000${e.charCodeAt(0).toString(mi)}`.slice(-fi)}`}function Et(e,t){return St.test(e)&&(e=e.replace(St,pi)),t.stylize(`'${ue(e,t.truncate-2)}'`,"string")}function Ot(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}var hn=()=>"Promise{…}";try{let{getPromiseDetails:e,kPending:t,kRejected:n}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(hn=(r,i)=>{let[l,u]=e(r);return l===t?"Promise{<pending>}":`Promise${l===n?"!":""}{${i.inspect(u,i)}}`})}catch{}var yi=hn;function we(e,t){let n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.indexOf(e)>=0)return"[Circular]";t.seen.push(e);let i=J(n.map(o=>[o,e[o]]),t,_e),l=J(r.map(o=>[o,e[o]]),t,_e);t.seen.pop();let u="";return i&&l&&(u=", "),`{ ${i}${u}${l} }`}var De=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function _i(e,t){let n="";return De&&De in e&&(n=e[De]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${we(e,t)}`}function bi(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${J(e,t)} ]`)}var Si=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description"];function Ei(e,t){let n=Object.getOwnPropertyNames(e).filter(u=>Si.indexOf(u)===-1),r=e.name;t.truncate-=r.length;let i="";typeof e.message=="string"?i=ue(e.message,t.truncate):n.unshift("message"),i=i?`: ${i}`:"",t.truncate-=i.length+5;let l=J(n.map(u=>[u,e[u]]),t,_e);return`${r}${i}${l?` { ${l} }`:""}`}function Oi([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function ke(e,t){return J(e,t,mn,`
`)}function mn(e,t){let n=e.getAttributeNames(),r=e.tagName.toLowerCase(),i=t.stylize(`<${r}`,"special"),l=t.stylize(">","special"),u=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let o="";n.length>0&&(o+=" ",o+=J(n.map(c=>[c,e.getAttribute(c)]),t,Oi," ")),t.truncate-=o.length;let s=t.truncate,a=ke(e.children,t);return a&&a.length>s&&(a=`${me}(${e.children.length})`),`${i}${o}${l}${a}${u}`}var di=typeof Symbol=="function"&&typeof Symbol.for=="function",Fe=di?Symbol.for("chai/inspect"):"@@chai/inspect",se=!1;try{let e=kn("util");se=e.inspect?e.inspect.custom:!1}catch{se=!1}var dt=new WeakMap,$t={},wt={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:_t,Number:_t,bigint:bt,BigInt:bt,string:Et,String:Et,function:yt,Function:yt,symbol:Ot,Symbol:Ot,Array:ni,Date:ii,Map:oi,Set:gi,RegExp:si,Promise:yi,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:bi,Int8Array:ee,Uint8Array:ee,Uint8ClampedArray:ee,Int16Array:ee,Uint16Array:ee,Int32Array:ee,Uint32Array:ee,Float32Array:ee,Float64Array:ee,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:Ei,HTMLCollection:ke,NodeList:ke},$i=(e,t,n)=>Fe in e&&typeof e[Fe]=="function"?e[Fe](t):se&&se in e&&typeof e[se]=="function"?e[se](t.depth,t):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&dt.has(e.constructor)?dt.get(e.constructor)(e,t):$t[n]?$t[n](e,t):"",wi=Object.prototype.toString;function ze(e,t={}){let n=vr(t,ze),{customInspect:r}=n,i=e===null?"null":typeof e;if(i==="object"&&(i=wi.call(e).slice(8,-1)),i in wt)return wt[i](e,n);if(r&&e){let u=$i(e,n,i);if(u)return typeof u=="string"?u:ze(u,n)}let l=e?Object.getPrototypeOf(e):!1;return l===Object.prototype||l===null?we(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?mn(e,n):"constructor"in e?e.constructor!==Object?_i(e,n):we(e,n):e===Object(e)?we(e,n):n.stylize(String(e),i)}var{AsymmetricMatcher:Ti,DOMCollection:Ci,DOMElement:Ai,Immutable:Ni,ReactElement:Ri,ReactTestComponent:Mi}=gn,Tt=[Mi,Ri,Ai,Ci,Ni,Ti];function be(e,t=10,{maxLength:n,...r}={}){let i=n??1e4,l;try{l=Q(e,{maxDepth:t,escapeString:!1,plugins:Tt,...r})}catch{l=Q(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:Tt,...r})}return l.length>=i&&t>1?be(e,Math.floor(t/2)):l}var Pi=/%[sdjifoOc%]/g;function Ii(...e){if(typeof e[0]!="string"){let l=[];for(let u=0;u<e.length;u++)l.push(pe(e[u],{depth:0,colors:!1}));return l.join(" ")}let t=e.length,n=1,r=e[0],i=String(r).replace(Pi,l=>{if(l==="%%")return"%";if(n>=t)return l;switch(l){case"%s":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:typeof u=="number"&&u===0&&1/u<0?"-0":typeof u=="object"&&u!==null?pe(u,{depth:0,colors:!1}):String(u)}case"%d":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:Number(u).toString()}case"%i":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:Number.parseInt(String(u)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return pe(e[n++],{showHidden:!0,showProxy:!0});case"%O":return pe(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(u){let o=u.message;if(o.includes("circular structure")||o.includes("cyclic structures")||o.includes("cyclic object"))return"[Circular]";throw u}default:return l}});for(let l=e[n];n<t;l=e[++n])l===null||typeof l!="object"?i+=` ${l}`:i+=` ${pe(l)}`;return i}function pe(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),ze(e,t)}function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Di(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function Ue(e){return Object.prototype.toString.apply(e).slice(8,-1)}function Fi(e,t){let n=typeof t=="function"?t:r=>t.add(r);Object.getOwnPropertyNames(e).forEach(n),Object.getOwnPropertySymbols(e).forEach(n)}function fn(e){let t=new Set;return Di(e)?[]:(Fi(e,t),Array.from(t))}var pn={forceWritable:!1};function Ct(e,t=pn){return Ye(e,new WeakMap,t)}function Ye(e,t,n=pn){let r,i;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(i=Array.from({length:r=e.length}),t.set(e,i);r--;)i[r]=Ye(e[r],t,n);return i}if(Object.prototype.toString.call(e)==="[object Object]"){i=Object.create(Object.getPrototypeOf(e)),t.set(e,i);let l=fn(e);for(let u of l){let o=Object.getOwnPropertyDescriptor(e,u);if(!o)continue;let s=Ye(e[u],t,n);n.forceWritable?Object.defineProperty(i,u,{enumerable:o.enumerable,configurable:!0,writable:!0,value:s}):"get"in o?Object.defineProperty(i,u,{...o,get(){return s}}):Object.defineProperty(i,u,{...o,value:s})}return i}return e}function At(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}var F=-1,L=1,R=0,N=class{constructor(e,t){Z(this,0);Z(this,1);this[0]=e,this[1]=t}},ji=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),i=r,l=0;for(;n<i;)e.substring(l,i)===t.substring(l,i)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i},yn=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),i=r,l=0;for(;n<i;)e.substring(e.length-i,e.length-l)===t.substring(t.length-i,t.length-l)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i},Nt=function(e,t){let n=e.length,r=t.length;if(n===0||r===0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));let i=Math.min(n,r);if(e===t)return i;let l=0,u=1;for(;;){let o=e.substring(i-u),s=t.indexOf(o);if(s===-1)return l;u+=s,(s===0||e.substring(i-u)===t.substring(0,u))&&(l=u,u++)}},Bi=function(e){let t=!1,n=[],r=0,i=null,l=0,u=0,o=0,s=0,a=0;for(;l<e.length;)e[l][0]===R?(n[r++]=l,u=s,o=a,s=0,a=0,i=e[l][1]):(e[l][0]===L?s+=e[l][1].length:a+=e[l][1].length,i&&i.length<=Math.max(u,o)&&i.length<=Math.max(s,a)&&(e.splice(n[r-1],0,new N(F,i)),e[n[r-1]+1][0]=L,r--,r--,l=r>0?n[r-1]:-1,u=0,o=0,s=0,a=0,i=null,t=!0)),l++;for(t&&_n(e),zi(e),l=1;l<e.length;){if(e[l-1][0]===F&&e[l][0]===L){let c=e[l-1][1],g=e[l][1],_=Nt(c,g),h=Nt(g,c);_>=h?(_>=c.length/2||_>=g.length/2)&&(e.splice(l,0,new N(R,g.substring(0,_))),e[l-1][1]=c.substring(0,c.length-_),e[l+1][1]=g.substring(_),l++):(h>=c.length/2||h>=g.length/2)&&(e.splice(l,0,new N(R,c.substring(0,h))),e[l-1][0]=L,e[l-1][1]=g.substring(0,g.length-h),e[l+1][0]=F,e[l+1][1]=c.substring(h),l++),l++}l++}},Rt=/[^a-z0-9]/i,Mt=/\s/,Pt=/[\r\n]/,xi=/\n\r?\n$/,ki=/^\r?\n\r?\n/;function zi(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]===R&&e[t+1][0]===R){let n=e[t-1][1],r=e[t][1],i=e[t+1][1],l=yn(n,r);if(l){let c=r.substring(r.length-l);n=n.substring(0,n.length-l),r=c+r.substring(0,r.length-l),i=c+i}let u=n,o=r,s=i,a=de(n,r)+de(r,i);for(;r.charAt(0)===i.charAt(0);){n+=r.charAt(0),r=r.substring(1)+i.charAt(0),i=i.substring(1);let c=de(n,r)+de(r,i);c>=a&&(a=c,u=n,o=r,s=i)}e[t-1][1]!==u&&(u?e[t-1][1]=u:(e.splice(t-1,1),t--),e[t][1]=o,s?e[t+1][1]=s:(e.splice(t+1,1),t--))}t++}}function _n(e){e.push(new N(R,""));let t=0,n=0,r=0,i="",l="",u;for(;t<e.length;)switch(e[t][0]){case L:r++,l+=e[t][1],t++;break;case F:n++,i+=e[t][1],t++;break;case R:n+r>1?(n!==0&&r!==0&&(u=ji(l,i),u!==0&&(t-n-r>0&&e[t-n-r-1][0]===R?e[t-n-r-1][1]+=l.substring(0,u):(e.splice(0,0,new N(R,l.substring(0,u))),t++),l=l.substring(u),i=i.substring(u)),u=yn(l,i),u!==0&&(e[t][1]=l.substring(l.length-u)+e[t][1],l=l.substring(0,l.length-u),i=i.substring(0,i.length-u))),t-=n+r,e.splice(t,n+r),i.length&&(e.splice(t,0,new N(F,i)),t++),l.length&&(e.splice(t,0,new N(L,l)),t++),t++):t!==0&&e[t-1][0]===R?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,r=0,n=0,i="",l="";break}e[e.length-1][1]===""&&e.pop();let o=!1;for(t=1;t<e.length-1;)e[t-1][0]===R&&e[t+1][0]===R&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),o=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),o=!0)),t++;o&&_n(e)}function de(e,t){if(!e||!t)return 6;let n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(Rt),l=r.match(Rt),u=i&&n.match(Mt),o=l&&r.match(Mt),s=u&&n.match(Pt),a=o&&r.match(Pt),c=s&&e.match(xi),g=a&&t.match(ki);return c||g?5:s||a?4:i&&!u&&o?3:u||o?2:i||l?1:0}var bn="Compared values have no visual difference.",Ui="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.",$e={},It;function Yi(){if(It)return $e;It=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.default=_;let e="diff-sequences",t=0,n=(h,m,f,p,b)=>{let E=0;for(;h<m&&f<p&&b(h,f);)h+=1,f+=1,E+=1;return E},r=(h,m,f,p,b)=>{let E=0;for(;h<=m&&f<=p&&b(m,p);)m-=1,p-=1,E+=1;return E},i=(h,m,f,p,b,E,w)=>{let y=0,S=-h,$=E[y],O=$;E[y]+=n($+1,m,p+$-S+1,f,b);let A=h<w?h:w;for(y+=1,S+=2;y<=A;y+=1,S+=2){if(y!==h&&O<E[y])$=E[y];else if($=O+1,m<=$)return y-1;O=E[y],E[y]=$+n($+1,m,p+$-S+1,f,b)}return w},l=(h,m,f,p,b,E,w)=>{let y=0,S=h,$=E[y],O=$;E[y]-=r(m,$-1,f,p+$-S-1,b);let A=h<w?h:w;for(y+=1,S-=2;y<=A;y+=1,S-=2){if(y!==h&&E[y]<O)$=E[y];else if($=O-1,$<m)return y-1;O=E[y],E[y]=$-r(m,$-1,f,p+$-S-1,b)}return w},u=(h,m,f,p,b,E,w,y,S,$,O)=>{let A=p-m,W=f-m,D=b-p-W,P=-D-(h-1),j=-D+(h-1),B=t,q=h<y?h:y;for(let T=0,M=-h;T<=q;T+=1,M+=2){let V=T===0||T!==h&&B<w[T],I=V?w[T]:B,k=V?I:I+1,G=A+k-M,U=n(k+1,f,G+1,b,E),Y=k+U;if(B=w[T],w[T]=Y,P<=M&&M<=j){let v=(h-1-(M+D))/2;if(v<=$&&S[v]-1<=Y){let X=A+I-(V?M+1:M-1),z=r(m,I,p,X,E),K=I-z,re=X-z,ie=K+1,fe=re+1;O.nChangePreceding=h-1,h-1===ie+fe-m-p?(O.aEndPreceding=m,O.bEndPreceding=p):(O.aEndPreceding=ie,O.bEndPreceding=fe),O.nCommonPreceding=z,z!==0&&(O.aCommonPreceding=ie,O.bCommonPreceding=fe),O.nCommonFollowing=U,U!==0&&(O.aCommonFollowing=k+1,O.bCommonFollowing=G+1);let Se=Y+1,Ee=G+U+1;return O.nChangeFollowing=h-1,h-1===f+b-Se-Ee?(O.aStartFollowing=f,O.bStartFollowing=b):(O.aStartFollowing=Se,O.bStartFollowing=Ee),!0}}}return!1},o=(h,m,f,p,b,E,w,y,S,$,O)=>{let A=b-f,W=f-m,D=b-p-W,P=D-h,j=D+h,B=t,q=h<$?h:$;for(let T=0,M=h;T<=q;T+=1,M-=2){let V=T===0||T!==h&&S[T]<B,I=V?S[T]:B,k=V?I:I-1,G=A+k-M,U=r(m,k-1,p,G-1,E),Y=k-U;if(B=S[T],S[T]=Y,P<=M&&M<=j){let v=(h+(M-D))/2;if(v<=y&&Y-1<=w[v]){let X=G-U;if(O.nChangePreceding=h,h===Y+X-m-p?(O.aEndPreceding=m,O.bEndPreceding=p):(O.aEndPreceding=Y,O.bEndPreceding=X),O.nCommonPreceding=U,U!==0&&(O.aCommonPreceding=Y,O.bCommonPreceding=X),O.nChangeFollowing=h-1,h===1)O.nCommonFollowing=0,O.aStartFollowing=f,O.bStartFollowing=b;else{let z=A+I-(V?M-1:M+1),K=n(I,f,z,b,E);O.nCommonFollowing=K,K!==0&&(O.aCommonFollowing=I,O.bCommonFollowing=z);let re=I+K,ie=z+K;h-1===f+b-re-ie?(O.aStartFollowing=f,O.bStartFollowing=b):(O.aStartFollowing=re,O.bStartFollowing=ie)}return!0}}}return!1},s=(h,m,f,p,b,E,w,y,S)=>{let $=p-m,O=b-f,A=f-m,W=b-p,D=W-A,P=A,j=A;if(w[0]=m-1,y[0]=f,D%2===0){let B=(h||D)/2,q=(A+W)/2;for(let T=1;T<=q;T+=1)if(P=i(T,f,b,$,E,w,P),T<B)j=l(T,m,p,O,E,y,j);else if(o(T,m,f,p,b,E,w,P,y,j,S))return}else{let B=((h||D)+1)/2,q=(A+W+1)/2,T=1;for(P=i(T,f,b,$,E,w,P),T+=1;T<=q;T+=1)if(j=l(T-1,m,p,O,E,y,j),T<B)P=i(T,f,b,$,E,w,P);else if(u(T,m,f,p,b,E,w,P,y,j,S))return}throw new Error(`${e}: no overlap aStart=${m} aEnd=${f} bStart=${p} bEnd=${b}`)},a=(h,m,f,p,b,E,w,y,S,$)=>{if(b-p<f-m){if(E=!E,E&&w.length===1){let{foundSubsequence:v,isCommon:X}=w[0];w[1]={foundSubsequence:(z,K,re)=>{v(z,re,K)},isCommon:(z,K)=>X(K,z)}}let U=m,Y=f;m=p,f=b,p=U,b=Y}let{foundSubsequence:O,isCommon:A}=w[E?1:0];s(h,m,f,p,b,A,y,S,$);let{nChangePreceding:W,aEndPreceding:D,bEndPreceding:P,nCommonPreceding:j,aCommonPreceding:B,bCommonPreceding:q,nCommonFollowing:T,aCommonFollowing:M,bCommonFollowing:V,nChangeFollowing:I,aStartFollowing:k,bStartFollowing:G}=$;m<D&&p<P&&a(W,m,D,p,P,E,w,y,S,$),j!==0&&O(j,B,q),T!==0&&O(T,M,V),k<f&&G<b&&a(I,k,f,G,b,E,w,y,S,$)},c=(h,m)=>{if(typeof m!="number")throw new TypeError(`${e}: ${h} typeof ${typeof m} is not a number`);if(!Number.isSafeInteger(m))throw new RangeError(`${e}: ${h} value ${m} is not a safe integer`);if(m<0)throw new RangeError(`${e}: ${h} value ${m} is a negative integer`)},g=(h,m)=>{let f=typeof m;if(f!=="function")throw new TypeError(`${e}: ${h} typeof ${f} is not a function`)};function _(h,m,f,p){c("aLength",h),c("bLength",m),g("isCommon",f),g("foundSubsequence",p);let b=n(0,h,0,m,f);if(b!==0&&p(b,0,0),h!==b||m!==b){let E=b,w=b,y=r(E,h-1,w,m-1,f),S=h-y,$=m-y,O=b+y;h!==O&&m!==O&&a(0,E,S,w,$,!1,[{foundSubsequence:p,isCommon:f}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),y!==0&&p(y,S,$)}}return $e}var Ki=Yi(),Sn=Li(Ki);function Wi(e,t){return e.replace(/\s+$/,n=>t(n))}function et(e,t,n,r,i,l){return e.length!==0?n(`${r} ${Wi(e,i)}`):r!==" "?n(r):t&&l.length!==0?n(`${r} ${l}`):""}function En(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return et(e,t,n,r,i,l)}function On(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return et(e,t,n,r,i,l)}function dn(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return et(e,t,n,r,i,l)}function Lt(e,t,n,r,{patchColor:i}){return i(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function qi(e,t){let n=e.length,r=t.contextLines,i=r+r,l=n,u=!1,o=0,s=0;for(;s!==n;){let y=s;for(;s!==n&&e[s][0]===R;)s+=1;if(y!==s)if(y===0)s>r&&(l-=s-r,u=!0);else if(s===n){let S=s-y;S>r&&(l-=S-r,u=!0)}else{let S=s-y;S>i&&(l-=S-i,o+=1)}for(;s!==n&&e[s][0]!==R;)s+=1}let a=o!==0||u;o!==0?l+=o+1:u&&(l+=1);let c=l-1,g=[],_=0;a&&g.push("");let h=0,m=0,f=0,p=0,b=y=>{let S=g.length;g.push(dn(y,S===0||S===c,t)),f+=1,p+=1},E=y=>{let S=g.length;g.push(En(y,S===0||S===c,t)),f+=1},w=y=>{let S=g.length;g.push(On(y,S===0||S===c,t)),p+=1};for(s=0;s!==n;){let y=s;for(;s!==n&&e[s][0]===R;)s+=1;if(y!==s)if(y===0){s>r&&(y=s-r,h=y,m=y,f=h,p=m);for(let S=y;S!==s;S+=1)b(e[S][1])}else if(s===n){let S=s-y>r?y+r:s;for(let $=y;$!==S;$+=1)b(e[$][1])}else{let S=s-y;if(S>i){let $=y+r;for(let A=y;A!==$;A+=1)b(e[A][1]);g[_]=Lt(h,f,m,p,t),_=g.length,g.push("");let O=S-i;h=f+O,m=p+O,f=h,p=m;for(let A=s-r;A!==s;A+=1)b(e[A][1])}else for(let $=y;$!==s;$+=1)b(e[$][1])}for(;s!==n&&e[s][0]===F;)E(e[s][1]),s+=1;for(;s!==n&&e[s][0]===L;)w(e[s][1]),s+=1}return a&&(g[_]=Lt(h,f,m,p,t)),g.join(`
`)}function Vi(e,t){return e.map((n,r,i)=>{let l=n[1],u=r===0||r===i.length-1;switch(n[0]){case F:return En(l,u,t);case L:return On(l,u,t);default:return dn(l,u,t)}}).join(`
`)}var je=e=>e,$n=5,Gi=0;function Hi(){return{aAnnotation:"Expected",aColor:ne.green,aIndicator:"-",bAnnotation:"Received",bColor:ne.red,bIndicator:"+",changeColor:ne.inverse,changeLineTrailingSpaceColor:je,commonColor:ne.dim,commonIndicator:" ",commonLineTrailingSpaceColor:je,compareKeys:void 0,contextLines:$n,emptyFirstOrLastLinePlaceholder:"",expand:!0,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:ne.yellow,truncateThreshold:Gi,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:je}}function Ji(e){return e&&typeof e=="function"?e:void 0}function Xi(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:$n}function ce(e={}){return{...Hi(),...e,compareKeys:Ji(e.compareKeys),contextLines:Xi(e.contextLines)}}function ae(e){return e.length===1&&e[0].length===0}function Zi(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case F:t+=1;break;case L:n+=1;break}}),{a:t,b:n}}function Qi({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:i,bIndicator:l,includeChangeCounts:u,omitAnnotationLines:o},s){if(o)return"";let a="",c="";if(u){let h=String(s.a),m=String(s.b),f=r.length-e.length,p=" ".repeat(Math.max(0,f)),b=" ".repeat(Math.max(0,-f)),E=m.length-h.length,w=" ".repeat(Math.max(0,E)),y=" ".repeat(Math.max(0,-E));a=`${p}  ${n} ${w}${h}`,c=`${b}  ${l} ${y}${m}`}let g=`${n} ${e}${a}`,_=`${l} ${r}${c}`;return`${t(g)}
${i(_)}

`}function tt(e,t,n){return Qi(n,Zi(e))+(n.expand?Vi(e,n):qi(e,n))+(t?n.truncateAnnotationColor(`
${n.truncateAnnotation}`):"")}function Ne(e,t,n){let r=ce(n),[i,l]=wn(ae(e)?[]:e,ae(t)?[]:t,r);return tt(i,l,r)}function vi(e,t,n,r,i){if(ae(e)&&ae(n)&&(e=[],n=[]),ae(t)&&ae(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return Ne(e,t,i);let[l,u]=wn(n,r,i),o=0,s=0;return l.forEach(a=>{switch(a[0]){case F:a[1]=e[o],o+=1;break;case L:a[1]=t[s],s+=1;break;default:a[1]=t[s],o+=1,s+=1}}),tt(l,u,ce(i))}function wn(e,t,n){let r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0),l=r?Math.min(e.length,i):e.length,u=r?Math.min(t.length,i):t.length,o=l!==e.length||u!==t.length,s=(_,h)=>e[_]===t[h],a=[],c=0,g=0;for(Sn(l,u,s,(_,h,m)=>{for(;c!==h;c+=1)a.push(new N(F,e[c]));for(;g!==m;g+=1)a.push(new N(L,t[g]));for(;_!==0;_-=1,c+=1,g+=1)a.push(new N(R,t[g]))});c!==l;c+=1)a.push(new N(F,e[c]));for(;g!==u;g+=1)a.push(new N(L,t[g]));return[a,o]}function Dt(e){return e.includes(`\r
`)?`\r
`:`
`}function el(e,t,n){let r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0),l=e.length,u=t.length;if(r){let _=e.includes(`
`),h=t.includes(`
`),m=Dt(e),f=Dt(t),p=_?`${e.split(m,i).join(m)}
`:e,b=h?`${t.split(f,i).join(f)}
`:t;l=p.length,u=b.length}let o=l!==e.length||u!==t.length,s=(_,h)=>e[_]===t[h],a=0,c=0,g=[];return Sn(l,u,s,(_,h,m)=>{a!==h&&g.push(new N(F,e.slice(a,h))),c!==m&&g.push(new N(L,t.slice(c,m))),a=h+_,c=m+_,g.push(new N(R,t.slice(m,c)))}),a!==l&&g.push(new N(F,e.slice(a))),c!==u&&g.push(new N(L,t.slice(c))),[g,o]}function tl(e,t,n){return t.reduce((r,i)=>r+(i[0]===R?i[1]:i[0]===e&&i[1].length!==0?n(i[1]):""),"")}var Ft=class{constructor(e,t){Z(this,"op");Z(this,"line");Z(this,"lines");Z(this,"changeColor");this.op=e,this.line=[],this.lines=[],this.changeColor=t}pushSubstring(e){this.pushDiff(new N(this.op,e))}pushLine(){this.lines.push(this.line.length!==1?new N(this.op,tl(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new N(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(e){this.line.push(e)}align(e){let t=e[1];if(t.includes(`
`)){let n=t.split(`
`),r=n.length-1;n.forEach((i,l)=>{l<r?(this.pushSubstring(i),this.pushLine()):i.length!==0&&this.pushSubstring(i)})}else this.pushDiff(e)}moveLinesTo(e){this.isLineEmpty()||this.pushLine(),e.push(...this.lines),this.lines.length=0}},nl=class{constructor(e,t){Z(this,"deleteBuffer");Z(this,"insertBuffer");Z(this,"lines");this.deleteBuffer=e,this.insertBuffer=t,this.lines=[]}pushDiffCommonLine(e){this.lines.push(e)}pushDiffChangeLines(e){let t=e[1].length===0;(!t||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(e),(!t||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(e)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(e){let t=e[0],n=e[1];if(n.includes(`
`)){let r=n.split(`
`),i=r.length-1;r.forEach((l,u)=>{if(u===0){let o=new N(t,l);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(o)):(this.pushDiffChangeLines(o),this.flushChangeLines())}else u<i?this.pushDiffCommonLine(new N(t,l)):l.length!==0&&this.pushDiffChangeLines(new N(t,l))})}else this.pushDiffChangeLines(e)}getLines(){return this.flushChangeLines(),this.lines}};function rl(e,t){let n=new Ft(F,t),r=new Ft(L,t),i=new nl(n,r);return e.forEach(l=>{switch(l[0]){case F:n.align(l);break;case L:r.align(l);break;default:i.align(l)}}),i.getLines()}function il(e,t){if(t){let n=e.length-1;return e.some((r,i)=>r[0]===R&&(i!==n||r[1]!==`
`))}return e.some(n=>n[0]===R)}function ll(e,t,n){if(e!==t&&e.length!==0&&t.length!==0){let r=e.includes(`
`)||t.includes(`
`),[i,l]=Tn(r?`${e}
`:e,r?`${t}
`:t,!0,n);if(il(i,r)){let u=ce(n),o=rl(i,u.changeColor);return tt(o,l,u)}}return Ne(e.split(`
`),t.split(`
`),n)}function Tn(e,t,n,r){let[i,l]=el(e,t,r);return Bi(i),[i,l]}function Ke(e,t){let{commonColor:n}=ce(t);return n(e)}var{AsymmetricMatcher:ul,DOMCollection:ol,DOMElement:cl,Immutable:sl,ReactElement:al,ReactTestComponent:gl}=gn,Cn=[gl,al,cl,ol,sl,ul],We={plugins:Cn},An={callToJSON:!1,maxDepth:10,plugins:Cn};function hl(e,t,n){if(Object.is(e,t))return"";let r=At(e),i=r,l=!1;if(r==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;i=e.getExpectedType(),l=i==="string"}if(i!==At(t)){let{aAnnotation:u,aColor:o,aIndicator:s,bAnnotation:a,bColor:c,bIndicator:g}=ce(n),_=qe(An,n),h=Q(e,_),m=Q(t,_),f=`${o(`${s} ${u}:`)} 
${h}`,p=`${c(`${g} ${a}:`)} 
${m}`;return`${f}

${p}`}if(!l)switch(r){case"string":return Ne(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return ml(e,t,n);case"map":return Be(jt(e),jt(t),n);case"set":return Be(Bt(e),Bt(t),n);default:return Be(e,t,n)}}function ml(e,t,n){let r=Q(e,We),i=Q(t,We);return r===i?"":Ne(r.split(`
`),i.split(`
`),n)}function jt(e){return new Map(Array.from(e.entries()).sort())}function Bt(e){return new Set(Array.from(e.values()).sort())}function Be(e,t,n){let r,i=!1;try{let u=qe(We,n);r=xt(e,t,u,n)}catch{i=!0}let l=Ke(bn,n);if(r===void 0||r===l){let u=qe(An,n);r=xt(e,t,u,n),r!==l&&!i&&(r=`${Ke(Ui,n)}

${r}`)}return r}function qe(e,t){let{compareKeys:n}=ce(t);return{...e,compareKeys:n}}function xt(e,t,n,r){let i={...n,indent:0},l=Q(e,i),u=Q(t,i);if(l===u)return Ke(bn,r);{let o=Q(e,n),s=Q(t,n);return vi(o.split(`
`),s.split(`
`),l.split(`
`),u.split(`
`),r)}}var kt=2e4;function zt(e){return Ue(e)==="Object"&&typeof e.asymmetricMatch=="function"}function Ut(e,t){let n=Ue(e),r=Ue(t);return n===r&&(n==="Object"||n==="Array")}function fl(e,t,n){let{aAnnotation:r,bAnnotation:i}=ce(n);if(typeof e=="string"&&typeof t=="string"&&e.length>0&&t.length>0&&e.length<=kt&&t.length<=kt&&e!==t){if(e.includes(`
`)||t.includes(`
`))return ll(t,e,n);let[a]=Tn(t,e),c=a.some(m=>m[0]===R),g=pl(r,i),_=g(r)+bl(Yt(a,F,c)),h=g(i)+_l(Yt(a,L,c));return`${_}
${h}`}let l=Ct(e,{forceWritable:!0}),u=Ct(t,{forceWritable:!0}),{replacedExpected:o,replacedActual:s}=Nn(l,u);return hl(o,s,n)}function Nn(e,t,n=new WeakSet,r=new WeakSet){return Ut(e,t)?n.has(e)||r.has(t)?{replacedActual:e,replacedExpected:t}:(n.add(e),r.add(t),fn(t).forEach(i=>{let l=t[i],u=e[i];if(zt(l))l.asymmetricMatch(u)&&(e[i]=l);else if(zt(u))u.asymmetricMatch(l)&&(t[i]=u);else if(Ut(u,l)){let o=Nn(u,l,n,r);e[i]=o.replacedActual,t[i]=o.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function pl(...e){let t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}var yl="·";function Rn(e){return e.replace(/\s+$/gm,t=>yl.repeat(t.length))}function _l(e){return ne.red(Rn(be(e)))}function bl(e){return ne.green(Rn(be(e)))}function Yt(e,t,n){return e.reduce((r,i)=>r+(i[0]===R?i[1]:i[0]===t?n?ne.inverse(i[1]):i[1]:""),"")}var Sl="@@__IMMUTABLE_RECORD__@@",El="@@__IMMUTABLE_ITERABLE__@@";function Ol(e){return e&&(e[El]||e[Sl])}var dl=Object.getPrototypeOf({});function Kt(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function ge(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(Ol(e))return ge(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.asymmetricMatch=="function")return`${e.toString()} ${Ii(e.sample)}`;if(typeof e.toJSON=="function")return ge(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){let n=new Array(e.length);return t.set(e,n),e.forEach((r,i)=>{try{n[i]=ge(r,t)}catch(l){n[i]=Kt(l)}}),n}else{let n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==dl;)Object.getOwnPropertyNames(r).forEach(i=>{if(!(i in n))try{n[i]=ge(e[i],t)}catch(l){delete n[i],n[i]=Kt(l)}}),r=Object.getPrototypeOf(r);return n}}function $l(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function Mn(e,t,n=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};let r=e;r.stack&&(r.stackStr=String(r.stack)),r.name&&(r.nameStr=String(r.name)),(r.showDiff||r.showDiff===void 0&&r.expected!==void 0&&r.actual!==void 0)&&(r.diff=fl(r.actual,r.expected,{...t,...r.diffOptions})),typeof r.expected!="string"&&(r.expected=be(r.expected,10)),typeof r.actual!="string"&&(r.actual=be(r.actual,10));try{typeof r.message=="string"&&(r.message=$l(r.message))}catch{}try{!n.has(r)&&typeof r.cause=="object"&&(n.add(r),r.cause=Mn(r.cause,t,n))}catch{}try{return ge(r)}catch(i){return ge(new Error(`Failed to fully serialize error: ${i==null?void 0:i.message}
Inner error message: ${r==null?void 0:r.message}`))}}var wl=(e=>(e.DONE="done",e.ERROR="error",e.ACTIVE="active",e.WAITING="waiting",e))(wl||{}),te={CALL:"storybook/instrumenter/call",SYNC:"storybook/instrumenter/sync",START:"storybook/instrumenter/start",BACK:"storybook/instrumenter/back",GOTO:"storybook/instrumenter/goto",NEXT:"storybook/instrumenter/next",END:"storybook/instrumenter/end"},Wt={start:!1,back:!1,goto:!1,next:!1,end:!1},Tl=new Error("This function ran after the play function completed. Did you forget to `await` it?"),qt=e=>Object.prototype.toString.call(e)==="[object Object]",Cl=e=>Object.prototype.toString.call(e)==="[object Module]",Al=e=>{if(!qt(e)&&!Cl(e))return!1;if(e.constructor===void 0)return!0;let t=e.constructor.prototype;return!!qt(t)},Nl=e=>{try{return new e.constructor}catch{return{}}},xe=()=>({renderPhase:void 0,isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,ancestors:[],playUntil:void 0,resolvers:{},syncTimeout:void 0}),Vt=(e,t=!1)=>{let n=(t?e.shadowCalls:e.calls).filter(i=>i.retain);if(!n.length)return;let r=new Map(Array.from(e.callRefsByResult.entries()).filter(([,i])=>i.retain));return{cursor:n.length,calls:n,callRefsByResult:r}},Rl=class{constructor(){var u;this.initialized=!1,this.channel=xn.getChannel(),this.state=((u=x.window)==null?void 0:u.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__)||{};let e=({storyId:o,isPlaying:s=!0,isDebugging:a=!1})=>{let c=this.getState(o);this.setState(o,{...xe(),...Vt(c,a),shadowCalls:a?c.shadowCalls:[],chainedCallIds:a?c.chainedCallIds:new Set,playUntil:a?c.playUntil:void 0,isPlaying:s,isDebugging:a}),this.sync(o)};this.channel.on(rt,e),this.channel.on(jn,({storyId:o,newPhase:s})=>{let{isDebugging:a}=this.getState(o);this.setState(o,{renderPhase:s}),s==="preparing"&&a&&e({storyId:o}),s==="playing"&&e({storyId:o,isDebugging:a}),s==="played"&&this.setState(o,{isLocked:!1,isPlaying:!1,isDebugging:!1}),s==="errored"&&this.setState(o,{isLocked:!1,isPlaying:!1})}),this.channel.on(Bn,()=>{this.initialized?this.cleanup():this.initialized=!0});let t=({storyId:o,playUntil:s})=>{this.getState(o).isDebugging||this.setState(o,({calls:c})=>({calls:[],shadowCalls:c.map(g=>({...g,status:"waiting"})),isDebugging:!0}));let a=this.getLog(o);this.setState(o,({shadowCalls:c})=>{var _;if(s||!a.length)return{playUntil:s};let g=c.findIndex(h=>h.id===a[0].callId);return{playUntil:(_=c.slice(0,g).filter(h=>h.interceptable&&!h.ancestors.length).slice(-1)[0])==null?void 0:_.id}}),this.channel.emit(rt,{storyId:o,isDebugging:!0})},n=({storyId:o})=>{var c;let s=this.getLog(o).filter(g=>!g.ancestors.length),a=s.reduceRight((g,_,h)=>g>=0||_.status==="waiting"?g:h,-1);t({storyId:o,playUntil:(c=s[a-1])==null?void 0:c.callId})},r=({storyId:o,callId:s})=>{var m;let{calls:a,shadowCalls:c,resolvers:g}=this.getState(o),_=a.find(({id:f})=>f===s),h=c.find(({id:f})=>f===s);if(!_&&h&&Object.values(g).length>0){let f=(m=this.getLog(o).find(p=>p.status==="waiting"))==null?void 0:m.callId;h.id!==f&&this.setState(o,{playUntil:h.id}),Object.values(g).forEach(p=>p())}else t({storyId:o,playUntil:s})},i=({storyId:o})=>{var a;let{resolvers:s}=this.getState(o);if(Object.values(s).length>0)Object.values(s).forEach(c=>c());else{let c=(a=this.getLog(o).find(g=>g.status==="waiting"))==null?void 0:a.callId;c?t({storyId:o,playUntil:c}):l({storyId:o})}},l=({storyId:o})=>{this.setState(o,{playUntil:void 0,isDebugging:!1}),Object.values(this.getState(o).resolvers).forEach(s=>s())};this.channel.on(te.START,t),this.channel.on(te.BACK,n),this.channel.on(te.GOTO,r),this.channel.on(te.NEXT,i),this.channel.on(te.END,l)}getState(e){return this.state[e]||xe()}setState(e,t){var i;let n=this.getState(e),r=typeof t=="function"?t(n):t;this.state={...this.state,[e]:{...n,...r}},(i=x.window)!=null&&i.parent&&(x.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}cleanup(){var t;this.state=Object.entries(this.state).reduce((n,[r,i])=>{let l=Vt(i);return l&&(n[r]=Object.assign(xe(),l)),n},{});let e={controlStates:Wt,logItems:[]};this.channel.emit(te.SYNC,e),(t=x.window)!=null&&t.parent&&(x.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}getLog(e){let{calls:t,shadowCalls:n}=this.getState(e),r=[...n];t.forEach((l,u)=>{r[u]=l});let i=new Set;return r.reduceRight((l,u)=>(u.args.forEach(o=>{o!=null&&o.__callId__&&i.add(o.__callId__)}),u.path.forEach(o=>{o.__callId__&&i.add(o.__callId__)}),(u.interceptable||u.exception)&&!i.has(u.id)&&(l.unshift({callId:u.id,status:u.status,ancestors:u.ancestors}),i.add(u.id)),l),[])}instrument(e,t,n=0){if(!Al(e))return e;let{mutate:r=!1,path:i=[]}=t,l=t.getKeys?t.getKeys(e,n):Object.keys(e);return n+=1,l.reduce((u,o)=>{let s=Pl(e,o);if(typeof(s==null?void 0:s.get)=="function"){let c=()=>{var g,_;return(_=(g=s==null?void 0:s.get)==null?void 0:g.bind(e))==null?void 0:_()};return Object.defineProperty(u,o,{get:()=>this.instrument(c(),{...t,path:i.concat(o)},n)}),u}let a=e[o];return typeof a!="function"?(u[o]=this.instrument(a,{...t,path:i.concat(o)},n),u):"__originalFn__"in a&&typeof a.__originalFn__=="function"?(u[o]=a,u):(u[o]=(...c)=>this.track(o,a,e,c,t),u[o].__originalFn__=a,Object.defineProperty(u[o],"name",{value:o,writable:!1}),Object.keys(a).length>0&&Object.assign(u[o],this.instrument({...a},{...t,path:i.concat(o)},n)),u)},r?e:Nl(e))}track(e,t,n,r,i){var f,p,b,E;let l=((f=r==null?void 0:r[0])==null?void 0:f.__storyId__)||((E=(b=(p=x.__STORYBOOK_PREVIEW__)==null?void 0:p.selectionStore)==null?void 0:b.selection)==null?void 0:E.storyId),{cursor:u,ancestors:o}=this.getState(l);this.setState(l,{cursor:u+1});let s=`${o.slice(-1)[0]||l} [${u}] ${e}`,{path:a=[],intercept:c=!1,retain:g=!1}=i,_=typeof c=="function"?c(e,a):c,h={id:s,cursor:u,storyId:l,ancestors:o,path:a,method:e,args:r,interceptable:_,retain:g},m=(_&&!o.length?this.intercept:this.invoke).call(this,t,n,h,i);return this.instrument(m,{...i,mutate:!0,path:[{__callId__:h.id}]})}intercept(e,t,n,r){let{chainedCallIds:i,isDebugging:l,playUntil:u}=this.getState(n.storyId),o=i.has(n.id);return!l||o||u?(u===n.id&&this.setState(n.storyId,{playUntil:void 0}),this.invoke(e,t,n,r)):new Promise(s=>{this.setState(n.storyId,({resolvers:a})=>({isLocked:!1,resolvers:{...a,[n.id]:s}}))}).then(()=>(this.setState(n.storyId,s=>{let{[n.id]:a,...c}=s.resolvers;return{isLocked:!0,resolvers:c}}),this.invoke(e,t,n,r)))}invoke(e,t,n,r){let{callRefsByResult:i,renderPhase:l}=this.getState(n.storyId),u=25,o=(c,g,_)=>{var h,m,f;if(_.includes(c))return"[Circular]";if(_=[..._,c],g>u)return"...";if(i.has(c))return i.get(c);if(c instanceof Array)return c.map(p=>o(p,++g,_));if(c instanceof Date)return{__date__:{value:c.toISOString()}};if(c instanceof Error){let{name:p,message:b,stack:E}=c;return{__error__:{name:p,message:b,stack:E}}}if(c instanceof RegExp){let{flags:p,source:b}=c;return{__regexp__:{flags:p,source:b}}}if(c instanceof((h=x.window)==null?void 0:h.HTMLElement)){let{prefix:p,localName:b,id:E,classList:w,innerText:y}=c,S=Array.from(w);return{__element__:{prefix:p,localName:b,id:E,classNames:S,innerText:y}}}return typeof c=="function"?{__function__:{name:"getMockName"in c?c.getMockName():c.name}}:typeof c=="symbol"?{__symbol__:{description:c.description}}:typeof c=="object"&&((m=c==null?void 0:c.constructor)!=null&&m.name)&&((f=c==null?void 0:c.constructor)==null?void 0:f.name)!=="Object"?{__class__:{name:c.constructor.name}}:Object.prototype.toString.call(c)==="[object Object]"?Object.fromEntries(Object.entries(c).map(([p,b])=>[p,o(b,++g,_)])):c},s={...n,args:n.args.map(c=>o(c,0,[]))};n.path.forEach(c=>{c!=null&&c.__callId__&&this.setState(n.storyId,({chainedCallIds:g})=>({chainedCallIds:new Set(Array.from(g).concat(c.__callId__))}))});let a=c=>{if(c instanceof Error){let{name:g,message:_,stack:h,callId:m=n.id}=c,{showDiff:f=void 0,diff:p=void 0,actual:b=void 0,expected:E=void 0}=c.name==="AssertionError"?Mn(c):c,w={name:g,message:_,stack:h,callId:m,showDiff:f,diff:p,actual:b,expected:E};if(this.update({...s,status:"error",exception:w}),this.setState(n.storyId,y=>({callRefsByResult:new Map([...Array.from(y.callRefsByResult.entries()),[c,{__callId__:n.id,retain:n.retain}]])})),n.ancestors.length)throw Object.prototype.hasOwnProperty.call(c,"callId")||Object.defineProperty(c,"callId",{value:n.id}),c}throw c};try{if(l==="played"&&!n.retain)throw Tl;let c=(r.getArgs?r.getArgs(n,this.getState(n.storyId)):n.args).map(_=>typeof _!="function"||Object.keys(_).length?_:(...h)=>{let{cursor:m,ancestors:f}=this.getState(n.storyId);this.setState(n.storyId,{cursor:0,ancestors:[...f,n.id]});let p=()=>this.setState(n.storyId,{cursor:m,ancestors:f}),b=!1;try{let E=_(...h);return E instanceof Promise?(b=!0,E.finally(p)):E}finally{b||p()}}),g=e.apply(t,c);return g&&["object","function","symbol"].includes(typeof g)&&this.setState(n.storyId,_=>({callRefsByResult:new Map([...Array.from(_.callRefsByResult.entries()),[g,{__callId__:n.id,retain:n.retain}]])})),this.update({...s,status:g instanceof Promise?"active":"done"}),g instanceof Promise?g.then(_=>(this.update({...s,status:"done"}),_),a):g}catch(c){return a(c)}}update(e){this.channel.emit(te.CALL,e),this.setState(e.storyId,({calls:t})=>{let n=t.concat(e).reduce((r,i)=>Object.assign(r,{[i.id]:i}),{});return{calls:Object.values(n).sort((r,i)=>r.id.localeCompare(i.id,void 0,{numeric:!0}))}}),this.sync(e.storyId)}sync(e){let t=()=>{var a;let{isLocked:n,isPlaying:r}=this.getState(e),i=this.getLog(e),l=(a=i.filter(({ancestors:c})=>!c.length).find(c=>c.status==="waiting"))==null?void 0:a.callId,u=i.some(c=>c.status==="active");if(n||u||i.length===0){let c={controlStates:Wt,logItems:i};this.channel.emit(te.SYNC,c);return}let o=i.some(c=>c.status==="done"||c.status==="error"),s={controlStates:{start:o,back:o,goto:!0,next:r,end:r},logItems:i,pausedAt:l};this.channel.emit(te.SYNC,s)};this.setState(e,({syncTimeout:n})=>(clearTimeout(n),{syncTimeout:setTimeout(t,0)}))}};function Ml(e,t={}){var n,r,i,l,u,o,s,a;try{let c=!1,g=!1;return(i=(r=(n=x.window)==null?void 0:n.location)==null?void 0:r.search)!=null&&i.includes("instrument=true")?c=!0:(o=(u=(l=x.window)==null?void 0:l.location)==null?void 0:u.search)!=null&&o.includes("instrument=false")&&(g=!0),((s=x.window)==null?void 0:s.parent)===x.window&&!c||g?e:(x.window&&!x.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__&&(x.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new Rl),((a=x.window)==null?void 0:a.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__).instrument(e,t))}catch(c){return Fn.warn(c),e}}function Pl(e,t){let n=e;for(;n!=null;){let r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}var{step:Dl}=Ml({step:(e,t,n)=>t(n)},{intercept:!0}),Fl={throwPlayFunctionExceptions:!1};export{Fl as parameters,Dl as runStep};

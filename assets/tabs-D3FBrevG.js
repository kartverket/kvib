import{c as Z}from"./create-slot-recipe-context-KvBbDfRP.js";import{j as m}from"./jsx-runtime-DgHZ7iq2.js";import{r as v}from"./index-C7I6S4tq.js";import{a as I,c as ee}from"./create-split-props-L-tVc3XO.js";import{c as L,o as te,u as ne,v as oe,w as ae,x as re,p as T,y as se,s as ie,z as ce,r as E,n as k,A as ue}from"./create-context-B_OvqDKw.js";import{h as B,r as U,m as h,a as R,c as le,k as de,l as ge,f as fe,n as pe,j as _}from"./factory-C8pPPz6n.js";import{c as V,b as O,d as D,g as me,e as ve,u as Te,n as be}from"./use-event-DluRpvc7.js";import{u as ye}from"./use-environment-context-CwI7sxJj.js";const[$,Ee]=L({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),j=e=>I()(e,["lazyMount","unmountOnExit"]);function he(e,t,n){const o=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&o,present:o,setNode(a){a&&t({type:"NODE.SET",node:a})},unmount(){t({type:"UNMOUNT"})}}}function Re(e){return B({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(t){var n,o;return M((n=t.styles)==null?void 0:n.animationDuration)+M((o=t.styles)==null?void 0:o.animationDelay)+Ne}},actions:{setInitial(t){t.initial=!0},clearInitial(t){t.initial=!1},cleanupNode(t){t.node=null,t.styles=null},invokeOnExitComplete(t){var n;(n=t.onExitComplete)==null||n.call(t)},setNode(t,n){t.node=U(n.node)},setStyles(t,n){const o=n.node.ownerDocument.defaultView||window;t.styles=U(o.getComputedStyle(n.node))},syncPresence(t,n,{send:o}){var s;if(t.present){o({type:"MOUNT",src:"presence.changed"});return}if(!t.present&&((s=t.node)==null?void 0:s.ownerDocument.visibilityState)==="hidden"){o({type:"UNMOUNT",src:"visibilitychange"});return}const a=S(t.styles);(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{var u,l;t.unmountAnimationName=a,a==="none"||a===t.prevAnimationName||((u=t.styles)==null?void 0:u.display)==="none"||((l=t.styles)==null?void 0:l.animationDuration)==="0s"?o({type:"UNMOUNT",src:"presence.changed"}):o({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(t){(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{t.prevAnimationName=S(t.styles)})},clearPrevAnimationName(t){t.prevAnimationName=null}},activities:{trackAnimationEvents(t,n,{send:o}){const a=t.node;if(!a)return;const c=u=>{var g,i;(((i=(g=u.composedPath)==null?void 0:g.call(u))==null?void 0:i[0])??u.target)===a&&(t.prevAnimationName=S(t.styles))},s=u=>{var i,d;const l=S(t.styles);(((d=(i=u.composedPath)==null?void 0:i.call(u))==null?void 0:d[0])??u.target)===a&&l===t.unmountAnimationName&&o({type:"UNMOUNT",src:"animationend"})};return a.addEventListener("animationstart",c),a.addEventListener("animationcancel",s),a.addEventListener("animationend",s),()=>{a.removeEventListener("animationstart",c),a.removeEventListener("animationcancel",s),a.removeEventListener("animationend",s)}}}})}function S(e){return(e==null?void 0:e.animationName)||"none"}function M(e){return parseFloat(e||"0")*1e3}var Ne=16.667;V()(["onExitComplete","present","immediate"]);const Ie=e=>{const{lazyMount:t,unmountOnExit:n,present:o,...a}=e,c=v.useRef(!1),s={...a,present:o,onExitComplete:O(e.onExitComplete)},[u,l]=D(Re(s),{context:s}),g=he(u,l);g.present&&(c.current=!0);const i=!g.present&&!c.current&&t||n&&!g.present&&c.current,d=()=>({"data-state":o?"open":"closed",hidden:!g.present});return{ref:g.setNode,getPresenceProps:d,present:g.present,unmounted:i}},[Pe,He]=L({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var F,y=new Map,Ce=e=>e.getBoundingClientRect();function Ae(e,t){const{scope:n="rect",getRect:o=Ce,onChange:a}=t,c=Se({scope:n,getRect:o}),s=y.get(e);return s?(s.callbacks.push(a),a(o(e))):(y.set(e,{rect:{},callbacks:[a]}),y.size===1&&(F=requestAnimationFrame(c))),function(){const l=y.get(e);if(!l)return;const g=l.callbacks.indexOf(a);g>-1&&l.callbacks.splice(g,1),l.callbacks.length===0&&(y.delete(e),y.size===0&&cancelAnimationFrame(F))}}function Se(e){const{scope:t,getRect:n}=e,o=we(t);return function a(){const c=[];y.forEach((s,u)=>{const l=n(u);o(s.rect,l)||(s.rect=l,c.push(s))}),c.forEach(s=>{s.callbacks.forEach(u=>u(s.rect))}),F=requestAnimationFrame(a)}}var q=(e,t)=>e.width===t.width&&e.height===t.height,W=(e,t)=>e.top===t.top&&e.left===t.left,Ve=(e,t)=>q(e,t)&&W(e,t);function we(e){return e==="size"?q:e==="position"?W:Ve}function Oe(e,t){const[n,o]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(a)}},[e,t]),n}const[z,P]=L({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),X=v.forwardRef((e,t)=>{const[n,o]=I()(e,["value"]),a=P(),c=Ee(),s=Ie({...c,present:Oe(a.value===e.value,0),immediate:!0}),u=h(a.getContentProps(n),s.getPresenceProps(),o);return m.jsx(Pe,{value:s,children:s.unmounted?null:m.jsx(R.div,{...u,ref:le(s.ref,t)})})});X.displayName="TabContent";const H=v.forwardRef((e,t)=>{const n=P(),o=h(n.getIndicatorProps(),e);return m.jsx(R.div,{...o,ref:t})});H.displayName="TabIndicator";const K=v.forwardRef((e,t)=>{const n=P(),o=h(n.getListProps(),e);return m.jsx(R.div,{...o,ref:t})});K.displayName="TabList";const G=v.forwardRef((e,t)=>{const[n,o]=I()(e,["disabled","value"]),a=P(),c=h(a.getTriggerProps(n),o);return m.jsx(R.button,{...c,ref:t})});G.displayName="TabTrigger";const Fe=e=>e.children(P());var Le=ee("tabs").parts("root","list","trigger","content","indicator"),N=Le.build(),r=te({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`tabs:${e.id}`},getListId:e=>{var t;return((t=e.ids)==null?void 0:t.list)??`tabs:${e.id}:list`},getContentId:(e,t)=>{var n;return((n=e.ids)==null?void 0:n.content)??`tabs:${e.id}:content-${t}`},getTriggerId:(e,t)=>{var n;return((n=e.ids)==null?void 0:n.trigger)??`tabs:${e.id}:trigger-${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`tabs:${e.id}:indicator`},getListEl:e=>r.getById(e,r.getListId(e)),getContentEl:(e,t)=>r.getById(e,r.getContentId(e,t)),getTriggerEl:(e,t)=>r.getById(e,r.getTriggerId(e,t)),getIndicatorEl:e=>r.getById(e,r.getIndicatorId(e)),getElements:e=>{const n=`[role=tab][data-ownedby='${CSS.escape(r.getListId(e))}']:not([disabled])`;return ne(r.getListEl(e),n)},getFirstTriggerEl:e=>de(r.getElements(e)),getLastTriggerEl:e=>ge(r.getElements(e)),getNextTriggerEl:(e,t)=>oe(r.getElements(e),r.getTriggerId(e,t),e.loopFocus),getPrevTriggerEl:(e,t)=>ae(r.getElements(e),r.getTriggerId(e,t),e.loopFocus),getSelectedContentEl:e=>{if(e.value)return r.getContentEl(e,e.value)},getSelectedTriggerEl:e=>{if(e.value)return r.getTriggerEl(e,e.value)},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=re(r.getElements(e),r.getTriggerId(e,t));return r.resolveRect(r.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function ke(e,t,n){const o=e.context.translations,a=e.matches("focused"),c=e.context.orientation==="vertical",s=e.context.orientation==="horizontal",u=e.context.composite,l=e.context.indicatorState;function g(i){return{selected:e.context.value===i.value,focused:e.context.focusedValue===i.value,disabled:!!i.disabled}}return{value:e.context.value,focusedValue:e.context.focusedValue,setValue(i){t({type:"SET_VALUE",value:i})},clearValue(){t({type:"CLEAR_VALUE"})},setIndicatorRect(i){const d=r.getTriggerId(e.context,i);t({type:"SET_INDICATOR_RECT",id:d})},syncTabIndex(){t("SYNC_TAB_INDEX")},selectNext(i){t({type:"TAB_FOCUS",value:i,src:"selectNext"}),t({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(i){t({type:"TAB_FOCUS",value:i,src:"selectPrev"}),t({type:"ARROW_PREV",src:"selectPrev"})},focus(){var i;(i=r.getSelectedTriggerEl(e.context))==null||i.focus()},getRootProps(){return n.element({...N.root.attrs,id:r.getRootId(e.context),"data-orientation":e.context.orientation,"data-focus":T(a),dir:e.context.dir})},getListProps(){return n.element({...N.list.attrs,id:r.getListId(e.context),role:"tablist",dir:e.context.dir,"data-focus":T(a),"aria-orientation":e.context.orientation,"data-orientation":e.context.orientation,"aria-label":o==null?void 0:o.listLabel,onKeyDown(i){if(i.defaultPrevented||!se(i)||ie(i))return;const d={ArrowDown(){s||t({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){s||t({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||t({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||t({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){t("HOME")},End(){t("END")},Enter(){t({type:"ENTER"})}};let f=me(i,e.context);const p=d[f];p&&(i.preventDefault(),p(i))}})},getTriggerState:g,getTriggerProps(i){const{value:d,disabled:f}=i,p=g(i);return n.button({...N.trigger.attrs,role:"tab",type:"button",disabled:f,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":T(f),"aria-disabled":f,"data-value":d,"aria-selected":p.selected,"data-selected":T(p.selected),"data-focus":T(p.focused),"aria-controls":p.selected?r.getContentId(e.context,d):void 0,"data-ownedby":r.getListId(e.context),"data-ssr":T(e.context.ssr),id:r.getTriggerId(e.context,d),tabIndex:p.selected&&u?0:-1,onFocus(){t({type:"TAB_FOCUS",value:d})},onBlur(A){const w=A.relatedTarget;(w==null?void 0:w.getAttribute("role"))!=="tab"&&t({type:"TAB_BLUR"})},onClick(A){A.defaultPrevented||f||(ce()&&A.currentTarget.focus(),t({type:"TAB_CLICK",value:d}))}})},getContentProps(i){const{value:d}=i,f=e.context.value===d;return n.element({...N.content.attrs,dir:e.context.dir,id:r.getContentId(e.context,d),tabIndex:u?0:-1,"aria-labelledby":r.getTriggerId(e.context,d),role:"tabpanel","data-ownedby":r.getListId(e.context),"data-selected":T(f),"data-orientation":e.context.orientation,hidden:!f})},getIndicatorProps(){var i,d,f,p;return n.element({id:r.getIndicatorId(e.context),...N.indicator.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,style:{"--transition-property":"left, right, top, bottom, width, height","--left":(i=l.rect)==null?void 0:i.left,"--top":(d=l.rect)==null?void 0:d.top,"--width":(f=l.rect)==null?void 0:f.width,"--height":(p=l.rect)==null?void 0:p.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:l.transition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[s?"left":"top"]:s?"var(--left)":"var(--top)"}})}}}var{not:Ue}=pe;function _e(e){const t=fe(e);return B({initial:"idle",context:{dir:"ltr",orientation:"horizontal",activationMode:"automatic",value:null,loopFocus:!0,composite:!0,...t,focusedValue:t.value??null,ssr:!0,indicatorState:{rendered:!1,transition:!1,rect:{left:"0px",top:"0px",width:"0px",height:"0px"}}},watch:{value:["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","clickIfLink"],dir:["syncIndicatorRect"],orientation:["syncIndicatorRect"]},on:{SET_VALUE:{actions:"setValue"},CLEAR_VALUE:{actions:"clearValue"},SET_INDICATOR_RECT:{actions:"setIndicatorRect"},SYNC_TAB_INDEX:{actions:"syncTabIndex"}},created:["syncFocusedValue"],entry:["checkRenderedElements","syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:"setFocusedValue"},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:"focusPrevTab"}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:"focusNextTab"}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:"focusFirstTab"}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:"focusLastTab"}],ENTER:{guard:Ue("selectOnFocus"),actions:"selectFocusedTab"},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{selectOnFocus:n=>n.activationMode==="automatic"},actions:{syncFocusedValue(n){n.value!=null&&n.focusedValue==null&&(n.focusedValue=n.value)},selectFocusedTab(n){E(()=>{const a=n.deselectable&&n.value===n.focusedValue?null:n.focusedValue;b.value(n,a)})},setFocusedValue(n,o){o.value!=null&&b.focusedValue(n,o.value)},clearFocusedValue(n){b.focusedValue(n,null)},setValue(n,o){const c=n.deselectable&&n.value===n.focusedValue?null:o.value;b.value(n,c)},clearValue(n){b.value(n,null)},focusFirstTab(n){E(()=>{var o;(o=r.getFirstTriggerEl(n))==null||o.focus()})},focusLastTab(n){E(()=>{var o;(o=r.getLastTriggerEl(n))==null||o.focus()})},focusNextTab(n){if(!n.focusedValue)return;const o=r.getNextTriggerEl(n,n.focusedValue);E(()=>{n.composite?o==null||o.focus():(o==null?void 0:o.dataset.value)!=null&&b.focusedValue(n,o.dataset.value)})},focusPrevTab(n){if(!n.focusedValue)return;const o=r.getPrevTriggerEl(n,n.focusedValue);E(()=>{n.composite?o==null||o.focus():(o==null?void 0:o.dataset.value)!=null&&b.focusedValue(n,o.dataset.value)})},checkRenderedElements(n){n.indicatorState.rendered=!!r.getIndicatorEl(n)},syncTabIndex(n){E(()=>{const o=r.getSelectedContentEl(n);if(!o)return;ue(o).length>0?o.removeAttribute("tabindex"):o.setAttribute("tabindex","0")})},cleanupObserver(n){var o;(o=n.indicatorCleanup)==null||o.call(n)},allowIndicatorTransition(n){n.indicatorState.transition=!0},setIndicatorRect(n,o){const a=o.id??n.value;!n.indicatorState.rendered||!a||!r.getTriggerEl(n,a)||(n.indicatorState.rect=r.getRectById(n,a),k(()=>{n.indicatorState.transition=!1}))},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var c;(c=n.indicatorCleanup)==null||c.call(n);const o=n.value;if(!n.indicatorState.rendered||!o)return;const a=r.getSelectedTriggerEl(n);a&&(n.indicatorCleanup=Ae(a,{getRect(s){return r.getOffsetRect(s)},onChange(s){n.indicatorState.rect=r.resolveRect(s),k(()=>{n.indicatorState.transition=!1})}}))},clickIfLink(n){ve(r.getSelectedTriggerEl(n))}}})}var x={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))},focusChange:e=>{var t;e.focusedValue!=null&&((t=e.onFocusChange)==null||t.call(e,{focusedValue:e.focusedValue}))}},b={value:(e,t)=>{_(t,e.value)||(e.value=t,x.change(e))},focusedValue:(e,t)=>{_(t,e.focusedValue)||(e.focusedValue=t,x.focusChange(e))}};V()(["activationMode","composite","dir","getRootNode","id","ids","loopFocus","onFocusChange","onValueChange","orientation","translations","deselectable","value"]);V()(["disabled","value"]);V()(["value"]);const Me=(e={})=>{const{getRootNode:t}=ye(),{dir:n}=Te(),o={id:v.useId(),dir:n,getRootNode:t,value:e.defaultValue,...e},a={...o,value:e.value,onValueChange:O(e.onValueChange,{sync:!0}),onFocusChange:O(e.onFocusChange)},[c,s]=D(_e(o),{context:a});return ke(c,s,be)},Y=v.forwardRef((e,t)=>{const[n,o]=j(e),[a,c]=I()(o,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","onFocusChange","onValueChange","orientation","translations","value"]),s=Me(a),u=h(s.getRootProps(),c);return m.jsx(z,{value:s,children:m.jsx($,{value:n,children:m.jsx(R.div,{...u,ref:t})})})});Y.displayName="TabsRoot";const J=v.forwardRef((e,t)=>{const[n,o]=j(e),[{value:a},c]=I()(o,["value"]),s=h(a.getRootProps(),c);return m.jsx(z,{value:a,children:m.jsx($,{value:n,children:m.jsx(R.div,{...s,ref:t})})})});J.displayName="TabsRootProvider";const{withProvider:Q,withContext:C,useStyles:Ke,PropsProvider:xe}=Z({key:"tabs"}),Ge=Q(J,"root",{forwardAsChild:!0}),Ye=Q(Y,"root",{forwardAsChild:!0}),Je=xe,Qe=C(G,"trigger",{forwardAsChild:!0}),Ze=C(X,"content",{forwardAsChild:!0}),et=C("div","contentGroup"),tt=C(K,"list",{forwardAsChild:!0}),nt=C(H,"indicator",{forwardAsChild:!0}),ot=Fe;export{Pe as P,$ as R,Ye as T,tt as a,Qe as b,Ze as c,Ie as d,He as e,et as f,ot as g,nt as h,Je as i,Ge as j,Me as k,P as l,Ke as m,j as s,Ae as t,Ee as u};

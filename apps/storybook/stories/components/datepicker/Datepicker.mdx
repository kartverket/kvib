import * as DatepickerStories from "./Datepicker.stories";
import { Canvas, Meta, Controls, Story } from "@storybook/blocks";
import { DocsHeading, DocsAnatomy, DocsContainer, DocsStory, Feedback } from "../../templates";
import { Alert, AlertIcon, AlertDescription } from "@kvib/react/src/alert";
import { Text, Code, Box } from "@kvib/react/src/";

<Meta of={DatepickerStories} />

# Datepicker

Datepicker kombinerer et inputfelt med en popoverkalender hvor brukere kan velge dato.

```jsx
import { Datepicker } from "@kvib/react";
```

<DocsContainer>

**Egnet til:**

- Velge en dato

**Uegnet til:**

- Valg av dato langt tilbake eller frem i tid

<Feedback component="Datepicker" />

</DocsContainer>

<DocsHeading>Alternativer</DocsHeading>
<DocsContainer>
  <DocsStory
    title="Flere detaljer"
    description={
      <Text>
        Popoverkalenderen i datepicker kommer som standard uten ekstra detaljer om måneden. For å legge til ukenummer,
        legg til propen <Code>showWeekNumber</Code>. Legg til propen <Code>showOutsideDays</Code> for å fylle ut
        kalenderen med dager som ikke er i samme måned.
      </Text>
    }
    story={<Canvas of={DatepickerStories.DatepickerDetails} />}
  />
  <DocsStory
    title="Datoområde"
    description={
      <Text>
        Det er mulig å sette hvilke datoer som er tilgjengelige å velge mellom ved bruk av <Code>fromDate</Code> og
        <Code>toDate</Code>. Dersom det går over flere år eller måneder burde <Code>
          showDropdownMonthYear
        </Code> være true. Den gjør det mulig å velge mellom måneder og år mer effektivt. For å fjerne spesifikke dager kan man bruke
        <Code>disabledDays</Code>.
      </Text>
    }
    story={<Canvas of={DatepickerStories.DatepickerArea} />}

/>

<DocsStory
  title="Datepicker i form"
  description={
    <Text>
      Ved å benytte seg av Datepicker sammen med <Code>Form Control</Code> vil du få kontekst som <Code>isInvalid</Code>
      ,<Code>isDisabled</Code> og
      <Code>isRequired</Code>. Slik vil det også være enkelt å legge til en label.
    </Text>
  }
  story={<Canvas of={DatepickerStories.DatepickerForm} />}
/>

<DocsStory
  title="Utseende"
  description={
    <Box>
      <Text>
        Datepicker har fire forskjellige varianter for inputfeltet. Disse er <Code>"outline"</Code>,{" "}
        <Code>"filled"</Code>, <Code>"flushed"</Code> og
        <Code>"unstyled"</Code>. I de fleste tilfeller vil <Code>outline</Code> være passende. Det er fire forskjellige størrelser
        fra <Code>"xs"</Code> til
        <Code>"lg"</Code>. Her vil md passe i de fleste tilfeller.
      </Text>
      <Text>
        Det er mulig å velge mellom to colorSchemes: <Code>"blue"</Code> og <Code>"green"</Code>
      </Text>
    </Box>
  }
  story={<Canvas of={DatepickerStories.DatepickerAppearance} />}
/>

</DocsContainer>

<DocsHeading>Retningslinjer</DocsHeading>

<DocsContainer>
### Vurder om Datepicker er den rette løsningen for deg

Datepicker gjør det enkelt for brukere å navigere gjennom datoer innenfor en bestemt tidsperiode. Imidlertid kan det oppstå utfordringer når den skal dekke lengre tidsrom. For eksempel, når brukeren skal velge et år som ligger langt frem eller tilbake i tid, kan det bli nødvendig å bla gjennom en lang liste med 50 eller flere alternativer i en nedtrekksmeny.

Datovelgere er komplekse komponenter, og i noen tilfeller kan det være mer brukervennlig å la brukeren skrive inn datoen manuelt i en vanlig input. [Forskning utført av Gov.uk](https://design-system.service.gov.uk/patterns/dates/) viser at det kan være en fordel å tilby et enkelt tekstfelt fremfor en interaktiv datovelger.

### Label

Datepicker skal alltid ha en label. Dersom Datepicker av en eller annen grunn ikke har label må en `aria-label` legges til for å tilfredsstille tilgjengelighetskrav.

### Native datepicker på mobil

Datepicker har som standard satt `useNative` til true. Den proppen bestemmer om Datepicker skal bruke native dropdown-kalender på mobil ({`<`}480 px). Native Datepicker for mobil er optimalisert for touch, samtidig som brukeren allerede er vant til den.
Med native datepicker vil ikke de følgende proppene bli brukt på mobil: `showDropdownMonthYear`, `showOutsideDays`, `showWeekNumber`, `disabledDays`. Det er anbefalt å bruke native Datepicker på mobil, men det er fullt mulig å sette `useNative={false}` for å benytte seg av alle props.

### Date

Datepicker returnerer datoer i [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)-format. Du må selv ta deg av konvertering til ønsket format og da evt tidssoner. I selve komponenten bruker vi [date-fns](https://date-fns.org/) for parsing.

</DocsContainer>

<DocsHeading>Props</DocsHeading>
<Canvas of={DatepickerStories.Datepicker} />
<Controls of={DatepickerStories.Datepicker} />
